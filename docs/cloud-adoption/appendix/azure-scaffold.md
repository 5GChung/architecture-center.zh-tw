---
title: 企業移至 Azure 的最佳做法
description: 說明企業可用來確保安全且可管理環境的 Scaffold。
author: rdendtler
ms.author: rodend
ms.date: 9/22/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: enterprise-cloud-adoption
ms.openlocfilehash: 86ac3a1c696479279962a17b01c2df73fb5a9849
ms.sourcegitcommit: 273e690c0cfabbc3822089c7d8bc743ef41d2b6e
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 02/08/2019
ms.locfileid: "55898318"
---
# <a name="azure-enterprise-scaffold-prescriptive-subscription-governance"></a><span data-ttu-id="c98b6-103">Azure 企業 Scaffold：規定的訂用帳戶治理</span><span class="sxs-lookup"><span data-stu-id="c98b6-103">Azure enterprise scaffold: Prescriptive subscription governance</span></span>

<span data-ttu-id="c98b6-104">企業日漸採用公用雲端，以獲取其靈活度和彈性。</span><span class="sxs-lookup"><span data-stu-id="c98b6-104">Enterprises are increasingly adopting the public cloud for its agility and flexibility.</span></span> <span data-ttu-id="c98b6-105">它們利用雲端的優勢來產生收益，並讓企業的資源運用達到最佳化。</span><span class="sxs-lookup"><span data-stu-id="c98b6-105">They utilize the cloud's strengths to generate revenue and optimize resource usage for the business.</span></span> <span data-ttu-id="c98b6-106">Microsoft Azure 提供許多服務和功能，企業可以像堆積木一樣組合這些服務，以處理各式各樣的工作負載和應用程式。</span><span class="sxs-lookup"><span data-stu-id="c98b6-106">Microsoft Azure provides a multitude of services and capabilities that enterprises assemble like building blocks to address a wide array of workloads and applications.</span></span>

<span data-ttu-id="c98b6-107">決定使用 Microsoft Azure 只是獲得雲端優勢的第一步。</span><span class="sxs-lookup"><span data-stu-id="c98b6-107">Deciding to use Microsoft Azure is only the first step to achieving the benefit of the cloud.</span></span> <span data-ttu-id="c98b6-108">第二步是了解企業可如何有效地使用 Azure，並找出需要先準備的基本功能，以處理類似下列的問題：</span><span class="sxs-lookup"><span data-stu-id="c98b6-108">The second step is understanding how the enterprise can effectively use Azure and identify the baseline capabilities that need to be in place to address questions like:</span></span>

* <span data-ttu-id="c98b6-109">「我擔心資料主權的問題；該如何確保我的資料和系統符合法規需求？」</span><span class="sxs-lookup"><span data-stu-id="c98b6-109">"I'm concerned about data sovereignty; how can I ensure that my data and systems meet our regulatory requirements?"</span></span>
* <span data-ttu-id="c98b6-110">「如何知道每個資源支援什麼，才能精準地斟酌考量並回收成本？」</span><span class="sxs-lookup"><span data-stu-id="c98b6-110">"How do I know what each resource is supporting so I can account for it and bill it back accurately?"</span></span>
* <span data-ttu-id="c98b6-111">「我想要確保在公用雲端中部署或執行的一切事項都以安全第一的思維作為前提，我該如何推動這件事？」</span><span class="sxs-lookup"><span data-stu-id="c98b6-111">"I want to make sure that everything we deploy or do in the public cloud starts with the mindset of security first, how do I help facilitate that?"</span></span>

<span data-ttu-id="c98b6-112">不必期望空的訂用帳戶不需任何防護措施。</span><span class="sxs-lookup"><span data-stu-id="c98b6-112">The prospect of an empty subscription with no guard rails is daunting.</span></span> <span data-ttu-id="c98b6-113">這個空白空間可能會阻礙您移至 Azure。</span><span class="sxs-lookup"><span data-stu-id="c98b6-113">This blank space can hamper your move to Azure.</span></span>

<span data-ttu-id="c98b6-114">本文是技術專業人員處理治理需求並以靈活度需求加以平衡的起點。</span><span class="sxs-lookup"><span data-stu-id="c98b6-114">This article provides a starting point for technical professionals to address the need for governance and balance it with the need for agility.</span></span> <span data-ttu-id="c98b6-115">文中介紹企業 Scaffold 的概念，引導組織以安全的方式來實作和管理其 Azure 環境。</span><span class="sxs-lookup"><span data-stu-id="c98b6-115">It introduces the concept of an enterprise scaffold that guides organizations in implementing and managing their Azure environments in a secure way.</span></span> <span data-ttu-id="c98b6-116">其中提供的架構可用來開發有效且高效率的控制項。</span><span class="sxs-lookup"><span data-stu-id="c98b6-116">It provides the framework to develop effective and efficient controls.</span></span>

## <a name="need-for-governance"></a><span data-ttu-id="c98b6-117">治理需求</span><span class="sxs-lookup"><span data-stu-id="c98b6-117">Need for governance</span></span>

<span data-ttu-id="c98b6-118">移至 Azure 時，您必須處理早期治理主題，以確保在企業內成功使用雲端。</span><span class="sxs-lookup"><span data-stu-id="c98b6-118">When moving to Azure, you must address the topic of governance early to ensure the successful use of the cloud within the enterprise.</span></span> <span data-ttu-id="c98b6-119">不幸的是，建立全方位治理系統的時間和體系表示某些事業群會直接接洽提供者，而不需企業 IT 部門參與。</span><span class="sxs-lookup"><span data-stu-id="c98b6-119">Unfortunately, the time and bureaucracy of creating a comprehensive governance system means some business groups go directly to providers without involving enterprise IT.</span></span> <span data-ttu-id="c98b6-120">如果沒有妥善管理資源，這種方法可能會讓企業遭受攻擊。</span><span class="sxs-lookup"><span data-stu-id="c98b6-120">This approach can leave the enterprise open to compromise if the resources are not properly managed.</span></span> <span data-ttu-id="c98b6-121">公用雲端的特性包含靈活度、彈性和以取用量為基礎的價格，這些特性對於必須快速滿足 (內部和外部) 客戶需求的事業群而言極為重要。</span><span class="sxs-lookup"><span data-stu-id="c98b6-121">The characteristics of the public cloud - agility, flexibility, and consumption-based pricing - are important to business groups that need to quickly meet the demands of customers (both internal and external).</span></span> <span data-ttu-id="c98b6-122">但是，企業 IT 部門需要確保資料和系統受到有效的保護。</span><span class="sxs-lookup"><span data-stu-id="c98b6-122">But, enterprise IT needs to ensure that data and systems are effectively protected.</span></span>

<span data-ttu-id="c98b6-123">建立建築物時，我們使用 Scaffold (鷹架) 來建立結構的基礎。</span><span class="sxs-lookup"><span data-stu-id="c98b6-123">When creating a building, scaffolding is used to create the basis of a structure.</span></span> <span data-ttu-id="c98b6-124">Scaffold 可引導出大致輪廓，並可為即將裝載的永久系統提供更多錨點。</span><span class="sxs-lookup"><span data-stu-id="c98b6-124">The scaffold guides the general outline and provides anchor points for more permanent systems to be mounted.</span></span> <span data-ttu-id="c98b6-125">企業 Scaffold 也是如此︰一組有彈性的控制項和可提供環境結構的 Azure 功能，以及公用雲端上所建置服務的錨點。</span><span class="sxs-lookup"><span data-stu-id="c98b6-125">An enterprise scaffold is the same: a set of flexible controls and Azure capabilities that provide structure to the environment, and anchors for services built on the public cloud.</span></span> <span data-ttu-id="c98b6-126">這為有交期壓力的建置者 (IT 和事業群) 提供建立和附加新服務的基礎。</span><span class="sxs-lookup"><span data-stu-id="c98b6-126">It provides the builders (IT and business groups) a foundation to create and attach new services keeping speed of delivery in mind.</span></span>

<span data-ttu-id="c98b6-127">Scaffold 是以我們經由與各種規模的用戶端合作而蒐集到的實務作法為基礎。</span><span class="sxs-lookup"><span data-stu-id="c98b6-127">The scaffold is based on practices we have gathered from many engagements with clients of various sizes.</span></span> <span data-ttu-id="c98b6-128">這些用戶端包含在雲端開發解決方案的小型組織，以至大型跨國企業和遷移工作負載及開雲端原生發解決方案的獨立軟體廠商。</span><span class="sxs-lookup"><span data-stu-id="c98b6-128">Those clients range from small organizations developing solutions in the cloud to large multi-national enterprises and independent software vendors who are migrating workloads and developing cloud-native solutions.</span></span> <span data-ttu-id="c98b6-129">企業 Scaffold 是「為了特定目的而建置」成彈性支援傳統 IT 工作負載和敏捷式工作負載；例如，開發人員會建立以 Azure 平台功能為基礎的軟體即服務 (SaaS) 應用程式。</span><span class="sxs-lookup"><span data-stu-id="c98b6-129">The enterprise scaffold is "purpose-built" to be flexible to support both traditional IT workloads and agile workloads; such as, developers creating software-as-a-service (SaaS) applications based on Azure platform capabilities.</span></span>

<span data-ttu-id="c98b6-130">企業 Scaffold 的用意是要成為 Azure 中每個新訂用帳戶的基礎。</span><span class="sxs-lookup"><span data-stu-id="c98b6-130">The enterprise scaffold is intended to be the foundation of each new subscription within Azure.</span></span> <span data-ttu-id="c98b6-131">它可讓系統管理員確保工作負載符合組織的最低治理需求，而不會阻礙事業群和開發人員快速達成他們自己的目標。</span><span class="sxs-lookup"><span data-stu-id="c98b6-131">It enables administrators to ensure workloads meet the minimum governance requirements of an organization without preventing business groups and developers from quickly meeting their own goals.</span></span> <span data-ttu-id="c98b6-132">根據我們的經驗，這不會造成阻礙，反而是大幅加快公用雲端的成長。</span><span class="sxs-lookup"><span data-stu-id="c98b6-132">Our experience shows that this greatly speeds, rather than impedes, public cloud growth.</span></span>

> [!NOTE]
> <span data-ttu-id="c98b6-133">Microsoft 已發行稱為[Azure 藍圖](/azure/governance/blueprints/overview)的新功能預覽，此功能可讓您封裝、管理及部署訂用帳戶和管理群組上常用的映像、範本、原則和指令碼。</span><span class="sxs-lookup"><span data-stu-id="c98b6-133">Microsoft has released into preview a new capability called [Azure Blueprints](/azure/governance/blueprints/overview) that will enable you to package, manage, and deploy common images, templates, policies, and scripts across subscriptions and management groups.</span></span> <span data-ttu-id="c98b6-134">這項功能像是座橋梁，以 Scaffold 的目的作為參考模型，然後將該模型部署到您的組織。</span><span class="sxs-lookup"><span data-stu-id="c98b6-134">This capability is the bridge between the scaffold's purpose as reference model and deploying that model to your organization.</span></span>
>
<span data-ttu-id="c98b6-135">下圖顯示 Scaffold 的元件。</span><span class="sxs-lookup"><span data-stu-id="c98b6-135">The following image shows the components of the scaffold.</span></span> <span data-ttu-id="c98b6-136">其基礎依賴於管理階層和訂用帳戶的可靠計畫。</span><span class="sxs-lookup"><span data-stu-id="c98b6-136">The foundation relies on a solid plan for the management hierarchy and subscriptions.</span></span> <span data-ttu-id="c98b6-137">其要件是由 Resource Manager 原則和強大的命名標準所組成。</span><span class="sxs-lookup"><span data-stu-id="c98b6-137">The pillars consist of Resource Manager policies and strong naming standards.</span></span> <span data-ttu-id="c98b6-138">Scaffold 的其餘部分是 Azure 核心功能，而這些功能可打造出安全且易於管理的環境，並與之連線。</span><span class="sxs-lookup"><span data-stu-id="c98b6-138">The rest of the scaffold are core Azure capabilities and features that enable and connect a secure and manageable environment.</span></span>

![企業 Scaffold](./_images/scaffoldv2.png)

## <a name="define-your-hierarchy"></a><span data-ttu-id="c98b6-140">定義您的階層</span><span class="sxs-lookup"><span data-stu-id="c98b6-140">Define your hierarchy</span></span>

<span data-ttu-id="c98b6-141">Scaffold 的基礎是階層和直達訂用帳戶和資源群組的 Azure Enterprise 註冊關聯性。</span><span class="sxs-lookup"><span data-stu-id="c98b6-141">The foundation of the scaffold is the hierarchy and relationship of the Azure Enterprise Enrollment through to subscriptions and resource groups.</span></span> <span data-ttu-id="c98b6-142">Enterprise 註冊會以合約的角度來定義公司內部的 Azure 服務形式和用途。</span><span class="sxs-lookup"><span data-stu-id="c98b6-142">The enterprise enrollment defines the shape and use of Azure services within your company from a contractual point of view.</span></span> <span data-ttu-id="c98b6-143">在企業合約中，您可以進一步將環境細分成部門、帳戶和最終的訂用帳戶和資源群組，以符合您組織的結構。</span><span class="sxs-lookup"><span data-stu-id="c98b6-143">Within the enterprise agreement, you can further subdivide the environment into departments, accounts, and finally, subscriptions and resource groups to match your organization's structure.</span></span>

![階層](./_images/agreement.png)

<span data-ttu-id="c98b6-145">Azure 訂用帳戶是內含所有資源的基本單位。</span><span class="sxs-lookup"><span data-stu-id="c98b6-145">An Azure subscription is the basic unit where all resources are contained.</span></span> <span data-ttu-id="c98b6-146">它也可在 Azure 中定義數個限制，例如核心、虛擬網路和其他資源的數目。</span><span class="sxs-lookup"><span data-stu-id="c98b6-146">It also defines several limits within Azure, such as number of cores, virtual networks and other resources.</span></span> <span data-ttu-id="c98b6-147">Azure 資源群組可用來進一步改善訂用帳戶模型，並以更自然的方式建立資源群組。</span><span class="sxs-lookup"><span data-stu-id="c98b6-147">Azure Resource Groups are used to further refine the subscription model and enable a more natural grouping of resources.</span></span>

<span data-ttu-id="c98b6-148">每個企業都不同，上圖中的階層對於在公司內組織 Azure 的方式容許極大的彈性。</span><span class="sxs-lookup"><span data-stu-id="c98b6-148">Every enterprise is different and the hierarchy in the above image allows for significant flexibility in how Azure is organized within your company.</span></span> <span data-ttu-id="c98b6-149">當您要開始在公用雲端中作業時，模型化階層以反映公司的計費、資源管理和資源存取需求是最優先也是最重要&mdash;&mdash;的決策。</span><span class="sxs-lookup"><span data-stu-id="c98b6-149">Modeling your hierarchy to reflect the needs of your company for billing, resource management, and resource access is the first &mdash; and most important &mdash; decision you make when starting in the public cloud.</span></span>

### <a name="departments-and-accounts"></a><span data-ttu-id="c98b6-150">部門和帳戶</span><span class="sxs-lookup"><span data-stu-id="c98b6-150">Departments and Accounts</span></span>

<span data-ttu-id="c98b6-151">Azure Enrollment 的三個常見模式如下︰</span><span class="sxs-lookup"><span data-stu-id="c98b6-151">The three common patterns for Azure Enrollments are:</span></span>

* <span data-ttu-id="c98b6-152">**功能**模式</span><span class="sxs-lookup"><span data-stu-id="c98b6-152">The **functional** pattern</span></span>

    ![函數](./_images/functional.png)
* <span data-ttu-id="c98b6-154">**業務單位**模式</span><span class="sxs-lookup"><span data-stu-id="c98b6-154">The **business unit** pattern</span></span>

    ![業務](./_images/business.png)
* <span data-ttu-id="c98b6-156">**地理**模式</span><span class="sxs-lookup"><span data-stu-id="c98b6-156">The **geographic** pattern</span></span>

    ![地理](./_images/geographic.png)

<span data-ttu-id="c98b6-158">雖然這些模式中的每一個都有其作用，但愈來愈多人採用**業務單位**模式，因為在模型化組織成本模型及反映控制範圍上，此模式具有高度彈性。</span><span class="sxs-lookup"><span data-stu-id="c98b6-158">Though each of these patterns has its place, the **business unit** pattern is increasingly being adopted for its flexibility in modeling an organization's cost model as well as reflecting span of control.</span></span> <span data-ttu-id="c98b6-159">Microsoft 核心工程及作業群組已建立**業務單位**模式的子集，可有效地根據**聯邦**、**州**及**地方**來建立模型。</span><span class="sxs-lookup"><span data-stu-id="c98b6-159">Microsoft Core Engineering and Operations group has created a sub-set of the **business unit** pattern that is very effective, modeled on **Federal**, **State**, and **Local**.</span></span> <span data-ttu-id="c98b6-160">(如需詳細資訊，請參閱[組織企業內的訂用帳戶和資源群組](https://azure.microsoft.com/blog/organizing-subscriptions-and-resource-groups-within-the-enterprise/)。)</span><span class="sxs-lookup"><span data-stu-id="c98b6-160">(For more information, see [Organizing subscriptions and resource groups within the Enterprise](https://azure.microsoft.com/blog/organizing-subscriptions-and-resource-groups-within-the-enterprise/).)</span></span>

### <a name="azure-management-groups"></a><span data-ttu-id="c98b6-161">Azure 管理群組</span><span class="sxs-lookup"><span data-stu-id="c98b6-161">Azure management groups</span></span>

<span data-ttu-id="c98b6-162">Microsoft 最近發行模型化階層的新方法：[Azure 管理群組](/azure/azure-resource-manager/management-groups-overview)。</span><span class="sxs-lookup"><span data-stu-id="c98b6-162">Microsoft has recently released a new way of modeling your hierarchy: [Azure management groups](/azure/azure-resource-manager/management-groups-overview).</span></span> <span data-ttu-id="c98b6-163">管理群組會比部門及帳戶更有彈性，並可以建立多達六個層級的巢狀結構。</span><span class="sxs-lookup"><span data-stu-id="c98b6-163">Management groups are much more flexible than departments and accounts and can be nested up to six levels.</span></span> <span data-ttu-id="c98b6-164">管理群組可讓您建立與計費階層分開的階層，只為了讓您更有效率地管理資源。</span><span class="sxs-lookup"><span data-stu-id="c98b6-164">Management groups allow you to create a hierarchy that is separate from your billing hierarchy, solely for efficient management of resources.</span></span> <span data-ttu-id="c98b6-165">管理群組可以反映您的計費階層，而且企業通常會以此方式作為起點。</span><span class="sxs-lookup"><span data-stu-id="c98b6-165">Management groups can mirror your billing hierarchy and often enterprises start that way.</span></span> <span data-ttu-id="c98b6-166">不過，管理群組的強大功能是：當相關訂用帳戶 (無論位在計費階層中何處&mdash;&mdash;) 群組在一起，而且需要獲派常見角色、原則及計畫時，即可使用這些管理群組為組織建立模型。</span><span class="sxs-lookup"><span data-stu-id="c98b6-166">However, the power of management groups is when you use them to model your organization where related subscriptions &mdash; regardless where they are in the billing hierarchy &mdash; are grouped together and need common roles assigned as well as policies and initiatives.</span></span> <span data-ttu-id="c98b6-167">幾個範例：</span><span class="sxs-lookup"><span data-stu-id="c98b6-167">A few examples:</span></span>

* <span data-ttu-id="c98b6-168">**生產/非生產**。</span><span class="sxs-lookup"><span data-stu-id="c98b6-168">**Production/Non-Production**.</span></span> <span data-ttu-id="c98b6-169">有些企業會建立管理群組來識別其生產和非生產訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="c98b6-169">Some enterprises create management groups to identify their production and non-production subscriptions.</span></span> <span data-ttu-id="c98b6-170">管理群組可讓這些客戶更輕鬆地管理角色和原則，例如：非生產訂用帳戶可能會允許開發人員具有「參與者」存取權，但在生產訂用帳戶中，他們只具有「讀者」存取權。</span><span class="sxs-lookup"><span data-stu-id="c98b6-170">Management groups allow these customers to more easily manage roles and policies, for example: non-production subscription may allow developers "contributor" access, but in production, they have only "reader" access.</span></span>
* <span data-ttu-id="c98b6-171">**內部的服務/外部服務**。</span><span class="sxs-lookup"><span data-stu-id="c98b6-171">**Internal Services/External Services**.</span></span> <span data-ttu-id="c98b6-172">類似於生產/非生產，企業對內部服務和提供給客戶的外部服務通常會有不同的需求、原則和角色。</span><span class="sxs-lookup"><span data-stu-id="c98b6-172">Much like Production/Non-Production, enterprises often have different requirements, policies and roles for internal services versus external (customer facing) services.</span></span>

<span data-ttu-id="c98b6-173">周詳的管理群組加上 Azure 原則與計畫，是有效控管 Azure 的骨幹。</span><span class="sxs-lookup"><span data-stu-id="c98b6-173">Well thought out management groups are, along with Azure Policy and Initiatives the backbone of efficient governance of Azure.</span></span>

### <a name="subscriptions"></a><span data-ttu-id="c98b6-174">訂用帳戶</span><span class="sxs-lookup"><span data-stu-id="c98b6-174">Subscriptions</span></span>

<span data-ttu-id="c98b6-175">在決定您的部門及帳戶 (或管理群組) 時，您會優先探討如何分配 Azure 環境以符合您的組織。</span><span class="sxs-lookup"><span data-stu-id="c98b6-175">When deciding on your Departments and Accounts (or management groups), you are primarily looking at how you're dividing up your Azure environment to match your organization.</span></span> <span data-ttu-id="c98b6-176">然而，訂用帳戶才是真正執行作業的地方，而您在此所做的決策會影響安全性、延展性和計費。</span><span class="sxs-lookup"><span data-stu-id="c98b6-176">Subscriptions, however, are where the real work happens and your decisions here impact security, scalability and billing.</span></span>  <span data-ttu-id="c98b6-177">許多組織會查看下列模式來作為他們的指引：</span><span class="sxs-lookup"><span data-stu-id="c98b6-177">Many organizations look at the following patterns as their guides:</span></span>

* <span data-ttu-id="c98b6-178">**應用程式/服務**：訂用帳戶代表應用程式或服務 (應用程式的組合)</span><span class="sxs-lookup"><span data-stu-id="c98b6-178">**Application/Service**: Subscriptions represent an application or a service (portfolio of applications)</span></span>
* <span data-ttu-id="c98b6-179">**生命週期**：訂用帳戶代表服務生命週期，例如生產或開發。</span><span class="sxs-lookup"><span data-stu-id="c98b6-179">**Lifecycle**: Subscriptions represent a lifecycle of a service, such as Production or Development.</span></span>
* <span data-ttu-id="c98b6-180">**部門**：訂用帳戶代表組織中的部門。</span><span class="sxs-lookup"><span data-stu-id="c98b6-180">**Department**: Subscriptions represent departments in the organization.</span></span>

<span data-ttu-id="c98b6-181">前兩個模式最常使用，而且這兩者都十分建議使用。</span><span class="sxs-lookup"><span data-stu-id="c98b6-181">The first two patterns are the most commonly used, and both are highly recommended.</span></span> <span data-ttu-id="c98b6-182">生命週期方法適用於大部分的組織。</span><span class="sxs-lookup"><span data-stu-id="c98b6-182">The Lifecycle approach is appropriate for most organizations.</span></span> <span data-ttu-id="c98b6-183">在此情況下，一般建議是使用兩個基底訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="c98b6-183">In this case, the general recommendation is to use two base subscriptions.</span></span> <span data-ttu-id="c98b6-184">「生產」和「非生產」，然後使用資源群組來進一步劃分環境。</span><span class="sxs-lookup"><span data-stu-id="c98b6-184">"Production" and "Non-Production," and then use resource groups to break out the environments further.</span></span>

### <a name="resource-groups"></a><span data-ttu-id="c98b6-185">資源群組</span><span class="sxs-lookup"><span data-stu-id="c98b6-185">Resource groups</span></span>

<span data-ttu-id="c98b6-186">Azure Resource Manager 可讓您將資源放入有意義的群組，以便管理、計費或達到自然親和性。</span><span class="sxs-lookup"><span data-stu-id="c98b6-186">Azure Resource Manager enables you to put resources into meaningful groups for management, billing, or natural affinity.</span></span> <span data-ttu-id="c98b6-187">資源群組是資源的容器，其中的資源具有共同的生命週期或共用「所有 SQL 伺服器」或「應用程式 A」等屬性。</span><span class="sxs-lookup"><span data-stu-id="c98b6-187">Resource groups are containers of resources that have a common life cycle or share an attribute such as "all SQL servers" or "Application A".</span></span>

<span data-ttu-id="c98b6-188">資源群組不能建立巢狀結構，且資源只能屬於一個資源群組。</span><span class="sxs-lookup"><span data-stu-id="c98b6-188">Resource groups can't be nested, and resources can only belong to one resource group.</span></span> <span data-ttu-id="c98b6-189">某些動作可套用於資源群組中的所有資源。</span><span class="sxs-lookup"><span data-stu-id="c98b6-189">Some actions can act on all resources in a resource group.</span></span> <span data-ttu-id="c98b6-190">例如，刪除資源群組即可移除資源群組內的所有資源。</span><span class="sxs-lookup"><span data-stu-id="c98b6-190">For example, deleting a resource group removes all resources within the resource group.</span></span> <span data-ttu-id="c98b6-191">如同訂用帳戶，建立資源群組時有很多常見模式可選，而且在「傳統 IT」工作負載和「敏捷式 IT」工作負載上會有所不同：</span><span class="sxs-lookup"><span data-stu-id="c98b6-191">Like subscriptions, there are common patterns when creating resource groups and will vary from "Traditional IT" workloads to "Agile IT" workloads:</span></span>

* <span data-ttu-id="c98b6-192">「傳統 IT」工作負載通常會依照相同生命週期內的項目分組，例如應用程式。</span><span class="sxs-lookup"><span data-stu-id="c98b6-192">"Traditional IT" workloads are most commonly grouped by items within the same life cycle, such as an application.</span></span> <span data-ttu-id="c98b6-193">依照應用程式分組，即可進行個別應用程式管理。</span><span class="sxs-lookup"><span data-stu-id="c98b6-193">Grouping by application allows for individual application management.</span></span>
* <span data-ttu-id="c98b6-194">「敏捷式 IT」工作負載傾向著重於外部客戶面向的雲端應用程式。</span><span class="sxs-lookup"><span data-stu-id="c98b6-194">"Agile IT" workloads tend to focus on external customer-facing cloud applications.</span></span> <span data-ttu-id="c98b6-195">資源群組通常會反映出部署 (例如 Web 層或應用程式層) 和管理的層次。</span><span class="sxs-lookup"><span data-stu-id="c98b6-195">The resource groups often reflect the layers of deployment (such as a web tier or app tier) and management.</span></span>

> [!NOTE]
> <span data-ttu-id="c98b6-196">了解您的工作負載可協助您開發資源群組策略。</span><span class="sxs-lookup"><span data-stu-id="c98b6-196">Understanding your workload helps you develop a resource group strategy.</span></span> <span data-ttu-id="c98b6-197">這些模式可以混合搭配及配對。</span><span class="sxs-lookup"><span data-stu-id="c98b6-197">These patterns can be mixed and matched.</span></span> <span data-ttu-id="c98b6-198">例如，共用服務資源群組與「敏捷」資源群組位於相同的訂用帳戶中。</span><span class="sxs-lookup"><span data-stu-id="c98b6-198">For example, a shared services resource group in the same subscription as "Agile" resource groups.</span></span>

## <a name="naming-standards"></a><span data-ttu-id="c98b6-199">命名標準</span><span class="sxs-lookup"><span data-stu-id="c98b6-199">Naming standards</span></span>

<span data-ttu-id="c98b6-200">Scaffold 的第一要件是一致的命名標準。</span><span class="sxs-lookup"><span data-stu-id="c98b6-200">The first pillar of the scaffold is a consistent naming standard.</span></span> <span data-ttu-id="c98b6-201">設計良好的命名標準可讓您識別入口網站中、帳單上和指令碼內的資源。</span><span class="sxs-lookup"><span data-stu-id="c98b6-201">Well-designed naming standards enable you to identify resources in the portal, on a bill, and within scripts.</span></span> <span data-ttu-id="c98b6-202">您可能已經有內部部署基礎結構的現有命名標準。</span><span class="sxs-lookup"><span data-stu-id="c98b6-202">You likely already have existing naming standards for on-premises infrastructure.</span></span> <span data-ttu-id="c98b6-203">將 Azure 新增至您的環境時，您應該將這些命名標準延伸至 Azure 資源。</span><span class="sxs-lookup"><span data-stu-id="c98b6-203">When adding Azure to your environment, you should extend those naming standards to your Azure resources.</span></span>

> [!TIP]
> <span data-ttu-id="c98b6-204">針對命名慣例：</span><span class="sxs-lookup"><span data-stu-id="c98b6-204">For naming conventions:</span></span>
> * <span data-ttu-id="c98b6-205">檢閱並且盡可能採用[模式與實例指南](/azure/architecture/best-practices/naming-conventions)。</span><span class="sxs-lookup"><span data-stu-id="c98b6-205">Review and adopt where possible the [Patterns and Practices guidance](/azure/architecture/best-practices/naming-conventions).</span></span> <span data-ttu-id="c98b6-206">本指南可協助您決定有意義的命名標準，並提供廣泛的範例。</span><span class="sxs-lookup"><span data-stu-id="c98b6-206">This guidance helps you decide on a meaningful naming standard and provides extensive examples.</span></span>
> * <span data-ttu-id="c98b6-207">使用 Resource Manager 原則有助於強制執行命名標準</span><span class="sxs-lookup"><span data-stu-id="c98b6-207">Using Resource Manager Policies to help enforce naming standards</span></span>
>
> <span data-ttu-id="c98b6-208">請記住，之後若要變更名稱會相當困難，因此現在多花幾分鐘，可省去您之後的麻煩。</span><span class="sxs-lookup"><span data-stu-id="c98b6-208">Remember that it's difficult to change names later, so a few minutes now will save you trouble later.</span></span>

<span data-ttu-id="c98b6-209">您的命名標準應著重於較常使用和搜尋的資源。</span><span class="sxs-lookup"><span data-stu-id="c98b6-209">Concentrate your naming standards on those resources that are more commonly used and searched for.</span></span>  <span data-ttu-id="c98b6-210">例如，為求簡單明瞭，所有資源群組應該遵循強式標準。</span><span class="sxs-lookup"><span data-stu-id="c98b6-210">For example, all resource groups should follow a strong standard for clarity.</span></span>

### <a name="resource-tags"></a><span data-ttu-id="c98b6-211">資源標記</span><span class="sxs-lookup"><span data-stu-id="c98b6-211">Resource Tags</span></span>

<span data-ttu-id="c98b6-212">資源標記會密切地配合命名標準。</span><span class="sxs-lookup"><span data-stu-id="c98b6-212">Resource tags are tightly aligned with naming standards.</span></span> <span data-ttu-id="c98b6-213">當有資源新增至訂用帳戶時，資源標記的重要性就會提高，因為它要以邏輯方式將這些資源分類為計費、管理和操作用途。</span><span class="sxs-lookup"><span data-stu-id="c98b6-213">As resources are added to subscriptions, it becomes increasingly important to logically categorize them for billing, management, and operational purposes.</span></span> <span data-ttu-id="c98b6-214">如需詳細資訊，請參閱 [使用標記組織您的 Azure 資源](/azure/azure-resource-manager/resource-group-using-tags)。</span><span class="sxs-lookup"><span data-stu-id="c98b6-214">For more information, see [Use tags to organize your Azure resources](/azure/azure-resource-manager/resource-group-using-tags).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="c98b6-215">標記可包含個人資訊，因此可能會落在 GDPR 的規範下。</span><span class="sxs-lookup"><span data-stu-id="c98b6-215">Tags can contain personal information and may fall under the regulations of GDPR.</span></span> <span data-ttu-id="c98b6-216">請仔細規劃您的標記管理。</span><span class="sxs-lookup"><span data-stu-id="c98b6-216">Plan for management of your tags carefully.</span></span> <span data-ttu-id="c98b6-217">如果您想要尋找有關 GDPR 的一般資訊，請參閱[服務信任入口網站](https://servicetrust.microsoft.com/ViewPage/GDPRGetStarted)的 GDPR 區段。</span><span class="sxs-lookup"><span data-stu-id="c98b6-217">If you're looking for general info about GDPR, see the GDPR section of the [Service Trust Portal](https://servicetrust.microsoft.com/ViewPage/GDPRGetStarted).</span></span>

<span data-ttu-id="c98b6-218">除了計費和管理外，標記還會用在許多方面。</span><span class="sxs-lookup"><span data-stu-id="c98b6-218">Tags are used in many ways beyond billing and management.</span></span> <span data-ttu-id="c98b6-219">它們通常用來作為自動化的一部分 (請參閱後面章節)。</span><span class="sxs-lookup"><span data-stu-id="c98b6-219">They are often used as part of automation (see later section).</span></span> <span data-ttu-id="c98b6-220">如果沒有事先考量，這可能會導致衝突。</span><span class="sxs-lookup"><span data-stu-id="c98b6-220">This can cause conflicts if not considered up front.</span></span> <span data-ttu-id="c98b6-221">建議的作法是找出企業層級上的所有常見標記 (例如 ApplicationOwner、CostCenter)，並在使用自動化部署資源時，統一套用這些標記。</span><span class="sxs-lookup"><span data-stu-id="c98b6-221">The recommended practice is to identify all the common tags at the enterprise level (such as ApplicationOwner, CostCenter) and apply them consistently when deploying resources using automation.</span></span>

## <a name="azure-policy-and-initiatives"></a><span data-ttu-id="c98b6-222">Azure 原則與計劃</span><span class="sxs-lookup"><span data-stu-id="c98b6-222">Azure Policy and Initiatives</span></span>

<span data-ttu-id="c98b6-223">Scaffold 的第二要件牽涉到使用 [Azure 原則與計畫](/azure/azure-policy/azure-policy-introduction)，這會藉由對訂用帳戶中的資源和服務強制建立規則 (包含效果)，以管理風險。</span><span class="sxs-lookup"><span data-stu-id="c98b6-223">The second pillar of the scaffold involves using [Azure Policy and Initiatives](/azure/azure-policy/azure-policy-introduction) to manage risk by enforcing rules (with effects) over the resources and services in your subscriptions.</span></span> <span data-ttu-id="c98b6-224">Azure 計畫是用來達成單一目標的原則集合。</span><span class="sxs-lookup"><span data-stu-id="c98b6-224">Azure Initiatives are collections of policies that are designed to achieve a single goal.</span></span> <span data-ttu-id="c98b6-225">接著，Azure 原則與計劃會指派給資源範圍，以開始強制執行特定原則。</span><span class="sxs-lookup"><span data-stu-id="c98b6-225">Azure policy and initiatives are then assigned to a resource scope to begin enforcement of the particular policies.</span></span>

<span data-ttu-id="c98b6-226">與先前所述的管理群組搭配使用時，Azure 原則與計劃的功能會更強大。</span><span class="sxs-lookup"><span data-stu-id="c98b6-226">Azure Policy and Initiatives are even more powerful when used with the management groups mentioned earlier.</span></span> <span data-ttu-id="c98b6-227">管理群組讓計劃或原則可指派到一整組訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="c98b6-227">Management groups enable the assignment of an initiative or policy to an entire set of subscriptions.</span></span>

### <a name="common-uses-of-resource-manager-policies"></a><span data-ttu-id="c98b6-228">Resource Manager 原則的常見用途</span><span class="sxs-lookup"><span data-stu-id="c98b6-228">Common uses of Resource Manager policies</span></span>

<span data-ttu-id="c98b6-229">Azure 原則與計畫是 Azure 工具組中功能強大的工具。</span><span class="sxs-lookup"><span data-stu-id="c98b6-229">Azure policies and initiatives are a powerful tool in the Azure toolkit.</span></span> <span data-ttu-id="c98b6-230">原則可讓公司掌控「傳統 IT」工作負載，達到企業營運應用程式所需的穩定性，同時也允許「敏捷式」工作負載；例如，在不會讓企業遭受額外風險的情況下開發客戶應用程式。</span><span class="sxs-lookup"><span data-stu-id="c98b6-230">Policies allow companies to provide controls for "Traditional IT" workloads that enable the stability that is needed for line-of-business applications while also allowing "Agile" workloads; such as, developing customer applications without opening up the enterprise to additional risk.</span></span> <span data-ttu-id="c98b6-231">我們最常見的原則模式如下︰</span><span class="sxs-lookup"><span data-stu-id="c98b6-231">The most common patterns we see for policies are:</span></span>

* <span data-ttu-id="c98b6-232">**地區合規性/資料主權**。</span><span class="sxs-lookup"><span data-stu-id="c98b6-232">**Geo-compliance/data sovereignty**.</span></span> <span data-ttu-id="c98b6-233">Azure 有遍布世界各地且持續增加的區域清單。</span><span class="sxs-lookup"><span data-stu-id="c98b6-233">Azure has an ever-growing list of regions across the world.</span></span> <span data-ttu-id="c98b6-234">企業通常需要確保特定範圍中的資源仍在某個地理區域中，以滿足法規需求。</span><span class="sxs-lookup"><span data-stu-id="c98b6-234">Enterprises often need to ensure that resources in a particular scope remain in a geographic region to address regulatory requirements.</span></span>
* <span data-ttu-id="c98b6-235">**避免公開伺服器**。</span><span class="sxs-lookup"><span data-stu-id="c98b6-235">**Avoid exposing servers publicly**.</span></span> <span data-ttu-id="c98b6-236">Azure 原則可禁止部署某些資源類型。</span><span class="sxs-lookup"><span data-stu-id="c98b6-236">Azure policy can prohibit the deployment of certain resources types.</span></span> <span data-ttu-id="c98b6-237">常見的用法是建立原則來拒絕特定範圍內的公用 IP 建立，以避免不小心將伺服器暴露到網際網路。</span><span class="sxs-lookup"><span data-stu-id="c98b6-237">A common use is to create a policy to deny the creation of a public IP within a particular scope, avoiding un-intended exposure of a server to the internet.</span></span>
* <span data-ttu-id="c98b6-238">**成本管理和中繼資料**。</span><span class="sxs-lookup"><span data-stu-id="c98b6-238">**Cost Management and Metadata**.</span></span> <span data-ttu-id="c98b6-239">資源標記通常用於將重要的計費資料新增至資源和資源群組，例如 CostCenter、Owner 等等。</span><span class="sxs-lookup"><span data-stu-id="c98b6-239">Resource tags are often used to add important billing data to resources and resource groups such as CostCenter, Owner and more.</span></span> <span data-ttu-id="c98b6-240">對於計費和資源管理的精確度而言，這些標記非常重要。</span><span class="sxs-lookup"><span data-stu-id="c98b6-240">These tags are invaluable for accurate billing and management of resources.</span></span> <span data-ttu-id="c98b6-241">原則可以將有資源標記的應用程式強制送往所有已部署的資源，讓資源更容易管理。</span><span class="sxs-lookup"><span data-stu-id="c98b6-241">Policies can enforce the application of resources tags to all deployed resource, making it easier to manage.</span></span>

### <a name="common-uses-of-initiatives"></a><span data-ttu-id="c98b6-242">計畫的常見用法</span><span class="sxs-lookup"><span data-stu-id="c98b6-242">Common uses of initiatives</span></span>

<span data-ttu-id="c98b6-243">計畫的引入可讓企業將邏輯原則群組在一起，並將其視為一體來加以追蹤。</span><span class="sxs-lookup"><span data-stu-id="c98b6-243">The introduction of initiatives provided enterprises a way to group logical policies together and track as a whole.</span></span> <span data-ttu-id="c98b6-244">計劃可進一步支援企業處理「敏捷式」和「傳統」工作負載的需求。</span><span class="sxs-lookup"><span data-stu-id="c98b6-244">Initiatives further support the enterprise to address the needs of both "agile" and "traditional" workloads.</span></span> <span data-ttu-id="c98b6-245">我們看過許多有創意的計畫用法，但較常看到的是：</span><span class="sxs-lookup"><span data-stu-id="c98b6-245">We have seen very creative uses of initiatives, but commonly we see:</span></span>

* <span data-ttu-id="c98b6-246">**啟用 Azure 資訊安全中心的監視功能**。</span><span class="sxs-lookup"><span data-stu-id="c98b6-246">**Enable monitoring in Azure Security Center**.</span></span> <span data-ttu-id="c98b6-247">這是 Azure 原則中的預設計畫，也是說明計畫是什麼的絕佳範例。</span><span class="sxs-lookup"><span data-stu-id="c98b6-247">This is a default initiative in the Azure Policy and an excellent example of what initiative are.</span></span> <span data-ttu-id="c98b6-248">計畫可讓原則識別未加密的 SQL 資料庫、SQL 資料庫 (VM) 弱點和較常見的安全性相關需求。</span><span class="sxs-lookup"><span data-stu-id="c98b6-248">It enables policies that identify un-encrypted SQL databases, virtual machine (VM) vulnerabilities and more common security related needs.</span></span>
* <span data-ttu-id="c98b6-249">**法規專屬計畫**。</span><span class="sxs-lookup"><span data-stu-id="c98b6-249">**Regulatory specific initiative**.</span></span> <span data-ttu-id="c98b6-250">企業通常會將常用於法規需求 (例如 HIPAA) 的原則群組在一起，以便更有效率地追蹤控制項和這些控制項的合規性。</span><span class="sxs-lookup"><span data-stu-id="c98b6-250">Enterprises often group policies common to a regulatory requirement (such as HIPAA) so that controls and compliancy to those controls are tracked efficiently.</span></span>
* <span data-ttu-id="c98b6-251">**資源類型和 SKU**。</span><span class="sxs-lookup"><span data-stu-id="c98b6-251">**Resource Types and SKUs**.</span></span> <span data-ttu-id="c98b6-252">建立會限制可部署資源和可部署 SKU 類型的計畫有助於控制成本，並可確保組織只部署您團隊有技能和程序可支援的資源。</span><span class="sxs-lookup"><span data-stu-id="c98b6-252">Creating an initiative that restricts the types of resources that can be deployed as well as the SKUs that can be deployed can help to control costs and ensure your organization is only deploying resources that your team have the skillset and procedures to support.</span></span>

> [!TIP]
> <span data-ttu-id="c98b6-253">我們建議您一律使用計畫定義，而不是原則定義。</span><span class="sxs-lookup"><span data-stu-id="c98b6-253">We recommend you always use initiative definitions instead of policy definitions.</span></span> <span data-ttu-id="c98b6-254">將計畫指派給某個範圍 (例如訂用帳戶或管理群組) 之後，您可以輕鬆地將另一個原則新增至計畫，而不必變更任何指派。</span><span class="sxs-lookup"><span data-stu-id="c98b6-254">After assigning an initiative to a scope, such as subscription or management group, you can easily add another policy to the initiative without having to change any assignments.</span></span> <span data-ttu-id="c98b6-255">這可讓您更容易了解套用內容及追蹤合規性。</span><span class="sxs-lookup"><span data-stu-id="c98b6-255">This makes understanding what is applied and tracking compliance far easier.</span></span>

### <a name="policy-and-initiative-assignments"></a><span data-ttu-id="c98b6-256">原則和計畫指派</span><span class="sxs-lookup"><span data-stu-id="c98b6-256">Policy and Initiative assignments</span></span>

<span data-ttu-id="c98b6-257">建立原則並將這些原則分組為邏輯計畫之後，您必須將原則指派給某個範圍，例如管理群組、訂用帳戶或甚至是資源群組。</span><span class="sxs-lookup"><span data-stu-id="c98b6-257">After the creation of policies and grouping them into logical initiatives you must assign the policy to a scope, whether it is a management group, a subscription or even a resource group.</span></span> <span data-ttu-id="c98b6-258">指派也可讓您排除原則指派中的子範圍。</span><span class="sxs-lookup"><span data-stu-id="c98b6-258">Assignments allow you to also exclude a sub-scope from the assignment of a policy.</span></span> <span data-ttu-id="c98b6-259">比方說，如果您拒絕在某個訂用帳戶內建立公用 IP，您可以建立有排除項目的指派，讓資源群組連線到您受保護的 DMZ。</span><span class="sxs-lookup"><span data-stu-id="c98b6-259">For example, if you deny the creation of public IPs within a subscription, you could create an assignment with an exclusion for a resource group connected to your protected DMZ.</span></span>

<span data-ttu-id="c98b6-260">在此 [GitHub](https://github.com/Azure/azure-policy) 存放庫上，您可以找到多個示範原則和計畫如何套用至在 Azure 中各種資源的範例。</span><span class="sxs-lookup"><span data-stu-id="c98b6-260">You will find several Policy examples that show how Policy and Initiatives can be applied to various resources within Azure on this [GitHub](https://github.com/Azure/azure-policy) repository.</span></span>

## <a name="identity-and-access-management"></a><span data-ttu-id="c98b6-261">身分識別和存取管理</span><span class="sxs-lookup"><span data-stu-id="c98b6-261">Identity and access management</span></span>

<span data-ttu-id="c98b6-262">開始使用公用雲端時，您會問自己的首要問題之一 (也是最重要的) 就是「誰應該有資源的存取權？」</span><span class="sxs-lookup"><span data-stu-id="c98b6-262">One of the first, and most crucial, questions you ask yourself when starting with the public cloud is "who should have access to resources?"</span></span> <span data-ttu-id="c98b6-263">以及「如何控制此存取權？」</span><span class="sxs-lookup"><span data-stu-id="c98b6-263">and "how do I control this access?"</span></span> <span data-ttu-id="c98b6-264">允許或不允許存取 Azure 入口網站，以及控制入口網站中資源的存取，是您雲端中資產是否能長期成功和保持安全的關鍵。</span><span class="sxs-lookup"><span data-stu-id="c98b6-264">Allowing or disallowing access to the Azure portal, and controlling access to resources in the portal is critical to the long term success and safety of your assets in the cloud.</span></span>

<span data-ttu-id="c98b6-265">若要完成保護資源存取權的工作，您會先設定識別提供者，然後設定角色和存取權。</span><span class="sxs-lookup"><span data-stu-id="c98b6-265">To accomplish the task of securing access to your resources you will first configure your identity provider and then configure Roles and access.</span></span> <span data-ttu-id="c98b6-266">連線至您內部部署 Active Directory 的 Azure Active Directory (Azure AD) 是 Azure 身分識別的基礎。</span><span class="sxs-lookup"><span data-stu-id="c98b6-266">Azure Active Directory (Azure AD), connected to your on-premises Active Directory, is the foundation of Azure Identity.</span></span> <span data-ttu-id="c98b6-267">但是，Azure AD 並「不是」 Active Directory，請務必了解什麼是 Azure AD 租用戶，以及它與您的 Azure 註冊有什麼關係。</span><span class="sxs-lookup"><span data-stu-id="c98b6-267">That said, Azure AD is *not* Active Directory and it's important to understand what an Azure AD tenant is and how it relates to your Azure enrollment.</span></span>  <span data-ttu-id="c98b6-268">檢閱可用[資訊](../getting-started/azure-resource-access.md)以取得有關 Azure AD 和 AD 的穩固基礎。</span><span class="sxs-lookup"><span data-stu-id="c98b6-268">Review the available [information](../getting-started/azure-resource-access.md) to gain a solid foundation on Azure AD and AD.</span></span> <span data-ttu-id="c98b6-269">若要連線及同步您的 Active Directory 與 Azure AD，請在內部部署環境安裝並設定 [AD Connect 工具](/azure/active-directory/connect/active-directory-aadconnect)。</span><span class="sxs-lookup"><span data-stu-id="c98b6-269">To connect and synchronize your Active Directory to Azure AD, install and configure the [AD Connect tool](/azure/active-directory/connect/active-directory-aadconnect) on-premises.</span></span>

![arch.png](./_images/arch.png)

<span data-ttu-id="c98b6-271">Azure 最初發行時，訂用帳戶的存取控制是基本的︰系統管理員或共同管理員。</span><span class="sxs-lookup"><span data-stu-id="c98b6-271">When Azure was initially released, access controls to a subscription were basic: Administrator or Co-Administrator.</span></span> <span data-ttu-id="c98b6-272">存取傳統模型中的訂用帳戶，意味著存取入口網站中的所有資源。</span><span class="sxs-lookup"><span data-stu-id="c98b6-272">Access to a subscription in the Classic model implied access to all the resources in the portal.</span></span> <span data-ttu-id="c98b6-273">缺乏細微控制導致訂用帳戶激增，進而為 Azure Enrollment 提供合理的存取控制層級。</span><span class="sxs-lookup"><span data-stu-id="c98b6-273">This lack of fine-grained control led to the proliferation of subscriptions to provide a level of reasonable access control for an Azure Enrollment.</span></span> <span data-ttu-id="c98b6-274">不再需要此種訂用帳戶激增情況。</span><span class="sxs-lookup"><span data-stu-id="c98b6-274">This proliferation of subscriptions is no longer needed.</span></span> <span data-ttu-id="c98b6-275">透過角色型存取控制 (RBAC)，您可以將使用者指派給標準角色，也就是提供常見存取權的角色 (例如「擁有者」、「參與者」或「讀者」)，或甚至是建立您自己的角色</span><span class="sxs-lookup"><span data-stu-id="c98b6-275">With role-based access control (RBAC), you can assign users to standard roles that provide common access such as "owner", "contributor" or "reader" or even create your own roles</span></span>

<span data-ttu-id="c98b6-276">實作以角色為基礎的存取權時，強烈建議您遵循以下事項：</span><span class="sxs-lookup"><span data-stu-id="c98b6-276">When implementing role-based access, the following are highly recommended:</span></span>

* <span data-ttu-id="c98b6-277">控制訂用帳戶的系統管理員/共同管理員，因為這些角色具有廣泛的權限。</span><span class="sxs-lookup"><span data-stu-id="c98b6-277">Control the Administrator/Co-Administrator of a subscription as these roles have extensive permissions.</span></span> <span data-ttu-id="c98b6-278">如果「訂用帳戶擁有者」需要管理 Azure 傳統部署，只需將它們新增為共同管理員即可。</span><span class="sxs-lookup"><span data-stu-id="c98b6-278">You only need to add the Subscription Owner as a Co-administrator if they need to managed Azure Classic deployments.</span></span>

* <span data-ttu-id="c98b6-279">使用管理群組來跨多個訂用帳戶指派[角色](/azure/azure-resource-manager/management-groups-overview#management-group-access)，並降低在訂用帳戶層級上管理這些角色的負擔。</span><span class="sxs-lookup"><span data-stu-id="c98b6-279">Use management groups to assign [roles](/azure/azure-resource-manager/management-groups-overview#management-group-access) across multiple subscriptions and reduce the burden of managing them at the subscription level.</span></span>
* <span data-ttu-id="c98b6-280">將 Azure 使用者新增至 Active Directory 中的群組 (例如，應用程式 X 擁有者)。</span><span class="sxs-lookup"><span data-stu-id="c98b6-280">Add Azure users to a group (for example, Application X Owners) in Active Directory.</span></span> <span data-ttu-id="c98b6-281">使用已同步處理的群組，提供群組成員管理資源群組 (包含應用程式) 的適當權限。</span><span class="sxs-lookup"><span data-stu-id="c98b6-281">Use the synced group to provide group members the appropriate rights to manage the resource group containing the application.</span></span>
* <span data-ttu-id="c98b6-282">依照授與執行預期工作所需**最低權限**的原則。</span><span class="sxs-lookup"><span data-stu-id="c98b6-282">Follow the principle of granting the **least privilege** required to do the expected work.</span></span>

> [!IMPORTANT]
><span data-ttu-id="c98b6-283">請考慮使用 [Azure AD Privileged Identity Management](/azure/active-directory/privileged-identity-management/pim-configure)、Azure [Multi-factor Authentication](/azure/active-directory/authentication/howto-mfa-getstarted)和[條件式存取](/azure/active-directory/active-directory-conditional-access-azure-portal)功能，為您 Azure 訂用帳戶上的系統管理動作提供更佳的安全性和更高的可見性。</span><span class="sxs-lookup"><span data-stu-id="c98b6-283">Consider using [Azure AD Privileged Identity Management](/azure/active-directory/privileged-identity-management/pim-configure), Azure [Multi-Factor Authentication](/azure/active-directory/authentication/howto-mfa-getstarted) and [Conditional Access](/azure/active-directory/active-directory-conditional-access-azure-portal) capabilities to provide better security and more visibility to administrative actions across your Azure subscriptions.</span></span> <span data-ttu-id="c98b6-284">這些功能來自有效的 Azure AD Premium 授權 (視功能而訂)，可進一步保護及管理您的身分識別。</span><span class="sxs-lookup"><span data-stu-id="c98b6-284">These capabilities come from a valid Azure AD Premium license (depending on the feature) to further secure and manage your identity.</span></span> <span data-ttu-id="c98b6-285">Azure AD PIM 可啟用 "Just-in-Time" 管理存取及核准工作流程，以及完整的系統管理員啟用和活動稽核。</span><span class="sxs-lookup"><span data-stu-id="c98b6-285">Azure AD PIM enables "Just-in-Time" administrative access with approval workflow, as well as a full audit of administrator activations and activities.</span></span> <span data-ttu-id="c98b6-286">Azure MFA 是另一個重要功能，可針對 Azure 入口網站的登入啟用雙步驟驗證。</span><span class="sxs-lookup"><span data-stu-id="c98b6-286">Azure MFA is another critical capability and enables two-step verification for login to the Azure portal.</span></span> <span data-ttu-id="c98b6-287">如果結合條件式存取控制，您可以有效地管理損害風險。</span><span class="sxs-lookup"><span data-stu-id="c98b6-287">When combined with Conditional Access Controls you can effectively manage your risk of compromise.</span></span>

<span data-ttu-id="c98b6-288">規劃及準備您的身分識別和存取控制，並遵循 Azure 身分識別管理最佳做法 ([連結](/azure/security/azure-security-identity-management-best-practices))，是您可使用的其中一個最佳風險降低策略，並應將其視為每個部署的必要項目。</span><span class="sxs-lookup"><span data-stu-id="c98b6-288">Planning and preparing for your identity and access controls and following Azure Identity Management best practice ([link](/azure/security/azure-security-identity-management-best-practices)) is one of the best risk mitigation strategies that you can employ and should be considered mandatory for every deployment.</span></span>

## <a name="security"></a><span data-ttu-id="c98b6-289">安全性</span><span class="sxs-lookup"><span data-stu-id="c98b6-289">Security</span></span>

<span data-ttu-id="c98b6-290">過度考量安全性一直是雲端採用的其中一個最大阻礙。</span><span class="sxs-lookup"><span data-stu-id="c98b6-290">One of the biggest blockers to cloud adoption traditionally has been concerns over security.</span></span> <span data-ttu-id="c98b6-291">IT 風險管理員和資訊安全部門必須確保 Azure 中的資源會預先受到保護。</span><span class="sxs-lookup"><span data-stu-id="c98b6-291">IT risk managers and security departments need to ensure that resources in Azure are protected and secure by default.</span></span> <span data-ttu-id="c98b6-292">Azure 提供許多可用來保護資源的功能，並且可偵測/預防以這些資源為目標的威脅。</span><span class="sxs-lookup"><span data-stu-id="c98b6-292">Azure provides a number of capabilities that you can leverage to protect resources and detect/prevent threats against those resources.</span></span>

### <a name="azure-security-center"></a><span data-ttu-id="c98b6-293">Azure 資訊安全中心</span><span class="sxs-lookup"><span data-stu-id="c98b6-293">Azure Security Center</span></span>

<span data-ttu-id="c98b6-294">[Azure 資訊安全中心](/azure/security-center/security-center-intro)可讓您統一檢視環境中所有資源的安全性狀態，並提供進階的威脅防護。</span><span class="sxs-lookup"><span data-stu-id="c98b6-294">The [Azure Security Center](/azure/security-center/security-center-intro) provides a unified view of the security status of resources across your environment in addition to advanced threat protection.</span></span> <span data-ttu-id="c98b6-295">Azure 資訊安全中心是一個開放平台，可讓 Microsoft 合作夥伴建立可插入其中的軟體並增強其功能。</span><span class="sxs-lookup"><span data-stu-id="c98b6-295">Azure Security Center is an open platform that enables Microsoft partners to create software that plugs into and enhance its capabilities.</span></span> <span data-ttu-id="c98b6-296">Azure 資訊安全中心的基準功能 (免費層) 會提供可加強您安全性狀態的評量與建議。</span><span class="sxs-lookup"><span data-stu-id="c98b6-296">The baseline capabilities of Azure Security Center (free tier) provides assessment and recommendations that will enhance your security posture.</span></span> <span data-ttu-id="c98b6-297">其付費層可啟用額外且實用的功能，例如 Just In Time 管理存取和自適性應用程式控制項 (建立允許清單)。</span><span class="sxs-lookup"><span data-stu-id="c98b6-297">Its paid tiers enable additional and valuable capabilities such as Just In Time admin access and adaptive application controls (whitelisting).</span></span>

> [!TIP]
><span data-ttu-id="c98b6-298">Azure 資訊安全中心是非常強大的工具，其不斷增強並納入新功能，讓您可使用這些功能來偵測威脅並保護企業。</span><span class="sxs-lookup"><span data-stu-id="c98b6-298">Azure security center is a very powerful tool that is constantly being enhanced and incorporating new capabilities you can leverage to detect threats and protect your enterprise.</span></span> <span data-ttu-id="c98b6-299">強烈建議您一律啟用 ASC。</span><span class="sxs-lookup"><span data-stu-id="c98b6-299">It is highly recommended to always enable ASC.</span></span>

### <a name="azure-resource-locks"></a><span data-ttu-id="c98b6-300">Azure 資源鎖定</span><span class="sxs-lookup"><span data-stu-id="c98b6-300">Azure resource locks</span></span>

<span data-ttu-id="c98b6-301">隨著您的組織將核心服務新增至訂用帳戶，避免業務中斷變得越來越重要。</span><span class="sxs-lookup"><span data-stu-id="c98b6-301">As your organization adds core services to subscriptions it becomes increasingly important to avoid business disruption.</span></span> <span data-ttu-id="c98b6-302">常見的其中一種中斷狀況是，針對 Azure 訂用帳戶執行的指令碼及工具誤刪資源，而造成意外結果。</span><span class="sxs-lookup"><span data-stu-id="c98b6-302">One type of disruption that we often see is unintended consequences of scripts and tools working against an Azure subscription deleting resources mistakenly.</span></span> <span data-ttu-id="c98b6-303">[資源鎖定](/azure/azure-resource-manager/resource-group-lock-resources)可讓您限制對珍貴資源執行的作業，而修改或刪除這類資源會造成嚴重影響。</span><span class="sxs-lookup"><span data-stu-id="c98b6-303">[Resource Locks](/azure/azure-resource-manager/resource-group-lock-resources) enable you to restrict operations on high-value resources where modifying or deleting them would have a significant impact.</span></span> <span data-ttu-id="c98b6-304">鎖定會套用至訂用帳戶、資源群組或甚至是個別的資源。</span><span class="sxs-lookup"><span data-stu-id="c98b6-304">Locks are applied to a subscription, resource group, or even individual resources.</span></span> <span data-ttu-id="c98b6-305">常見的使用案例是將鎖定套用至基礎資源，例如虛擬網路、閘道、網路安全性群組和金鑰儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="c98b6-305">The common use case is to apply locks to foundational resources such as virtual networks, gateways, network security groups and key storage accounts.</span></span>

### <a name="secure-devops-toolkit"></a><span data-ttu-id="c98b6-306">安全的 DevOps 工具組</span><span class="sxs-lookup"><span data-stu-id="c98b6-306">Secure DevOps Toolkit</span></span>

<span data-ttu-id="c98b6-307">"Secure DevOps Kit for Azure" (AzSK) 是指令碼、工具、擴充功能、自動化等項目的集合，原本由 Microsoft 自己的 IT 團隊所建立，並透過 Github 以開放原始碼的方式發行 ([連結](https://github.com/azsk/DevOpsKit-docs))。</span><span class="sxs-lookup"><span data-stu-id="c98b6-307">The "Secure DevOps Kit for Azure" (AzSK) is a collection of scripts, tools, extensions, automations, etc. originally created by Microsoft's own IT Team and released in OpenSource via Github ([link](https://github.com/azsk/DevOpsKit-docs)).</span></span> <span data-ttu-id="c98b6-308">AzSK 可滿足端對端 Azure 訂用帳戶和資源的安全性需求，讓小組可使用廣泛的自動化功能，以及順利地將安全性整合到原生的 Dev Ops 工作流程，然後透過以下 6 個重點來實現安全的 Dev Ops：</span><span class="sxs-lookup"><span data-stu-id="c98b6-308">AzSK caters to the end to end Azure subscription and resource security needs for teams using extensive automation and smoothly integrating security into native dev ops workflows helping accomplish secure dev ops with these 6 focus areas:</span></span>

* <span data-ttu-id="c98b6-309">保護訂用帳戶</span><span class="sxs-lookup"><span data-stu-id="c98b6-309">Secure the subscription</span></span>
* <span data-ttu-id="c98b6-310">啟用安全開發</span><span class="sxs-lookup"><span data-stu-id="c98b6-310">Enable secure development</span></span>
* <span data-ttu-id="c98b6-311">將安全性整合至 CICD</span><span class="sxs-lookup"><span data-stu-id="c98b6-311">Integrate security into CICD</span></span>
* <span data-ttu-id="c98b6-312">持續保證</span><span class="sxs-lookup"><span data-stu-id="c98b6-312">Continuous Assurance</span></span>
* <span data-ttu-id="c98b6-313">警示和監視</span><span class="sxs-lookup"><span data-stu-id="c98b6-313">Alerting and Monitoring</span></span>
* <span data-ttu-id="c98b6-314">雲端風險管理</span><span class="sxs-lookup"><span data-stu-id="c98b6-314">Cloud Risk Governance</span></span>

![Azure DevOps 工具組](_images/Secure_DevOps_Kit_Azure.png)

<span data-ttu-id="c98b6-316">AzSK 是一組豐富的工具、指令碼和資訊集合，也是完整 Azure 治理計劃的重要部分，請務必將此集合併入您的 Scaffold，以支援您組織的風險管理目標</span><span class="sxs-lookup"><span data-stu-id="c98b6-316">The AzSK is a rich set of tools, scripts and information that are an important part of a full Azure governance plan and incorporating this into your scaffold is crucial to supporting your organizations risk management goals</span></span>

### <a name="azure-update-management"></a><span data-ttu-id="c98b6-317">Azure 更新管理</span><span class="sxs-lookup"><span data-stu-id="c98b6-317">Azure Update Management</span></span>

<span data-ttu-id="c98b6-318">保護您環境安全的主要工作之一是確保伺服器已套用最新的更新。</span><span class="sxs-lookup"><span data-stu-id="c98b6-318">One of the key tasks you can do to keep your environment safe is ensure that your servers are patched with the latest updates.</span></span> <span data-ttu-id="c98b6-319">雖然有許多工具可達成此目的，但 Azure 提供的 [Azure 更新管理](/azure/automation/automation-update-management)解決方案會對重大 OS 修補程式的識別和推出有所因應。</span><span class="sxs-lookup"><span data-stu-id="c98b6-319">While there are many tools to accomplish this, Azure provides the [Azure Update Management](/azure/automation/automation-update-management) solution to address the identification and rollout of critical OS patches.</span></span> <span data-ttu-id="c98b6-320">並且會運用 Azure 自動化 (稍後會在本指南的[自動化](#automate)區段中加以說明)。</span><span class="sxs-lookup"><span data-stu-id="c98b6-320">It uses Azure Automation, covered in the [Automate](#automate) section later in this guide.</span></span>

## <a name="monitor-and-alerts"></a><span data-ttu-id="c98b6-321">監視和警示</span><span class="sxs-lookup"><span data-stu-id="c98b6-321">Monitor and alerts</span></span>

<span data-ttu-id="c98b6-322">若要主動管理您的應用程式，務必針對您所有 Azure 訂用帳戶上使用的服務來收集和分析遙測資料，以便查看這些服務的活動、效能計量、健康情況及可用性，這也是每個 Azure 訂用帳戶的基本需求。</span><span class="sxs-lookup"><span data-stu-id="c98b6-322">Collecting and analyzing telemetry that provides line of sight into the activities, performance metrics, health and availability of the services you are using across all of your Azure subscriptions is critical to proactively manage your applications and infrastructure and is a foundational need of every Azure subscription.</span></span> <span data-ttu-id="c98b6-323">每個 Azure 服務會以活動記錄、計量和診斷記錄的形式發出遙測。</span><span class="sxs-lookup"><span data-stu-id="c98b6-323">Every Azure service emits telemetry in the form of Activity Logs, Metrics and Diagnostic Logs.</span></span>

* <span data-ttu-id="c98b6-324">**活動記錄**描述訂用帳戶中資源所執行的所有作業</span><span class="sxs-lookup"><span data-stu-id="c98b6-324">**Activity Logs** describe all operations performed on resources in your subscriptions</span></span>
* <span data-ttu-id="c98b6-325">**計量**是從資源內發出的數值資訊，用來描述資源的效能與健康情況</span><span class="sxs-lookup"><span data-stu-id="c98b6-325">**Metrics** are numerical information emitted from within a resource that describe the performance and health of a resource</span></span>
* <span data-ttu-id="c98b6-326">**診斷記錄**是由 Azure 服務發出，並提供關於該服務作業的豐富、經常性資料。</span><span class="sxs-lookup"><span data-stu-id="c98b6-326">**Diagnostic Logs** are emitted by an Azure service and provide rich, frequent data about the operation of that service.</span></span>

<span data-ttu-id="c98b6-327">這項資訊可以在多個層級上檢視和處理，並且會持續改進。</span><span class="sxs-lookup"><span data-stu-id="c98b6-327">This information can be viewed and acted upon at multiple levels and are continually being improved.</span></span> <span data-ttu-id="c98b6-328">Azure 會透過下圖中列出的服務，提供**共用**、**核心**和**深入**的 Azure 資源監視功能。</span><span class="sxs-lookup"><span data-stu-id="c98b6-328">Azure provides **shared**, **core** and **deep** monitoring capabilities of Azure resources through the services outlined in the diagram below.</span></span>
<span data-ttu-id="c98b6-329">![監視](./_images/monitoring.png)</span><span class="sxs-lookup"><span data-stu-id="c98b6-329">![monitoring](./_images/monitoring.png)</span></span>

### <a name="shared-capabilities"></a><span data-ttu-id="c98b6-330">共用功能</span><span class="sxs-lookup"><span data-stu-id="c98b6-330">Shared capabilities</span></span>

* <span data-ttu-id="c98b6-331">**警示**：您可以從 Azure 資源收集每個記錄、事件和計量，但無法收到重要條件和動作的通知，這些資料只能用於記錄和調查。</span><span class="sxs-lookup"><span data-stu-id="c98b6-331">**Alerts**: You can collect every log, event and metric from Azure resources, but without the ability to be notified of critical conditions and act, this data is only useful for historic purposes and forensics.</span></span> <span data-ttu-id="c98b6-332">Azure 警示會針對您在所有應用程式和基礎結構上定義的條件，主動發出通知。</span><span class="sxs-lookup"><span data-stu-id="c98b6-332">Azure Alerts proactively notify you of conditions you define across all your applications and infrastructure.</span></span> <span data-ttu-id="c98b6-333">您可以針對記錄、事件和計量建立警示規則，以使用動作群組來通知多組收件者。</span><span class="sxs-lookup"><span data-stu-id="c98b6-333">You create alert rules across logs, events and metrics that use action groups to notify sets of recipients.</span></span> <span data-ttu-id="c98b6-334">動作群組也可讓您使用外部動作 (例如 Webhook) 來執行 Azure 自動化 Runbook 和 Azure Functions，以自動化補救作業。</span><span class="sxs-lookup"><span data-stu-id="c98b6-334">Action groups also provide the ability to automate remediation using external actions such as webhooks to run Azure Automation runbooks and Azure Functions.</span></span>

* <span data-ttu-id="c98b6-335">**儀表板**：儀表板可讓您彙總監視內容的檢視，並結合資源和訂用帳戶上的資料，讓您可檢視整個企業中 Azure 資源的遙測資料。</span><span class="sxs-lookup"><span data-stu-id="c98b6-335">**Dashboards**: Dashboards enable you to aggregate monitoring views and combine data across resources and subscriptions to give you an enterprise-wide view into the telemetry of Azure resources.</span></span> <span data-ttu-id="c98b6-336">您可以建立並設定您自己的檢視，然後與他人共用。</span><span class="sxs-lookup"><span data-stu-id="c98b6-336">You can create and configure your own views and share them with others.</span></span> <span data-ttu-id="c98b6-337">例如，您可以建立包含各種 DBA 圖格的儀表板，以提供所有 Azure 資料庫服務的資訊，包括 Azure SQL DB、適用於 PostgreSQL 的 Azure DB 及適用於 MySQL 的 Azure DB。</span><span class="sxs-lookup"><span data-stu-id="c98b6-337">For example, you could create a dashboard consisting of various tiles for DBAs to provide information across all Azure database services, including Azure SQL DB, Azure DB for PostgreSQL and Azure DB for MySQL.</span></span>

* <span data-ttu-id="c98b6-338">**計量瀏覽器**：計量是由 Azure 資源產生的數值 (例如 %CPU、磁碟 I/O)，用來提供資源作業和效能的深入解析。</span><span class="sxs-lookup"><span data-stu-id="c98b6-338">**Metrics Explorer**: Metrics are numerical values generated by Azure resources (e.g. % CPU, Disk I/O, that provide insight into the operation and performance of your resources.</span></span> <span data-ttu-id="c98b6-339">藉由使用計量瀏覽器，您可以定義並傳送您感興趣的計量給 Log Analytics，以進行彙總和分析。</span><span class="sxs-lookup"><span data-stu-id="c98b6-339">By using Metrics Explorer you can define and send the metrics in which you are interested to Log Analytics for aggregation and analysis.</span></span>

### <a name="core-monitoring"></a><span data-ttu-id="c98b6-340">核心監視</span><span class="sxs-lookup"><span data-stu-id="c98b6-340">Core monitoring</span></span>

* <span data-ttu-id="c98b6-341">**Azure 監視器**：Azure 監視器是核心平台服務，提供監視 Azure 資源的單一來源。</span><span class="sxs-lookup"><span data-stu-id="c98b6-341">**Azure Monitor**: Azure Monitor is the core platform service that provides a single source for monitoring Azure resources.</span></span> <span data-ttu-id="c98b6-342">Azure 監視器的 Azure 入口網站介面會為 Azure 中所有監視功能提供中央起點，包括 Application Insights、Log Analytics、網路監視、管理解決方案和服務對應的深層監視功能。</span><span class="sxs-lookup"><span data-stu-id="c98b6-342">The Azure Portal interface of Azure Monitor provides a centralized jump off point for all the monitoring features across Azure including the deep monitoring capabilities of Application Insights, Log Analytics, Network Monitoring, Management Solutions and Service Maps.</span></span> <span data-ttu-id="c98b6-343">您可以使用 Azure 監視器對整個雲端資產上的 Azure 資源計量和記錄，執行視覺化、查詢、路由、封存作業及採取行動。</span><span class="sxs-lookup"><span data-stu-id="c98b6-343">With Azure Monitor you can visualize, query, route, archive and act on the metrics and logs coming from Azure resources across your entire cloud estate.</span></span> <span data-ttu-id="c98b6-344">除了入口網站，您也可以透過監視器 PowerShell Cmdlet、跨平台 CLI 或 Azure 監視器 REST API 來擷取資料。</span><span class="sxs-lookup"><span data-stu-id="c98b6-344">In addition to the portal you can retrieve data through the Monitor PowerShell Cmdlets, Cross Platform CLI or the Azure Monitor REST APIs.</span></span>

* <span data-ttu-id="c98b6-345">**Azure Advisor**：Azure Advisor 會持續監視您訂用帳戶和環境上的遙測資料，並提供如何最佳化 Azure 資源的最佳做法建議，以協助您節省成本及改善應用程式中資源的效能、安全性和可用性。</span><span class="sxs-lookup"><span data-stu-id="c98b6-345">**Azure Advisor**: Azure Advisor constantly monitors telemetry across your subscriptions and environments and provides recommendations on best practices on how to optimize your Azure resources to save money and improve performance, security and availability of the resources that make up your applications.</span></span>

* <span data-ttu-id="c98b6-346">**服務健康狀態**：Azure 服務健康狀態會找出所有影響您應用程式的 Azure 服務問題，以及協助您規劃維護期間的排程。</span><span class="sxs-lookup"><span data-stu-id="c98b6-346">**Service Health**: Azure Service Health identifies any issues with Azure Services that may impact your applications as well as assists you in planning for scheduled maintenance windows.</span></span>

* <span data-ttu-id="c98b6-347">**活動記錄**：活動記錄會描述訂用帳戶中資源上的所有作業。</span><span class="sxs-lookup"><span data-stu-id="c98b6-347">**Activity Log**: The Activity Log describes all operations on resources in your subscriptions.</span></span> <span data-ttu-id="c98b6-348">其提供稽核記錄，用來判斷任何資源建立、更新及刪除作業的「內容」、「執行者」和「時間」。</span><span class="sxs-lookup"><span data-stu-id="c98b6-348">It provides an audit trail to determine the 'what', 'who', and 'when' of any create, update, delete operation on resources.</span></span> <span data-ttu-id="c98b6-349">活動記錄事件會儲存在平台中並供查詢 90 天。</span><span class="sxs-lookup"><span data-stu-id="c98b6-349">Activity Log events are stored in the platform and are available to query for 90 days.</span></span> <span data-ttu-id="c98b6-350">您可以將活動記錄內嵌到 Log Analytics 中以達到較長保留期限，以及對多個資源進行更深入的查詢和分析。</span><span class="sxs-lookup"><span data-stu-id="c98b6-350">You can ingest Activity Logs into Log Analytics for longer retention periods and deeper querying and analysis across multiple resources.</span></span>

### <a name="deep-application-monitoring"></a><span data-ttu-id="c98b6-351">深層應用程式監視</span><span class="sxs-lookup"><span data-stu-id="c98b6-351">Deep application monitoring</span></span>

* <span data-ttu-id="c98b6-352">**Application Insights**：Application Insights 可讓您收集應用程式專有的遙測資料，以及監視雲端或內部部署中的應用程式效能、可用性和使用方式。</span><span class="sxs-lookup"><span data-stu-id="c98b6-352">**Application Insights**: Application Insights enables you to collect application specific telemetry and monitor the performance, availability and usage of applications in the cloud or on-premises.</span></span> <span data-ttu-id="c98b6-353">並可透過適用於多種語言的支援 SDK 來檢測您的應用程式，這些語言包括 .NET、JavaScript、JAVA、Node.js、Ruby 和 Python。</span><span class="sxs-lookup"><span data-stu-id="c98b6-353">By instrumenting your application with supported SDKs for multiple languages including .NET, JavaScript, JAVA, Node.js, Ruby and Python.</span></span> <span data-ttu-id="c98b6-354">Application Insights 事件會內嵌至支援基礎結構和安全性監視的相同 Log Analytics 資料存放區，讓您可以透過豐富的查詢語言，讓一段時間中的事件相互關聯並加以彙總。</span><span class="sxs-lookup"><span data-stu-id="c98b6-354">Application Insights events are ingested into the same Log Analytics data store that supports infrastructure and security monitoring to enable you to correlate and aggregate events over time through a rich query language.</span></span>

### <a name="deep-infrastructure-monitoring"></a><span data-ttu-id="c98b6-355">深層基礎結構監視</span><span class="sxs-lookup"><span data-stu-id="c98b6-355">Deep infrastructure monitoring</span></span>

* <span data-ttu-id="c98b6-356">**Log Analytics**：Log Analytics 在 Azure 監視中扮演主要角色，其可從各種來源收集遙測和其他資料，並提供查詢語言和分析引擎，讓您得以深入了解應用程式和資源的運作。</span><span class="sxs-lookup"><span data-stu-id="c98b6-356">**Log Analytics**: Log Analytics plays a central role in Azure monitoring by collecting telemetry and other data from a variety of sources and providing a query language and analytics engine that gives you insights into the operation of your applications and resources.</span></span> <span data-ttu-id="c98b6-357">您可以透過高效能的記錄搜尋和檢視直接與 Log Analytics 資料互動，也可以在其他 Azure 服務中使用分析工具 (例如 Application Insights 或 Azure 資訊安全中心)，將其資料儲存在 Log Analytics 中。</span><span class="sxs-lookup"><span data-stu-id="c98b6-357">You can either interact directly with Log Analytics data through highly performant log searches and views, or you may use analysis tools in other Azure services that store their data in Log Analytics such as Application Insights or Azure Security Center.</span></span>

* <span data-ttu-id="c98b6-358">**網路監視**：Azure 的網路監視服務可讓您取得有關網路流量、效能、安全性、連線和瓶頸的深入解析。</span><span class="sxs-lookup"><span data-stu-id="c98b6-358">**Network Monitoring**: Azure's network monitoring services enable you to gain insight into network traffic flow, performance, security, connectivity and bottlenecks.</span></span> <span data-ttu-id="c98b6-359">規劃良好的網路設計應包括設定 Azure 網路監視服務，例如網路監看員和 ExpressRoute 監視器。</span><span class="sxs-lookup"><span data-stu-id="c98b6-359">A well-planned network design should include configuring Azure network monitoring services such as Network Watcher and ExpressRoute Monitor.</span></span>

* <span data-ttu-id="c98b6-360">**管理解決方案**：管理解決方案是封裝好的集合，其中包含應用程式或服務的邏輯、深入解析及預先定義的 Log Analytics 查詢。</span><span class="sxs-lookup"><span data-stu-id="c98b6-360">**Management Solutions**: Management solutions are packaged sets of logic, insights and pre-defined Log Analytics queries for an application or service.</span></span> <span data-ttu-id="c98b6-361">這些解決方案以 Log Analytics 作為基礎來儲存和分析事件資料。</span><span class="sxs-lookup"><span data-stu-id="c98b6-361">They rely on Log Analytics as the foundation to store and analyze event data.</span></span> <span data-ttu-id="c98b6-362">管理解決方案範例包含監視容器和 Azure SQL Database 分析。</span><span class="sxs-lookup"><span data-stu-id="c98b6-362">Sample management solutions include monitoring containers and Azure SQL Database analytics.</span></span>

* <span data-ttu-id="c98b6-363">**服務對應**：服務對應提供您基礎結構元件的圖形化檢視，您可看到這些元件在其他電腦上的處理程序和相互依存性及外部處理程序。</span><span class="sxs-lookup"><span data-stu-id="c98b6-363">**Service Map**: Service Map provides a graphical view into your infrastructure components, their processes and interdependencies on other computers and external processes.</span></span> <span data-ttu-id="c98b6-364">它會整合 Log Analytics 中的事件、效能資料和管理解決方案。</span><span class="sxs-lookup"><span data-stu-id="c98b6-364">It integrates events, performance data and management solutions in Log Analytics.</span></span>

> [!TIP]
> <span data-ttu-id="c98b6-365">建立個別警示之前，請先建立並維護一組可在 Azure 警示之間共用的動作群組。</span><span class="sxs-lookup"><span data-stu-id="c98b6-365">Before creating individual alerts, create and maintain a set of shared Action Groups that can be used across Azure Alerts.</span></span> <span data-ttu-id="c98b6-366">這可讓您集中維護以下項目的生命週期：收件者清單、通知傳遞方法 (電子郵件、SMS 電話號碼) 和外部動作的 Webhook (Azure 自動化 Runbook、Azure Functions / Logic Apps、ITSM)。</span><span class="sxs-lookup"><span data-stu-id="c98b6-366">This will enable you to centrally maintain the lifecycle of your recipient lists, notification delivery methods (email, SMS phone numbers) and webhooks to external actions (Azure Automation runbooks, Azure Functions / Logic Apps, ITSM).</span></span>

## <a name="cost-management"></a><span data-ttu-id="c98b6-367">成本管理</span><span class="sxs-lookup"><span data-stu-id="c98b6-367">Cost management</span></span>

<span data-ttu-id="c98b6-368">從內部部署雲端移到公用雲端時，您會面臨的其中一個重大變更就是從資本支出 (購買硬體) 切換到營運支出 (支付所使用的服務)。</span><span class="sxs-lookup"><span data-stu-id="c98b6-368">One of the major changes that you will face when you move from on-premises cloud to the public cloud is the switch from capital expenditure (buying hardware) to operating expenditure (paying for service as you use it).</span></span> <span data-ttu-id="c98b6-369">從 CAPEX 切換到 OPEX 也需要更小心地管理您的成本。</span><span class="sxs-lookup"><span data-stu-id="c98b6-369">This switch from CAPEX to OPEX also brings the need to more carefully manage your costs.</span></span> <span data-ttu-id="c98b6-370">雲端的好處是，您只要在所用服務不需要時將其關閉 (或調整大小)，就能正面地從根本上影響您的服務成本。</span><span class="sxs-lookup"><span data-stu-id="c98b6-370">The benefit of the cloud is that you can fundamentally and positively impact the cost of a service you use by merely turning it off (or resizing) when it's not needed.</span></span> <span data-ttu-id="c98b6-371">建議您謹慎管理雲端中的成本，這也是成熟客戶每天都要做的事。</span><span class="sxs-lookup"><span data-stu-id="c98b6-371">Deliberately managing your costs in the cloud is a recommended practice and one that mature customers do daily.</span></span>

<span data-ttu-id="c98b6-372">Microsoft 提供數個可用來檢視、追蹤及管理成本的工具。</span><span class="sxs-lookup"><span data-stu-id="c98b6-372">Microsoft provides a several tools for you to be able to visual, track and manage your costs.</span></span> <span data-ttu-id="c98b6-373">我們也提供一組完整的 API，可讓您自訂成本管理，並將其整合至您自己的工具和儀表板中。</span><span class="sxs-lookup"><span data-stu-id="c98b6-373">We also provide a full set of APIs to enable you to customize and integrate cost management into your own tools and dashboards.</span></span> <span data-ttu-id="c98b6-374">這些工具大略分為：Azure 入口網站功能和外部功能</span><span class="sxs-lookup"><span data-stu-id="c98b6-374">These tools are loosely grouped into: Azure Portal Capabilities and external capabilities</span></span>

### <a name="azure-portal-capabilities"></a><span data-ttu-id="c98b6-375">Azure 入口網站功能</span><span class="sxs-lookup"><span data-stu-id="c98b6-375">Azure Portal capabilities</span></span>

<span data-ttu-id="c98b6-376">這些工具可提供您即時的成本資訊，以及採取動作的能力</span><span class="sxs-lookup"><span data-stu-id="c98b6-376">These are tools to provide you instant information on cost as well as the ability to take actions</span></span>

* <span data-ttu-id="c98b6-377">**訂用帳戶資源成本**：在入口網站中，[Azure 成本分析](/azure/cost-management/overview)檢視可讓您快速查看各資源或資源群組的每日支出成本和資訊。</span><span class="sxs-lookup"><span data-stu-id="c98b6-377">**Subscription Resource Cost**: Located in The Portal, the [Azure Cost Analysis](/azure/cost-management/overview) view provides a quick look at your costs and information on daily spend by resource or resource group.</span></span>
* <span data-ttu-id="c98b6-378">**Azure 成本管理**：購買 Microsoft 的 Cloudyn 後即可使用此產品，這可讓您管理和分析 Azure 支出，以及您在其他公用雲端提供者上的支出。</span><span class="sxs-lookup"><span data-stu-id="c98b6-378">**Azure Cost Management**: This product is the result of the purchase of Cloudyn by Microsoft and allows you to manage and analyze your Azure spend as well what you spend on other Public Cloud providers.</span></span> <span data-ttu-id="c98b6-379">包含免費層和付費層，您可在[概觀](/azure/cost-management/overview)中了解豐富的強大功能。</span><span class="sxs-lookup"><span data-stu-id="c98b6-379">There are both free and paid tiers, with a great wealth of capabilities as seen in the [overview](/azure/cost-management/overview).</span></span>
* <span data-ttu-id="c98b6-380">**Azure 預算和動作群組** 直到最近，了解某些項目的成本並針對這些成本執行動作，更像是個操作演練。</span><span class="sxs-lookup"><span data-stu-id="c98b6-380">**Azure Budgets and Action Groups** Knowing what somethings costs and doing something about it until recently has been more of a manual exercise.</span></span> <span data-ttu-id="c98b6-381">透過 Azure 預算和其 API 的引入，此工具現在能夠在成本達到閾值時建立動作 (如[此處](https://channel9.msdn.com/Shows/Azure-Friday/Managing-costs-with-the-Azure-Budgets-API-and-Action-Groups)範例所示)。</span><span class="sxs-lookup"><span data-stu-id="c98b6-381">With the introduction of Azure Budgets and its APIs, it's now possible to create actions (as seen in [this](https://channel9.msdn.com/Shows/Azure-Friday/Managing-costs-with-the-Azure-Budgets-API-and-Action-Groups) example) when costs hit a threshold.</span></span> <span data-ttu-id="c98b6-382">比方說，當 [測試] 資源群組達到 100% 的預算時，關閉該資源群組，或是，[另一個範例]。</span><span class="sxs-lookup"><span data-stu-id="c98b6-382">For example, shutting down a "test" resource group when it hits 100% of its budget, or [another example].</span></span>
* <span data-ttu-id="c98b6-383">**Azure Advisor** 知道某些項目的成本只成功一半，另一半是要了解如何處理該資訊。</span><span class="sxs-lookup"><span data-stu-id="c98b6-383">**Azure Advisor** Knowing what something costs is only half the battle; the other half is knowing what to do with that information.</span></span> <span data-ttu-id="c98b6-384">[Azure Advisor](/azure/advisor/advisor-overview) 會提供節省成本、改善可靠性或甚至是提高安全性所應採取的動作建議。</span><span class="sxs-lookup"><span data-stu-id="c98b6-384">[Azure Advisor](/azure/advisor/advisor-overview) provides you recommendations on actions to take to save money, improve reliability or even increase security.</span></span>

### <a name="external-cost-management-tools"></a><span data-ttu-id="c98b6-385">外部成本管理工具</span><span class="sxs-lookup"><span data-stu-id="c98b6-385">External cost management tools</span></span>

* <span data-ttu-id="c98b6-386">**Power Bi Azure 使用量見解**。</span><span class="sxs-lookup"><span data-stu-id="c98b6-386">**PowerBI Azure Consumption Insights**.</span></span> <span data-ttu-id="c98b6-387">您想要為組織建立自己的視覺效果嗎？</span><span class="sxs-lookup"><span data-stu-id="c98b6-387">Do you want to create your own visualizations for your organization?</span></span> <span data-ttu-id="c98b6-388">若是如此，則適用於 Power Bi 的 Azure 使用量見解內容套件是您應選擇的工具。</span><span class="sxs-lookup"><span data-stu-id="c98b6-388">If so, then the Azure Consumption Insights content pack for PowerBI is your tool of choice.</span></span> <span data-ttu-id="c98b6-389">使用此內容套件和 Power Bi，您可以建立自訂視覺效果來代表您的組織、執行深入的成本分析，並新增其他資料來源來進行擴充。</span><span class="sxs-lookup"><span data-stu-id="c98b6-389">Using this content pack and PowerBI you can create custom visualizations to represent your organization, do deeper analysis on costs and add in other data sources for further enrichment.</span></span>

* <span data-ttu-id="c98b6-390">**使用量 API**。</span><span class="sxs-lookup"><span data-stu-id="c98b6-390">**Consumption API**.</span></span> <span data-ttu-id="c98b6-391">[使用量 API](/rest/api/consumption/)可讓您以程式設計方式存取成本和使用量資料，以及存取關於預算、保留執行個體和市集費用的資訊。</span><span class="sxs-lookup"><span data-stu-id="c98b6-391">The [consumption APIs](/rest/api/consumption/) give you programmatic access to cost and usage data in addition to information on budgets, reserved instances and marketplace charges.</span></span> <span data-ttu-id="c98b6-392">僅 Enterprise 註冊和某些 Web Direct 訂用帳戶可存取這些 API，不過它們可讓您將成本資料整合到您自己的工具和資料倉儲中。</span><span class="sxs-lookup"><span data-stu-id="c98b6-392">These APIs are accessible only for Enterprise Enrollments and some Web Direct subscriptions however they give you the ability to integrate your cost data into your own tools and data warehouses.</span></span> <span data-ttu-id="c98b6-393">您也可以使用 Azure CLI 存取這些 API，如[此處](/cli/azure/consumption?view=azure-cli-latest)所示。</span><span class="sxs-lookup"><span data-stu-id="c98b6-393">You can also access these APIs by using the Azure CLI, seen [here](/cli/azure/consumption?view=azure-cli-latest).</span></span>

<span data-ttu-id="c98b6-394">當我們查看長時間使用雲端，且使用狀態是「成熟」的客戶時，我們會看到一些高度建議的做法</span><span class="sxs-lookup"><span data-stu-id="c98b6-394">When we look across customers who have used the cloud for a long time and are "mature" in their use, we see a number of highly recommended practices</span></span>

* <span data-ttu-id="c98b6-395">**主動監視成本**。</span><span class="sxs-lookup"><span data-stu-id="c98b6-395">**Actively monitor costs**.</span></span> <span data-ttu-id="c98b6-396">身為成熟 Azure 使用者的組織會時常監視成本，並在有需要時採取動作。</span><span class="sxs-lookup"><span data-stu-id="c98b6-396">Organizations that are mature Azure users constantly monitor costs and take actions when needed.</span></span> <span data-ttu-id="c98b6-397">某些組織甚至讓專員執行使用量的分析和建議變更，當這些人第一次找到執行多個月但未使用的 HDInsight 叢集時，組織就可以回本了。</span><span class="sxs-lookup"><span data-stu-id="c98b6-397">Some organizations even dedicate people to do analysis and suggest changes to usage, and these people more than pay for themselves the first time they find an unused HDInsight cluster that's been running for months.</span></span>
* <span data-ttu-id="c98b6-398">**使用保留執行個體**。</span><span class="sxs-lookup"><span data-stu-id="c98b6-398">**Use Reserved Instances**.</span></span> <span data-ttu-id="c98b6-399">管理雲端成本的另一個重要原則是使用適用於作業的工具。</span><span class="sxs-lookup"><span data-stu-id="c98b6-399">Another key tenet for managing costs in the cloud is to use the right tool for the job.</span></span> <span data-ttu-id="c98b6-400">如果您有必須全天候執行的 IaaS VM，那麼使用保留執行個體將會為您省下下大量金錢。</span><span class="sxs-lookup"><span data-stu-id="c98b6-400">If you have an IaaS VM that must stay on 24x7, then using a Reserved Instance will save you significant money.</span></span> <span data-ttu-id="c98b6-401">在自動關閉 VM 與使用 RI 之間尋找適當的平衡需要經驗和分析。</span><span class="sxs-lookup"><span data-stu-id="c98b6-401">Finding the right balance between automating the shutdown of VMs and using RIs takes experience and analysis.</span></span>
* <span data-ttu-id="c98b6-402">**有效地使用自動化**：許多工作負載不需要每天執行。</span><span class="sxs-lookup"><span data-stu-id="c98b6-402">**Use automation effectively**: Many workloads do not need to be running every day.</span></span> <span data-ttu-id="c98b6-403">每天關閉 VM 4 小時，就可以節省 15% 的成本。</span><span class="sxs-lookup"><span data-stu-id="c98b6-403">Even turning off a VM for a 4-hour period every day can save you 15% of your cost.</span></span> <span data-ttu-id="c98b6-404">自動化的回本速度相當快。</span><span class="sxs-lookup"><span data-stu-id="c98b6-404">Automation will pay for itself quickly.</span></span>
* <span data-ttu-id="c98b6-405">**使用資源標記提升可見性**：如同本文中其他地方所述，使用資源標記會提供更好的成本分析。</span><span class="sxs-lookup"><span data-stu-id="c98b6-405">**Use resource tags for visibility**: As mentioned elsewhere in this document, using resource tags will allow for better analysis of costs.</span></span>

<span data-ttu-id="c98b6-406">成本管理是專業領域，目的是要有效且高效率地執行公用雲端。</span><span class="sxs-lookup"><span data-stu-id="c98b6-406">Cost management is a discipline that is core to the effective and efficient running of a public cloud.</span></span> <span data-ttu-id="c98b6-407">達到成功的企業應能夠控制其成本，並使成本符合其實際需求，而不是過度購買，然後希望會有相應的需求。</span><span class="sxs-lookup"><span data-stu-id="c98b6-407">Enterprises that achieve success will be able to control their costs and match them to their actual demand as opposed to overbuying and hoping demand comes.</span></span>

## <a name="automate"></a><span data-ttu-id="c98b6-408">自動化</span><span class="sxs-lookup"><span data-stu-id="c98b6-408">Automate</span></span>

<span data-ttu-id="c98b6-409">造成組織 (使用雲端提供者) 成熟度差異的功能有很多，其中一個是已併入的自動化程度。</span><span class="sxs-lookup"><span data-stu-id="c98b6-409">One of the many capabilities that differentiates the maturity of organizations using cloud providers is the level of automation that they have incorporated.</span></span>  <span data-ttu-id="c98b6-410">自動化是永無止盡的程序，而且隨著您的組織移到雲端，任何區域的建置都需要您投入資源和時間。</span><span class="sxs-lookup"><span data-stu-id="c98b6-410">Automation is a never-ending process and as your organization moves to the cloud it is any area that you need to invest resources and time in building.</span></span>  <span data-ttu-id="c98b6-411">自動化會用於許多用途，包括統一推出資源 (這會直接繫結至另一個核心 Scaffold 概念、範本與 DevOps) 到問題修復。</span><span class="sxs-lookup"><span data-stu-id="c98b6-411">Automation serves many purposes including consistent rollout of resources (where it ties directly to another core scaffold concept, Templates and DevOps) to the remediation of issues.</span></span>  <span data-ttu-id="c98b6-412">自動化是 Azure Scaffold 的「連結組織」，用來將每個區域連結在一起。</span><span class="sxs-lookup"><span data-stu-id="c98b6-412">Automation is the "connective tissue" of the Azure scaffold and links each area together.</span></span>

<span data-ttu-id="c98b6-413">有數種工具可協助您建置這項功能，範圍涵蓋第一方工具 (例如 Azure 自動化、事件方格和 AzureCLI) 到廣泛的第三方工具 (例如 Terraform、Jenkins、Chef 和 Puppet) 等等。</span><span class="sxs-lookup"><span data-stu-id="c98b6-413">There are a number of tools that are available as you build out this capability, from first party tools such as Azure Automation, EventGrid and AzureCLI to an extensive amount of third party tools such as Terraform, Jenkins, Chef, and Puppet (to name a few).</span></span> <span data-ttu-id="c98b6-414">讓您營運小組進行自動化的核心功能為 Azure 自動化、事件方格和 Azure Cloud Shell：</span><span class="sxs-lookup"><span data-stu-id="c98b6-414">Core to your operations team ability to automate are Azure Automation, Event Grid and the Azure Cloud Shell:</span></span>

* <span data-ttu-id="c98b6-415">**Azure 自動化**：這是雲端架構的功能，可讓您撰寫 Runbook (使用 PowerShell 或 Python)，並可讓您自動化程序、設定資源及套用修補程式。</span><span class="sxs-lookup"><span data-stu-id="c98b6-415">**Azure Automation**: Is a cloud-based capability that allows to you author Runbooks (in either PowerShell or Python) and allows you automate processes, configure resources, and even apply patches.</span></span>  <span data-ttu-id="c98b6-416">[Azure 自動化](/azure/automation/automation-intro)具有一組廣泛的跨平台功能，並且可整合至您的部署，但因為範圍太廣泛，無法在此深入說明。</span><span class="sxs-lookup"><span data-stu-id="c98b6-416">[Azure Automation](/azure/automation/automation-intro) has an extensive set of cross platform capabilities that are integral to your deployment but are too extensive to be covered in depth here.</span></span>
* <span data-ttu-id="c98b6-417">**Event Grid**：此[服務](/azure/event-grid)是一個完全受控的事件路由系統，可讓您對 Azure 環境內的事件做出回應。</span><span class="sxs-lookup"><span data-stu-id="c98b6-417">**Event Grid**: this [service](/azure/event-grid) is a fully-managed event routing system that let's you react to events within your Azure environment.</span></span> <span data-ttu-id="c98b6-418">如同自動化是成熟雲端組織的連結組織，事件方格是良好自動化的連結組織。</span><span class="sxs-lookup"><span data-stu-id="c98b6-418">Like Automation is the connective tissue of mature cloud organizations, Event Grid is the connective tissue of good automation.</span></span> <span data-ttu-id="c98b6-419">藉由使用事件方格，您可以建立簡單的無伺服器動作，在每次建立新資源時，傳送電子郵件給系統管理員，並在資料庫中記錄該資源。</span><span class="sxs-lookup"><span data-stu-id="c98b6-419">Using Event Grid, you can create a simple, serverless, action to send an email to an administrator whenever a new resource is created and log that resource in a database.</span></span> <span data-ttu-id="c98b6-420">同樣的事件方格可以在刪除資源和從資料庫中移除項目時，發出通知。</span><span class="sxs-lookup"><span data-stu-id="c98b6-420">That same Event Grid can notify when a resource is deleted and remove the item from the database.</span></span>
* <span data-ttu-id="c98b6-421">**Azure Cloud Shell**：這是以瀏覽器為基礎的互動式[殼層](/azure/cloud-shell/overview)，可用來管理 Azure 中的資源。</span><span class="sxs-lookup"><span data-stu-id="c98b6-421">**Azure Cloud Shell**: is an interactive, browser-based [shell](/azure/cloud-shell/overview) for managing resources in Azure.</span></span> <span data-ttu-id="c98b6-422">其提供可視需要啟動 PowerShell 或 Bash 的完整環境 (還可以為您進行維護)，讓您擁有統一的環境可執行指令碼。</span><span class="sxs-lookup"><span data-stu-id="c98b6-422">It provides a complete environment for either PowerShell or Bash that is launched as needed (and maintained for you) so that you have a consistent environment from which to run your scripts.</span></span> <span data-ttu-id="c98b6-423">Azure Cloud Shell 可讓您存取其他用來自動化您環境的重要工具 (已安裝)，包括 [Azure CLI](/cli/azure/get-started-with-azure-cli?view=azure-cli-latest)、[Terraform](/azure/virtual-machines/linux/terraform-install-configure)，以及不斷增加的其他[工具](https://azure.microsoft.com/updates/cloud-shell-new-cli-tools-and-font-size-selection/)清單，以便您管理容器、資料庫 (sqlcmd) 等更多項目。</span><span class="sxs-lookup"><span data-stu-id="c98b6-423">The Azure Cloud Shell provides access to additional key tools -already installed-- to automate your environment including [Azure CLI](/cli/azure/get-started-with-azure-cli?view=azure-cli-latest), [Terraform](/azure/virtual-machines/linux/terraform-install-configure) and a growing list of additional [tools](https://azure.microsoft.com/updates/cloud-shell-new-cli-tools-and-font-size-selection/) to manage containers, databases (sqlcmd) and more.</span></span>

<span data-ttu-id="c98b6-424">自動化是項全職工作，它會快速變成您雲端小組內最重要的營運工作之一。</span><span class="sxs-lookup"><span data-stu-id="c98b6-424">Automation is a full-time job and it will rapidly become one of the most important operational tasks within your cloud team.</span></span> <span data-ttu-id="c98b6-425">採用「自動化優先」方法的組織在使用 Azure 上有更高的成就：</span><span class="sxs-lookup"><span data-stu-id="c98b6-425">Organizations that take the approach of "automate first" have greater success in using Azure:</span></span>

* <span data-ttu-id="c98b6-426">管理成本：主動尋找機會，並建立自動化來調整資源大小、相應增加/減少及關閉未使用的資源。</span><span class="sxs-lookup"><span data-stu-id="c98b6-426">Managing costs: actively seeking opportunities and creating automation to re-size resources, scale-up/down and turn off unused resources.</span></span>
* <span data-ttu-id="c98b6-427">作業彈性：透過自動化的使用 (搭配範本和 DevOps)，您就可運用重複性來提高可用性和安全性，並可讓您的小組專注於解決商務問題。</span><span class="sxs-lookup"><span data-stu-id="c98b6-427">Operational flexibility: through the use of automation (along with Templates and DevOps) you gain a level of repeatability that increases availability, increases security and enables your team to focus on solving business problems.</span></span>

## <a name="templates-and-devops"></a><span data-ttu-id="c98b6-428">範本和 DevOps</span><span class="sxs-lookup"><span data-stu-id="c98b6-428">Templates and DevOps</span></span>

<span data-ttu-id="c98b6-429">如同自動化區段中所強調的，您的目標應該是讓組織透過由原始程式碼控制的範本和指令碼來佈建資源，並將環境的互動式設定降到最低。</span><span class="sxs-lookup"><span data-stu-id="c98b6-429">As highlighted in the Automate section, your goal as an organization should be to provision resources through source-controlled templates and scripts and to minimize interactive configuration of your environments.</span></span> <span data-ttu-id="c98b6-430">使用此「基礎結構即程式碼」方法及用於持續部署的嚴謹 DevOps 程序，即可確保環境中的一致性並減少漂移。</span><span class="sxs-lookup"><span data-stu-id="c98b6-430">This approach of "infrastructure as code" along with a disciplined DevOps process for continuous deployment can ensure consistency and reduce drift across your environments.</span></span> <span data-ttu-id="c98b6-431">幾乎每個 Azure 資源都可透過 [Azure Resource Manager JSON 範本](/azure/azure-resource-manager/resource-group-template-deploy) 搭配 PowerShell 或 Azure 跨平台 CLI 及 Hashicorp 的 Terraform (具有頂級支援且與 Azure Cloud Shell 整合) 等工具來部署。</span><span class="sxs-lookup"><span data-stu-id="c98b6-431">Almost every Azure resource is deployable through [Azure Resource Manager JSON templates](/azure/azure-resource-manager/resource-group-template-deploy) in conjunction with PowerShell or the Azure cross platform CLI and tools such as Terraform from Hashicorp (which has first class support and integrated into the Azure Cloud Shell).</span></span>

<span data-ttu-id="c98b6-432">[本文](https://blogs.msdn.microsoft.com/mvpawardprogram/2018/05/01/azure-resource-manager/)或其他類似的文章中，皆有使用 [Azure DevOps](/azure/devops/user-guide/?view=vsts) 工具鏈將 DevOps 方法套用至 Azure Resource Manager 範本的最佳做法和啟示討論。</span><span class="sxs-lookup"><span data-stu-id="c98b6-432">Article such as [this one](https://blogs.msdn.microsoft.com/mvpawardprogram/2018/05/01/azure-resource-manager/) provide an excellent discussion on best practices and lessons learned in applying a DevOps approach to Azure Resource Manager templates with the [Azure DevOps](/azure/devops/user-guide/?view=vsts) toolchain.</span></span> <span data-ttu-id="c98b6-433">請花時間和心力來開發一組專門符合您組織需求的核心範本，並使用 DevOps 工具鏈 (例如 Azure DevOps、Jenkins、Bamboo、Teamcity、Concourse) 開發持續傳遞管線，特別是針對您的生產環境和 QA 環境。</span><span class="sxs-lookup"><span data-stu-id="c98b6-433">Take the time and effort to develop a core set of templates specific to your organization's requirements, and to develop continuous delivery pipelines with DevOps toolchains (such as Azure DevOps, Jenkins, Bamboo, Teamcity, Concourse), especially for your production and QA environments.</span></span> <span data-ttu-id="c98b6-434">GitHub 上有大型的 [Azure 快速入門範本](https://github.com/Azure/azure-quickstart-templates)程式庫，您可以使用這些作為範本的起點，然後使用 Azure DevOps 快速建立雲端式傳遞管線。</span><span class="sxs-lookup"><span data-stu-id="c98b6-434">There is a large library of [Azure Quick Start templates](https://github.com/Azure/azure-quickstart-templates) on GitHub that you can use as a starting point for templates, and you can quickly create cloud-based delivery pipelines with Azure DevOps.</span></span>

<span data-ttu-id="c98b6-435">若要作為生產訂用帳戶或資源群組的最佳做法，您的目標應該是使用 RBAC 安全性來預設不允許互動式使用者，並根據服務主體利用自動化持續傳遞管線來佈建所有資源，以及傳遞所有應用程式的程式碼。</span><span class="sxs-lookup"><span data-stu-id="c98b6-435">As a best practice for production subscriptions or resource groups, your goal should be utilizing RBAC security to disallow interactive users by default and utilizing automated continuous delivery pipelines based on service principals to provision all resources and deliver all application code.</span></span> <span data-ttu-id="c98b6-436">您應該不要讓系統管理員或開發人員觸及 Azure 入口網站，並以互動方式設定資源。</span><span class="sxs-lookup"><span data-stu-id="c98b6-436">No admin or developer should touch the Azure Portal to interactively configure resources.</span></span> <span data-ttu-id="c98b6-437">此層級的 DevOps 採用一致的投入量和利用所有 Azure Scaffold 的概念，還提供了一致且更安全的環境，以符合您組織的擴增需求。</span><span class="sxs-lookup"><span data-stu-id="c98b6-437">This level of DevOps takes a concerted effort and utilizes all the concepts of the Azure scaffold and provides a consistent and more secure environment that will meet your organizations to grow scale.</span></span>

> [!TIP]
> <span data-ttu-id="c98b6-438">當設計和開發複雜的 Azure Resource Manager 範本時，您可使用[連結範本](/azure/azure-resource-manager/resource-group-linked-templates)來組織及重構整合型 JSON 檔案中的複雜資源關聯性。</span><span class="sxs-lookup"><span data-stu-id="c98b6-438">When designing and developing complex Azure Resource Manager templates, use [linked templates](/azure/azure-resource-manager/resource-group-linked-templates) to organize and refactor complex resource relationships from monolithic JSON files.</span></span> <span data-ttu-id="c98b6-439">這可讓您個別管理資源，並使您的範本更容易理解、可測試且可重複使用。</span><span class="sxs-lookup"><span data-stu-id="c98b6-439">This will enable you to manage resources individually and make your templates more readable, testable and reusable.</span></span>

<span data-ttu-id="c98b6-440">Azure 是超大規模的雲端提供者，當您將組織從內部部署伺服器移至雲端時，利用雲端提供者和 SaaS 應用程式所用的相同概念，將可讓您的組織以極有效率的方式來回應商務需求。</span><span class="sxs-lookup"><span data-stu-id="c98b6-440">Azure is a hyperscale cloud provider and as you move your organization from the world of on-premises servers to the cloud, utilizing the same concepts that cloud providers and SaaS applications use will provide your organization to react to the needs of the business in vastly more efficient way.</span></span>

## <a name="core-network"></a><span data-ttu-id="c98b6-441">核心網路</span><span class="sxs-lookup"><span data-stu-id="c98b6-441">Core network</span></span>

<span data-ttu-id="c98b6-442">Azure Scaffold 參考模型的最後一個元件是，您的組織要如何以安全的方式存取 Azure。</span><span class="sxs-lookup"><span data-stu-id="c98b6-442">The final component of the Azure scaffold reference model is core to how your organization accesses Azure, in a secure manner.</span></span> <span data-ttu-id="c98b6-443">資源的存取可以是內部的 (在公司網路內) 或外部的 (透過網際網路)。</span><span class="sxs-lookup"><span data-stu-id="c98b6-443">Access to resources can be either internal (within the corporation's network) or external (through the internet).</span></span> <span data-ttu-id="c98b6-444">您組織中的使用者很容易不小心將資源放在錯誤的位置，並可能加以開啟而遭到惡意存取。</span><span class="sxs-lookup"><span data-stu-id="c98b6-444">It is easy for users in your organization to inadvertently put resources in the wrong spot, and potentially open them to malicious access.</span></span> <span data-ttu-id="c98b6-445">針對內部部署裝置，企業必須加上適度的控制，以確保 Azure 使用者能做出適當的決策。</span><span class="sxs-lookup"><span data-stu-id="c98b6-445">As with on-premises devices, enterprises must add appropriate controls to ensure that Azure users make the right decisions.</span></span> <span data-ttu-id="c98b6-446">針對訂用帳戶治理，我們會找出可提供基本存取控制的核心資源。</span><span class="sxs-lookup"><span data-stu-id="c98b6-446">For subscription governance, we identify core resources that provide basic control of access.</span></span> <span data-ttu-id="c98b6-447">核心資源是由下列各項所組成︰</span><span class="sxs-lookup"><span data-stu-id="c98b6-447">The core resources consist of:</span></span>

* <span data-ttu-id="c98b6-448">**虛擬網路**是子網路的容器物件。</span><span class="sxs-lookup"><span data-stu-id="c98b6-448">**Virtual networks** are container objects for subnets.</span></span> <span data-ttu-id="c98b6-449">雖然不是絕對必要，但通常使用於將應用程式連接到內部公司資源時。</span><span class="sxs-lookup"><span data-stu-id="c98b6-449">Though not strictly necessary, it is often used when connecting applications to internal corporate resources.</span></span>
* <span data-ttu-id="c98b6-450">**使用者定義路由**可讓您操控子網路內的路由表，以透過網路虛擬設備傳送流量，或將流量傳送到對等互連虛擬網路上的遠端閘道。</span><span class="sxs-lookup"><span data-stu-id="c98b6-450">**User Defined Routes** allow you to manipulate the route table within a subnet enabling you to send traffic through a network virtual appliance or to a remote gateway on a peered virtual network.</span></span>
* <span data-ttu-id="c98b6-451">**虛擬網路對等互連**可讓您完美連線兩個或多個 Azure 虛擬網路，並建立更複雜的軸輻式 (hub-and-spoke) 設計或共用服務網路。</span><span class="sxs-lookup"><span data-stu-id="c98b6-451">**Virtual Network Peering** enables you to seamlessly connect two or more Azure virtual networks, creating more complex hub-and-spoke designs or shared services networks.</span></span>
* <span data-ttu-id="c98b6-452">**服務端點**。</span><span class="sxs-lookup"><span data-stu-id="c98b6-452">**Service Endpoints**.</span></span> <span data-ttu-id="c98b6-453">在過去，PaaS 服務會仰賴不同方法來保護您虛擬網路中這些資源的存取。</span><span class="sxs-lookup"><span data-stu-id="c98b6-453">In the past, PaaS services relied on different methods to secure access to those resources from your virtual networks.</span></span> <span data-ttu-id="c98b6-454">服務端點可讓您「只」從連線端點安全地存取已啟用的 PaaS 服務，進而提高整體安全性。</span><span class="sxs-lookup"><span data-stu-id="c98b6-454">Service endpoints allow you to secure access to enabled PaaS services from ONLY connected endpoints, increasing overall security.</span></span>
* <span data-ttu-id="c98b6-455">**安全性群組**是一組廣泛的規則，可讓您允許或拒絕 Azure 資源的輸入和輸出流量。</span><span class="sxs-lookup"><span data-stu-id="c98b6-455">**Security groups** are an extensive set of rules which provide you the ability to allow or deny inbound and outbound traffic to/from Azure Resources.</span></span> <span data-ttu-id="c98b6-456">[安全性群組](/azure/virtual-network/security-overview)包含安全性規則，可以夾帶**服務標記** (用來定義一般的 Azure 服務，例如 AzureKeyVault、Azure SQL Database 等) 及**應用程式群組** (用來定義應用程式結構，例如 Web 伺服器、應用程式伺服器等)。</span><span class="sxs-lookup"><span data-stu-id="c98b6-456">[Security Groups](/azure/virtual-network/security-overview) consist of Security Rules, which can be augmented with **Service Tags** (which define common Azure services such as Azure KeyVault, Azure SQL Database, and others) and **Application Groups** (which define and application structure, such as web servers or app servers).</span></span>

> [!TIP]
> <span data-ttu-id="c98b6-457">網路安全性群組中的服務標記和應用程式群組不只可加強您規則的可讀性 (對了解影響來說很重要)，還可用來在較大型子網路中啟用有效的微型分割，進而減少擴充需求並增加彈性。</span><span class="sxs-lookup"><span data-stu-id="c98b6-457">Use Service tags and Application groups in your network security groups to not only enhance the readability of your rules &mdash; which is crucial to understanding impact &mdash; but also to enable effective microsegmentation within a larger subnet, reducing sprawl and increasing flexibility.</span></span>

### <a name="virtual-data-center"></a><span data-ttu-id="c98b6-458">虛擬資料中心</span><span class="sxs-lookup"><span data-stu-id="c98b6-458">Virtual Data Center</span></span>

<span data-ttu-id="c98b6-459">Azure 會提供內部功能和來自廣泛合作夥伴網路的第三方功能，讓您擁有有效的安全性保障。</span><span class="sxs-lookup"><span data-stu-id="c98b6-459">Azure provides you both internal capabilities and third-party capabilities from our extensive partner network that enable you to have an effective security stance.</span></span> <span data-ttu-id="c98b6-460">更重要的是，Microsoft 以 [Azure 虛擬資料中心](/azure/architecture/vdc/networking-virtual-datacenter)的形式提供最佳做法和指引。</span><span class="sxs-lookup"><span data-stu-id="c98b6-460">More importantly, Microsoft provides best practices and guidance in the form of the [Azure Virtual Data Center](/azure/architecture/vdc/networking-virtual-datacenter).</span></span> <span data-ttu-id="c98b6-461">當您從單一工作負載移至利用混合式功能的多個工作負載時，VDC 指南會提供「配方」給您，以啟用將隨著您 Azure 中工作負載成長的彈性網路。</span><span class="sxs-lookup"><span data-stu-id="c98b6-461">As you move from a single workload to multiple workloads which leverage hybrid capabilities, the VDC guidance will provide you with "recipe" to enable a flexible, network that will grow as your workloads in Azure grow.</span></span>

## <a name="next-steps"></a><span data-ttu-id="c98b6-462">後續步驟</span><span class="sxs-lookup"><span data-stu-id="c98b6-462">Next steps</span></span>

<span data-ttu-id="c98b6-463">治理是 Azure 成功的重要關鍵。</span><span class="sxs-lookup"><span data-stu-id="c98b6-463">Governance is crucial to the success of Azure.</span></span> <span data-ttu-id="c98b6-464">本文是以企業 Scaffold 的技術實作為目標，但只論及更廣泛的處理程序和元件之間的關聯性。</span><span class="sxs-lookup"><span data-stu-id="c98b6-464">This article targets the technical implementation of an enterprise scaffold but only touches on the broader process and relationships between the components.</span></span> <span data-ttu-id="c98b6-465">原則治理會從上而下流動，並由需要達成的業務來決定。</span><span class="sxs-lookup"><span data-stu-id="c98b6-465">Policy governance flows from the top down and is determined by what the business wants to achieve.</span></span> <span data-ttu-id="c98b6-466">當然，Azure 治理模型的建立納入 IT 部門代表，但更重要的是應該具有來自事業群領導者及安全性和風險管理階層的強大代表性。</span><span class="sxs-lookup"><span data-stu-id="c98b6-466">Naturally, the creation of a governance model for Azure includes representatives from IT, but more importantly it should have strong representation from business group leaders, and security and risk management.</span></span> <span data-ttu-id="c98b6-467">最後，企業 Scaffold 的目的就是要降低業務風險，以達成組織的任務與目標</span><span class="sxs-lookup"><span data-stu-id="c98b6-467">In the end, an enterprise scaffold is about mitigating business risk to facilitate an organization's mission and objectives</span></span>

<span data-ttu-id="c98b6-468">既然您已了解訂用帳戶治理，現在就可以參閱這些實務建議。</span><span class="sxs-lookup"><span data-stu-id="c98b6-468">Now that you have learned about subscription governance, it's time to see these recommendations in practice.</span></span> <span data-ttu-id="c98b6-469">請參閱[實作 Azure 訂用帳戶治理的範例](azure-scaffold-examples.md)。</span><span class="sxs-lookup"><span data-stu-id="c98b6-469">See [Examples of implementing Azure subscription governance](azure-scaffold-examples.md).</span></span>

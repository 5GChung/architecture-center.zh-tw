---
title: Azure 虛擬資料中心：網路觀點
description: 了解如何在 Azure 中建置虛擬資料中心
author: tracsman
manager: rossort
tags: azure-resource-manager
ms.service: virtual-network
ms.date: 09/24/2018
ms.author: jonor
ms.openlocfilehash: b10930ac6d6458872d8b626825d21bd0bed2b807
ms.sourcegitcommit: 16bc6a91b6b9565ca3bcc72d6eb27c2c4ae935e4
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/28/2018
ms.locfileid: "52550456"
---
# <a name="azure-virtual-datacenter-a-network-perspective"></a><span data-ttu-id="27dd6-103">Azure 虛擬資料中心：網路觀點</span><span class="sxs-lookup"><span data-stu-id="27dd6-103">Azure virtual datacenter: A network perspective</span></span>

## <a name="overview"></a><span data-ttu-id="27dd6-104">概觀</span><span class="sxs-lookup"><span data-stu-id="27dd6-104">Overview</span></span>
<span data-ttu-id="27dd6-105">將內部部署應用程式移轉至 Azure，甚至不需要任何大量變更，即可讓組織受益於安全且具成本效益的基礎結構。</span><span class="sxs-lookup"><span data-stu-id="27dd6-105">Migrating on-premises applications to Azure, even without any significant changes, provides organizations the benefit of a secured and cost-efficient infrastructure.</span></span> <span data-ttu-id="27dd6-106">此方法即所謂的**隨即轉移**。</span><span class="sxs-lookup"><span data-stu-id="27dd6-106">This approach is known as **lift and shift**.</span></span> <span data-ttu-id="27dd6-107">若要讓雲端運算具有最大靈活度，企業應該持續改進其架構，以充分利用 Azure 功能。</span><span class="sxs-lookup"><span data-stu-id="27dd6-107">To make the most of the agility possible with cloud computing, enterprises should evolve their architectures to take advantage of Azure capabilities.</span></span> <span data-ttu-id="27dd6-108">Microsoft Azure 提供超大規模的服務和基礎結構、企業級功能和可靠性，以及許多混合式連線的選項。</span><span class="sxs-lookup"><span data-stu-id="27dd6-108">Microsoft Azure delivers hyperscale services and infrastructure, enterprise-grade capabilities and reliability, and many choices for hybrid connectivity.</span></span> 

<span data-ttu-id="27dd6-109">客戶可以選擇透過網際網路或透過 Azure ExpressRoute (提供私人網路連線) 來存取這些雲端服務。</span><span class="sxs-lookup"><span data-stu-id="27dd6-109">Customers can choose to access these cloud services either via the internet or with Azure ExpressRoute, which provides private network connectivity.</span></span> <span data-ttu-id="27dd6-110">透過 Microsoft Azure 平台，客戶可順暢地將基礎結構延伸至雲端並建置多層式架構。</span><span class="sxs-lookup"><span data-stu-id="27dd6-110">With the Microsoft Azure platform, customers can seamlessly extend their infrastructure into the cloud and build multi-tier architectures.</span></span> <span data-ttu-id="27dd6-111">Microsoft 夥伴也提供增強的功能，方法是提供最適合在 Azure 中執行的安全性服務和虛擬設備。</span><span class="sxs-lookup"><span data-stu-id="27dd6-111">Microsoft partners also provide enhanced capabilities by offering security services and virtual appliances that are optimized to run in Azure.</span></span>

<span data-ttu-id="27dd6-112">本文概述可解決許多客戶在考慮移至雲端時所面臨的架構規模、效能和安全性問題的模式和設計。</span><span class="sxs-lookup"><span data-stu-id="27dd6-112">This article provides an overview of patterns and designs that solve the architectural scale, performance, and security concerns many customers face when they think about moving en masse to the cloud.</span></span> <span data-ttu-id="27dd6-113">此外也討論如何以不同的適當組織 IT 角色來管理和控管系統。</span><span class="sxs-lookup"><span data-stu-id="27dd6-113">An overview of how to fit different organizational IT roles into the management and governance of the system is also discussed.</span></span> <span data-ttu-id="27dd6-114">重點在於安全性需求和成本最佳化。</span><span class="sxs-lookup"><span data-stu-id="27dd6-114">Emphasis is on security requirements and cost optimization.</span></span>

## <a name="what-is-a-virtual-datacenter"></a><span data-ttu-id="27dd6-115">什麼是虛擬資料中心？</span><span class="sxs-lookup"><span data-stu-id="27dd6-115">What is a virtual datacenter?</span></span>
<span data-ttu-id="27dd6-116">雲端解決方案早先設計成在公用頻譜中裝載相對隔離的單一應用程式。</span><span class="sxs-lookup"><span data-stu-id="27dd6-116">Cloud solutions were first designed to host single, relatively isolated applications in the public spectrum.</span></span> <span data-ttu-id="27dd6-117">這種方法已良好運作多年。</span><span class="sxs-lookup"><span data-stu-id="27dd6-117">This approach worked well for a few years.</span></span> <span data-ttu-id="27dd6-118">其後，雲端解決方案的效益日漸顯著，開始有人在雲端上裝載多個大規模工作負載。</span><span class="sxs-lookup"><span data-stu-id="27dd6-118">Then the benefits of cloud solutions became apparent, and multiple large-scale workloads were hosted on the cloud.</span></span> <span data-ttu-id="27dd6-119">在雲端服務的整個生命週期處理一或多個區域中的安全性、可靠性、效能和部署成本考量，變得十分重要。</span><span class="sxs-lookup"><span data-stu-id="27dd6-119">Addressing security, reliability, performance, and cost concerns of deployments in one or more regions became vital throughout the life cycle of the cloud service.</span></span>

<span data-ttu-id="27dd6-120">下列雲端部署的**紅色方塊**顯示安全性缺口的範例。</span><span class="sxs-lookup"><span data-stu-id="27dd6-120">The following cloud deployment diagram shows an example of a security gap in the **red box**.</span></span> <span data-ttu-id="27dd6-121">**黃色方塊**顯示工作負載的最佳化網路虛擬設備空間。</span><span class="sxs-lookup"><span data-stu-id="27dd6-121">The **yellow box** shows room for optimization network virtual appliances across workloads.</span></span>

<span data-ttu-id="27dd6-122">[![0]][0]</span><span class="sxs-lookup"><span data-stu-id="27dd6-122">[![0]][0]</span></span>

<span data-ttu-id="27dd6-123">由於需要進行調整以支援企業工作負載，虛擬資料中心 (VDC) 應運而生。</span><span class="sxs-lookup"><span data-stu-id="27dd6-123">Virtual datacenter (VDC) was born from the necessity to scale to support enterprise workloads.</span></span> <span data-ttu-id="27dd6-124">此資料中心也可處理在公用雲端中支援大規模應用程式時所產生的問題。</span><span class="sxs-lookup"><span data-stu-id="27dd6-124">It also deals with the problems introduced when supporting large-scale applications in the public cloud.</span></span>

<span data-ttu-id="27dd6-125">VDC 不只是雲端中的應用程式工作負載。</span><span class="sxs-lookup"><span data-stu-id="27dd6-125">The VDC isn't just the application workloads in the cloud.</span></span> <span data-ttu-id="27dd6-126">它也是網路、安全性、管理和基礎結構。</span><span class="sxs-lookup"><span data-stu-id="27dd6-126">It's also the network, security, management, and infrastructure.</span></span> <span data-ttu-id="27dd6-127">範例包括 DNS 和目錄服務。</span><span class="sxs-lookup"><span data-stu-id="27dd6-127">Examples are DNS and directory services.</span></span> <span data-ttu-id="27dd6-128">它通常會提供連回內部部署網路或資料中心的私人連線。</span><span class="sxs-lookup"><span data-stu-id="27dd6-128">It usually provides a private connection back to an on-premises network or datacenter.</span></span> <span data-ttu-id="27dd6-129">有越來越多的工作負載移至 Azure 時，請務必考慮支援基礎結構以及這些工作負載所在的物件。</span><span class="sxs-lookup"><span data-stu-id="27dd6-129">As more and more workloads move to Azure, it's important to think about the supporting infrastructure and objects that these workloads are placed in.</span></span> <span data-ttu-id="27dd6-130">請謹慎考量資源建構方式，以避免增生數百個必須使用獨立的資料流程、安全性模型和相容性規則個別管理的**工作負載島**。</span><span class="sxs-lookup"><span data-stu-id="27dd6-130">Think carefully about how resources are structured to avoid the proliferation of hundreds of **workload islands** that must be managed separately with independent data flow, security models, and compliance challenges.</span></span>

<span data-ttu-id="27dd6-131">虛擬資料中心是個別但相關實體的集合，而實體具有一般支援功能和基礎結構。</span><span class="sxs-lookup"><span data-stu-id="27dd6-131">The virtual datacenter is a collection of separate but related entities with common supporting functions, features, and infrastructure.</span></span> <span data-ttu-id="27dd6-132">藉由以整合式 VDC 的形式檢視工作負載，您可以降低規模經濟的成本，以及透過元件和資料流程的集中化達到最高的安全性。</span><span class="sxs-lookup"><span data-stu-id="27dd6-132">By viewing your workloads as an integrated VDC, you can reduce costs from economies of scale and optimized security through component and data flow centralization.</span></span> <span data-ttu-id="27dd6-133">作業、管理和相容性稽核也將更為容易。</span><span class="sxs-lookup"><span data-stu-id="27dd6-133">You also get easier operations, management, and compliance audits.</span></span>

> [!NOTE]  
> <span data-ttu-id="27dd6-134">請務必了解，VDC 並**不是**獨立的 Azure 產品。</span><span class="sxs-lookup"><span data-stu-id="27dd6-134">It's important to understand that the VDC is **not** a discrete Azure product.</span></span> <span data-ttu-id="27dd6-135">它是為了符合您的實際需求，由各種特性和功能組合而成的。</span><span class="sxs-lookup"><span data-stu-id="27dd6-135">It's the combination of various features and capabilities to  meet your exact requirements.</span></span> <span data-ttu-id="27dd6-136">VDC 是考慮工作負載和 Azure 使用量以最佳化您雲端中資源和能力的方式。</span><span class="sxs-lookup"><span data-stu-id="27dd6-136">The VDC is a way of thinking about your workloads and Azure usage to maximize your resources and abilities in the cloud.</span></span> <span data-ttu-id="27dd6-137">因此，虛擬資料中心是在考慮組織角色和責任的情況，如何在 Azure 中建置 IT 服務的模組化方法。</span><span class="sxs-lookup"><span data-stu-id="27dd6-137">The virtual datacenter is therefore a modular approach on how to build up IT services in Azure, respecting organizational roles and responsibilities.</span></span>

<span data-ttu-id="27dd6-138">VDC 可協助企業在下列情況下，將工作負載和應用程式放入 Azure：</span><span class="sxs-lookup"><span data-stu-id="27dd6-138">The VDC can help enterprises get workloads and applications into Azure for the following scenarios:</span></span>

-   <span data-ttu-id="27dd6-139">裝載多個相關工作負載。</span><span class="sxs-lookup"><span data-stu-id="27dd6-139">Host multiple related workloads.</span></span>
-   <span data-ttu-id="27dd6-140">將工作負載從內部部署環境移轉至 Azure。</span><span class="sxs-lookup"><span data-stu-id="27dd6-140">Migrate workloads from an on-premises environment to Azure.</span></span>
-   <span data-ttu-id="27dd6-141">實作工作負載的共用或集中式安全性和存取需求。</span><span class="sxs-lookup"><span data-stu-id="27dd6-141">Implement shared or centralized security and access requirements across workloads.</span></span>
-   <span data-ttu-id="27dd6-142">適當地針對大型企業混合使用 Azure DevOps 和集中式 IT。</span><span class="sxs-lookup"><span data-stu-id="27dd6-142">Mix Azure DevOps and centralized IT appropriately for a large enterprise.</span></span>

<span data-ttu-id="27dd6-143">集中式拓樸、中樞和輪輻以及 Azure 功能的混合使用，是 VDC 充分展現其優勢的關鍵：</span><span class="sxs-lookup"><span data-stu-id="27dd6-143">The key to unlock the advantages of the VDC is a centralized topology, hub and spokes, with a mix of Azure features:</span></span> 

- <span data-ttu-id="27dd6-144">[Azure 虛擬網路][VNet]。</span><span class="sxs-lookup"><span data-stu-id="27dd6-144">[Azure Virtual Network][VNet].</span></span> 
- <span data-ttu-id="27dd6-145">[網路安全性群組 (NSG)][NSG]。</span><span class="sxs-lookup"><span data-stu-id="27dd6-145">[Network security groups (NSGs)][NSG].</span></span>
- <span data-ttu-id="27dd6-146">[虛擬網路對等互連][VNetPeering]。</span><span class="sxs-lookup"><span data-stu-id="27dd6-146">[Virtual network peering][VNetPeering].</span></span> 
- <span data-ttu-id="27dd6-147">[使用者定義的路由 (UDR)][UDR]。</span><span class="sxs-lookup"><span data-stu-id="27dd6-147">[User-defined routes (UDRs)][UDR].</span></span>
- <span data-ttu-id="27dd6-148">具有[使用角色型存取控制 (RBAC)][RBAC] 的 Azure 識別服務。</span><span class="sxs-lookup"><span data-stu-id="27dd6-148">Azure identity services with [role-based access control (RBAC)][RBAC].</span></span> 
- <span data-ttu-id="27dd6-149">(選擇性) [Azure 防火牆][AzFW]、[Azure DNS][DNS]、[Azure Front Door][AFD] 和 [Azure 虛擬 WAN][vWAN]。</span><span class="sxs-lookup"><span data-stu-id="27dd6-149">Optionally, [Azure Firewall][AzFW], [Azure DNS][DNS], [Azure Front Door][AFD], and [Azure Virtual WAN][vWAN].</span></span>

## <a name="who-should-implement-a-virtual-datacenter"></a><span data-ttu-id="27dd6-150">哪些人應實作虛擬資料中心？</span><span class="sxs-lookup"><span data-stu-id="27dd6-150">Who should implement a virtual datacenter?</span></span>
<span data-ttu-id="27dd6-151">任何需要將較多工作負載移至 Azure 的 Azure 客戶，都可因使用通用資源而獲益。</span><span class="sxs-lookup"><span data-stu-id="27dd6-151">Any Azure customer that needs to move more than a few workloads into Azure can benefit from using common resources.</span></span> <span data-ttu-id="27dd6-152">視大小之不同，即便是單一應用程式，也可因運用用來建置 VDC 的模式和元件而獲益。</span><span class="sxs-lookup"><span data-stu-id="27dd6-152">Depending on the size, even single applications can benefit from using the patterns and components used to build the VDC.</span></span>

<span data-ttu-id="27dd6-153">如果您的組織具有集中式 IT、網路、安全性或相容性小組/部門，VDC 將有助於強制執行原則點、職責區隔。</span><span class="sxs-lookup"><span data-stu-id="27dd6-153">If your organization has a centralized IT, network, security, or compliance team or department, the VDC can help enforce policy points and segregation of duty.</span></span> <span data-ttu-id="27dd6-154">此外也可確保基礎通用元件的一致性，同時讓應用程式小組依據您的需求保有恰如其分的自由度和掌控力。</span><span class="sxs-lookup"><span data-stu-id="27dd6-154">It also ensures uniformity of the underlying common components while giving application teams as much freedom and control as is appropriate for your requirements.</span></span>

<span data-ttu-id="27dd6-155">嘗試使用 DevOps 的組織可以利用 VDC 概念來提供授權的 Azure 資源組，並確保他們可完全掌控該群組。</span><span class="sxs-lookup"><span data-stu-id="27dd6-155">Organizations that look to Azure DevOps can utilize the VDC concepts to provide authorized pockets of Azure resources and to ensure they have total control within that group.</span></span> <span data-ttu-id="27dd6-156">群組可以是訂用帳戶，或一般訂用帳戶中的資源群組。</span><span class="sxs-lookup"><span data-stu-id="27dd6-156">Groups are either subscriptions or resource groups in a common subscription.</span></span> <span data-ttu-id="27dd6-157">但此時仍會符合網路和安全性界限，如中樞虛擬網路和資源群組中的集中式原則所定義。</span><span class="sxs-lookup"><span data-stu-id="27dd6-157">But the network and security boundaries stay compliant as defined by a centralized policy in a hub virtual network and resource group.</span></span>

## <a name="considerations-when-you-implement-a-virtual-datacenter"></a><span data-ttu-id="27dd6-158">實作虛擬資料中心時的考量</span><span class="sxs-lookup"><span data-stu-id="27dd6-158">Considerations when you implement a virtual datacenter</span></span>
<span data-ttu-id="27dd6-159">在設計 VDC 時，有數個關鍵問題需要考量：</span><span class="sxs-lookup"><span data-stu-id="27dd6-159">When you design your VDC, there are several pivotal issues to consider:</span></span>

-   <span data-ttu-id="27dd6-160">識別服務和目錄服務。</span><span class="sxs-lookup"><span data-stu-id="27dd6-160">Identity and directory services.</span></span>
-   <span data-ttu-id="27dd6-161">安全性基礎結構。</span><span class="sxs-lookup"><span data-stu-id="27dd6-161">Security infrastructure.</span></span>
-   <span data-ttu-id="27dd6-162">雲端的連線。</span><span class="sxs-lookup"><span data-stu-id="27dd6-162">Connectivity to the cloud.</span></span>
-   <span data-ttu-id="27dd6-163">雲端內的連線。</span><span class="sxs-lookup"><span data-stu-id="27dd6-163">Connectivity within the cloud.</span></span>

### <a name="identity-and-directory-services"></a><span data-ttu-id="27dd6-164">識別服務和目錄服務</span><span class="sxs-lookup"><span data-stu-id="27dd6-164">Identity and directory services</span></span>
<span data-ttu-id="27dd6-165">識別服務和目錄服務是內部部署和雲端中所有資料中心的一個關鍵層面。</span><span class="sxs-lookup"><span data-stu-id="27dd6-165">Identity and directory services are a key aspect of all datacenters, both on-premises and in the cloud.</span></span> <span data-ttu-id="27dd6-166">身分識別是與 VDC 內服務存取和授權的所有層面有關。</span><span class="sxs-lookup"><span data-stu-id="27dd6-166">Identity is related to all aspects of access and authorization to services within the VDC.</span></span> <span data-ttu-id="27dd6-167">為了確保只有授權使用者和程序可存取您的 Azure 帳戶和資源，Azure 會使用數種類型的認證進行驗證。</span><span class="sxs-lookup"><span data-stu-id="27dd6-167">To make sure that only authorized users and processes access your Azure account and resources, Azure uses several types of credentials for authentication.</span></span> <span data-ttu-id="27dd6-168">其中包括用以存取 Azure 帳戶的密碼、密碼編譯金鑰、數位簽章和憑證。</span><span class="sxs-lookup"><span data-stu-id="27dd6-168">These include passwords to access the Azure account, cryptographic keys, digital signatures, and certificates.</span></span> 

<span data-ttu-id="27dd6-169">[Azure Multi-Factor Authentication][MFA] 是存取 Azure 服務的額外安全層。</span><span class="sxs-lookup"><span data-stu-id="27dd6-169">[Azure Multi-Factor Authentication][MFA] is an additional layer of security for accessing Azure services.</span></span> <span data-ttu-id="27dd6-170">它可提供增強式驗證與一系列簡單的驗證選項。</span><span class="sxs-lookup"><span data-stu-id="27dd6-170">It provides strong authentication with a range of easy verification options.</span></span> <span data-ttu-id="27dd6-171">客戶可選擇其慣用的方法。</span><span class="sxs-lookup"><span data-stu-id="27dd6-171">Customers can choose the method they prefer.</span></span> <span data-ttu-id="27dd6-172">選項包括通話​​、簡訊或行動應用程式通知。</span><span class="sxs-lookup"><span data-stu-id="27dd6-172">Options include a phone call, text message, or mobile app notification.</span></span> 

<span data-ttu-id="27dd6-173">任何大型企業都需要定義身分識別管理程序，以說明 VDC 內或跨 VDC 的個別身分識別、其驗證、授權、角色和權限管理。</span><span class="sxs-lookup"><span data-stu-id="27dd6-173">Any large enterprise needs to define an identity management process that describes the management of individual identities and their authentication, authorization, roles, and privileges within or across the VDC.</span></span> <span data-ttu-id="27dd6-174">此程序的目標是提高安全性與生產力，同時降低成本、停機時間和重複性手動工作。</span><span class="sxs-lookup"><span data-stu-id="27dd6-174">The goals of this process are to increase security and productivity while lowering cost, downtime, and repetitive manual tasks.</span></span>

<span data-ttu-id="27dd6-175">對於不同的企業營運，企業和組織可能需要繁複地混用多項服務。</span><span class="sxs-lookup"><span data-stu-id="27dd6-175">Enterprises and organizations can require a demanding mix of services for different lines of business.</span></span> <span data-ttu-id="27dd6-176">而且，員工在投入不同專案時常會有不同的角色。</span><span class="sxs-lookup"><span data-stu-id="27dd6-176">And employees often have different roles when involved with different projects.</span></span> <span data-ttu-id="27dd6-177">使用 VDC 時，各具有特定角色定義的不同小組之間必須密切合作，使系統在妥善的控管下執行。</span><span class="sxs-lookup"><span data-stu-id="27dd6-177">The VDC requires good cooperation between different teams, each with specific role definitions, to get systems running with good governance.</span></span> <span data-ttu-id="27dd6-178">責任、存取權和權限的矩陣可能會很複雜。</span><span class="sxs-lookup"><span data-stu-id="27dd6-178">The matrix of responsibilities, access, and rights can be complex.</span></span> <span data-ttu-id="27dd6-179">VDC 中的身分識別管理會透過 [Azure Active Directory (Azure AD)][AAD] 和角色型存取控制 (RBAC) 進行實作。</span><span class="sxs-lookup"><span data-stu-id="27dd6-179">Identity management in VDC is implemented through [Azure Active Directory (Azure AD)][AAD] and role-based access control (RBAC).</span></span>

<span data-ttu-id="27dd6-180">目錄服務是一種共用資訊基礎結構，用以尋找、管理和組織日常項目和網路資源。</span><span class="sxs-lookup"><span data-stu-id="27dd6-180">A directory service is a shared information infrastructure that locates, manages, administers, and organizes everyday items and network resources.</span></span> <span data-ttu-id="27dd6-181">這些資源可能包含磁碟區、資料夾、檔案、印表機、使用者、群組、裝置和其他物件。</span><span class="sxs-lookup"><span data-stu-id="27dd6-181">These resources can include volumes, folders, files, printers, users, groups, devices, and other objects.</span></span> <span data-ttu-id="27dd6-182">目錄伺服器會將網路上的每個資源都視為物件。</span><span class="sxs-lookup"><span data-stu-id="27dd6-182">Each resource on the network is considered an object by the directory server.</span></span> <span data-ttu-id="27dd6-183">資源的相關資訊會儲存為與該資源或物件建立關聯的屬性集合。</span><span class="sxs-lookup"><span data-stu-id="27dd6-183">Information about a resource is stored as a collection of attributes associated with that resource or object.</span></span>

<span data-ttu-id="27dd6-184">所有 Microsoft Online 商務服務都依賴 Azure Active Directory (Azure AD) 來進行登入和其他身分識別需求。</span><span class="sxs-lookup"><span data-stu-id="27dd6-184">All Microsoft online business services rely on Azure Active Directory (Azure AD) for sign-in and other identity needs.</span></span> <span data-ttu-id="27dd6-185">Azure Active Directory 是全方位、高可用性的身分識別和存取管理的雲端解決方案，它結合了核心目錄服務、進階身分識別管制及應用程式存取管理。</span><span class="sxs-lookup"><span data-stu-id="27dd6-185">Azure Active Directory is a comprehensive, highly available identity and access management cloud solution that combines core directory services, advanced identity governance, and application access management.</span></span> <span data-ttu-id="27dd6-186">Azure AD 可以與內部部署 Active Directory 整合，以啟用所有雲端式和本機裝載 (內部部署) 應用程式的單一登入。</span><span class="sxs-lookup"><span data-stu-id="27dd6-186">Azure AD can integrate with on-premises Active Directory to enable single sign-on for all cloud-based and locally hosted on-premises applications.</span></span> <span data-ttu-id="27dd6-187">內部部署 Active Directory 的使用者屬性可以自動同步至 Azure AD。</span><span class="sxs-lookup"><span data-stu-id="27dd6-187">The user attributes of on-premises Active Directory can be automatically synchronized to Azure AD.</span></span>

<span data-ttu-id="27dd6-188">VDC 實作中的所有權限不一定要由單一全域管理員指派。</span><span class="sxs-lookup"><span data-stu-id="27dd6-188">A single global administrator isn't required to assign all permissions in a VDC implementation.</span></span> <span data-ttu-id="27dd6-189">相反地，每個特定部門或目錄服務中的使用者或服務群組都可以有管理其在 VDC 內專屬資源所需的權限。</span><span class="sxs-lookup"><span data-stu-id="27dd6-189">Instead, each specific department or group of users or services in the directory service can have the permissions that are required to manage their own resources within the VDC.</span></span> <span data-ttu-id="27dd6-190">建構權限需要平衡。</span><span class="sxs-lookup"><span data-stu-id="27dd6-190">Structuring permissions requires balancing.</span></span> <span data-ttu-id="27dd6-191">權限過多會阻礙效能。</span><span class="sxs-lookup"><span data-stu-id="27dd6-191">Too many permissions impede performance efficiency.</span></span> <span data-ttu-id="27dd6-192">權限太少或過於鬆散則會使安全性風險升高。</span><span class="sxs-lookup"><span data-stu-id="27dd6-192">Too few or loose permissions increase security risks.</span></span> <span data-ttu-id="27dd6-193">Azure 角色型存取控制 (RBAC) 可為 VDC 資源提供更精細的存取管理，以利解決此問題。</span><span class="sxs-lookup"><span data-stu-id="27dd6-193">Azure role-based access control (RBAC) helps address this problem by offering fine-grained access management for VDC resources.</span></span>

#### <a name="security-infrastructure"></a><span data-ttu-id="27dd6-194">安全性基礎結構</span><span class="sxs-lookup"><span data-stu-id="27dd6-194">Security infrastructure</span></span>
<span data-ttu-id="27dd6-195">此安全性基礎結構主要涉及 VDC 特定虛擬網路區段中的流量區隔，以及如何控制整個 VDC 的輸入和輸出流程。</span><span class="sxs-lookup"><span data-stu-id="27dd6-195">This security infrastructure refers to traffic segregation in the VDC's specific virtual network segment and how to control ingress and egress flows throughout the VDC.</span></span> <span data-ttu-id="27dd6-196">Azure 以多租用戶架構為基礎，此架構可防止部署之間出現未經授權和意外的流量。</span><span class="sxs-lookup"><span data-stu-id="27dd6-196">Azure is based on multi-tenant architecture that prevents unauthorized and unintentional traffic between deployments.</span></span> <span data-ttu-id="27dd6-197">它會使用虛擬網路隔離、存取控制清單 (ACL)、負載平衡器、IP 篩選器和流量原則。</span><span class="sxs-lookup"><span data-stu-id="27dd6-197">It uses virtual network isolation, access control lists (ACLs), load balancers, IP filters, and traffic flow policies.</span></span> <span data-ttu-id="27dd6-198">網路位址轉譯 (NAT) 會區隔內部網路流量與外部流量。</span><span class="sxs-lookup"><span data-stu-id="27dd6-198">Network address translation (NAT) separates internal network traffic from external traffic.</span></span>

<span data-ttu-id="27dd6-199">Azure 網狀架構會將基礎結構資源分配給租用戶工作負載，並管理與虛擬機器 (VM) 之間的通訊。</span><span class="sxs-lookup"><span data-stu-id="27dd6-199">The Azure fabric allocates infrastructure resources to tenant workloads and manages communications to and from virtual machines (VMs).</span></span> <span data-ttu-id="27dd6-200">Azure Hypervisor 會強制執行 VM 之間的記憶體和處理序區隔，並安全地將網路流量路由傳送至客體 OS 租用戶。</span><span class="sxs-lookup"><span data-stu-id="27dd6-200">The Azure hypervisor enforces memory and process separation between VMs and securely routes network traffic to guest OS tenants.</span></span>

#### <a name="connectivity-to-the-cloud"></a><span data-ttu-id="27dd6-201">雲端的連線</span><span class="sxs-lookup"><span data-stu-id="27dd6-201">Connectivity to the cloud</span></span>
<span data-ttu-id="27dd6-202">VDC 實作需要與外部網路的連線，才能將服務提供給客戶、合作夥伴和內部使用者。</span><span class="sxs-lookup"><span data-stu-id="27dd6-202">A VDC implementation requires connectivity with external networks to offer services to customers, partners, and internal users.</span></span> <span data-ttu-id="27dd6-203">它通常不僅需要連線至網際網路，也需連線至內部部署網路和資料中心。</span><span class="sxs-lookup"><span data-stu-id="27dd6-203">It usually needs connectivity not only to the internet but also to on-premises networks and datacenters.</span></span>

<span data-ttu-id="27dd6-204">客戶可使用 [Azure 防火牆][AzFW]或其他類型的虛擬網路設備 (NVA) 來控制哪些服務可與公用網際網路相互存取、使用[使用者定義的路由][UDR]來自訂路由原則，以及使用[網路安全性群組][NSG]進行網路篩選。</span><span class="sxs-lookup"><span data-stu-id="27dd6-204">Customers control which services have access to and are accessible from the public internet by using [Azure Firewall][AzFW] or other types of virtual network appliances (NVAs), custom routing policies by using [user-defined routes][UDR], and network filtering by using [network security groups][NSG].</span></span> <span data-ttu-id="27dd6-205">我們建議，所有面向網際網路的資源也都應受到 [Azure DDoS 保護標準][DDOS]的保護。</span><span class="sxs-lookup"><span data-stu-id="27dd6-205">We recommend that all internet-facing resources also be protected by the [Azure DDoS Protection Standard][DDOS].</span></span>

<span data-ttu-id="27dd6-206">企業常需要將其 VDC 實作連線至內部部署資料中心或其他資源。</span><span class="sxs-lookup"><span data-stu-id="27dd6-206">Enterprises often need to connect their VDC implementations to on-premises datacenters or other resources.</span></span> <span data-ttu-id="27dd6-207">因此，設計有效架構時，Azure 與內部部署網路之間的連線是重要層面。</span><span class="sxs-lookup"><span data-stu-id="27dd6-207">So the connectivity between Azure and on-premises networks is a crucial aspect when designing an effective architecture.</span></span> <span data-ttu-id="27dd6-208">企業有兩種不同的方式可在 Azure 中建立 VDC 實作與內部部署之間的互相連線：透過網際網路或私人直接連線進行傳輸。</span><span class="sxs-lookup"><span data-stu-id="27dd6-208">Enterprises have two different ways to create interconnections between VDC implementations and on-premises in Azure: transit over the internet or private direct connections.</span></span>

<span data-ttu-id="27dd6-209">[Azure 站對站 VPN][VPN] 會透過公用網際網路將企業的內部部署網路連線至其 VDC 實作。</span><span class="sxs-lookup"><span data-stu-id="27dd6-209">An [Azure site-to-site VPN][VPN] connects an enterprise's on-premises network to their VDC implementation over the public internet.</span></span> <span data-ttu-id="27dd6-210">透過 VPN 傳輸的流量會使用 IPSec 和 IKE 通道進行加密。</span><span class="sxs-lookup"><span data-stu-id="27dd6-210">Traffic over the VPN is encrypted by using IPSec and IKE tunneling.</span></span> <span data-ttu-id="27dd6-211">Azure 站對站連線富彈性，並且可快速地建立。</span><span class="sxs-lookup"><span data-stu-id="27dd6-211">An Azure site-to-site connection is flexible and quick to create.</span></span> <span data-ttu-id="27dd6-212">使用此 VPN 時無須額外購置任何項目，因為所有連線均透過網際網路連接。</span><span class="sxs-lookup"><span data-stu-id="27dd6-212">This VPN doesn't require any further procurement as all connections connect over the internet.</span></span>

<span data-ttu-id="27dd6-213">對於大量 VPN 連線，[Azure 虛擬 WAN][vWAN] 可作為網路服務，透過 Azure 提供最佳且自動化的分支對分支連線。</span><span class="sxs-lookup"><span data-stu-id="27dd6-213">For large numbers of VPN connections, [Azure Virtual WAN][vWAN] is a networking service that provides optimized and automated branch-to-branch connectivity through Azure.</span></span> <span data-ttu-id="27dd6-214">透過虛擬 WAN，您將可連線並設定與 Azure 通訊的分支裝置。</span><span class="sxs-lookup"><span data-stu-id="27dd6-214">With Virtual WAN, you can connect and configure branch devices to communicate with Azure.</span></span> <span data-ttu-id="27dd6-215">此連線可手動完成，或透過虛擬 WAN 合作夥伴使用慣用的提供者裝置來執行。</span><span class="sxs-lookup"><span data-stu-id="27dd6-215">This connection can be done either manually or by using preferred provider devices through a Virtual WAN partner.</span></span> <span data-ttu-id="27dd6-216">慣用的提供者裝置可讓您輕鬆使用、簡化連線和設定管理。</span><span class="sxs-lookup"><span data-stu-id="27dd6-216">Preferred provider devices give you ease of use, simplification of connectivity, and configuration management.</span></span> <span data-ttu-id="27dd6-217">Azure WAN 內建儀表板提供即時的疑難排解深入解析，可協助您節省時間。</span><span class="sxs-lookup"><span data-stu-id="27dd6-217">The Azure WAN built-in dashboard provides instant troubleshooting insights that can save you time.</span></span> <span data-ttu-id="27dd6-218">儀表板則可讓您輕鬆檢視大規模的站對站連線。</span><span class="sxs-lookup"><span data-stu-id="27dd6-218">And the dashboard gives you an easy way to view large-scale site-to-site connectivity.</span></span>

<span data-ttu-id="27dd6-219">[ExpressRoute][ExR] 是一種 Azure 連線服務，可讓您在企業的內部部署網路與 VDC 實作之間建立私人連線。</span><span class="sxs-lookup"><span data-stu-id="27dd6-219">[ExpressRoute][ExR], an Azure connectivity service, enables private connections between the enterprise's on-premises network and their VDC implementation.</span></span> <span data-ttu-id="27dd6-220">它可提供更高的安全性、可靠性、速度 (最高 10 Gbps)，以及一致的延遲。</span><span class="sxs-lookup"><span data-stu-id="27dd6-220">It offers higher security, reliability, and higher speeds, up to 10 Gbps, along with consistent latency.</span></span> <span data-ttu-id="27dd6-221">ExpressRoute 可輔助 VDC 的實作，因為 ExpressRoute 客戶可獲益於私人連線的相關合規性規則。</span><span class="sxs-lookup"><span data-stu-id="27dd6-221">ExpressRoute is useful for VDC implementations as ExpressRoute customers get the benefits of compliance rules associated with private connections.</span></span> <span data-ttu-id="27dd6-222">[ExpressRoute Direct][ExRD] 可讓您將具有較大頻寬需求的客戶以 100 Gbps 的速率直接連線至 Microsoft 路由器。</span><span class="sxs-lookup"><span data-stu-id="27dd6-222">[ExpressRoute Direct][ExRD] connects you directly to Microsoft routers at 100 Gbps for customers with larger bandwidth needs.</span></span>

<span data-ttu-id="27dd6-223">部署 ExpressRoute 連線通常包含加入 ExpressRoute 服務提供者。</span><span class="sxs-lookup"><span data-stu-id="27dd6-223">Deploying ExpressRoute connections usually involves engaging with an ExpressRoute service provider.</span></span> <span data-ttu-id="27dd6-224">針對需要快速啟動的客戶，一開始通常會使用站對站 VPN 建立 VDC 與內部部署資源之間的連線。</span><span class="sxs-lookup"><span data-stu-id="27dd6-224">For customers that need to start quickly, it's common to initially use a site-to-site VPN to establish connectivity between the VDC and on-premises resources.</span></span> <span data-ttu-id="27dd6-225">接著，在您完成與服務提供者之間的的實體互相連線後，再移轉至 ExpressRoute 連線。</span><span class="sxs-lookup"><span data-stu-id="27dd6-225">Then migrate to ExpressRoute connection when your physical interconnection with your service provider is finished.</span></span>

#### <a name="connectivity-within-the-cloud"></a><span data-ttu-id="27dd6-226">雲端內的連線</span><span class="sxs-lookup"><span data-stu-id="27dd6-226">Connectivity within the cloud</span></span>
<span data-ttu-id="27dd6-227">[虛擬網路][VNet]和[虛擬網路對等互連][VNetPeering]是 VDC 內的基本網路連線服務。</span><span class="sxs-lookup"><span data-stu-id="27dd6-227">[Virtual networks][VNet] and [virtual network peering][VNetPeering] are the basic networking connectivity services inside the VDC.</span></span> <span data-ttu-id="27dd6-228">虛擬網路可確保 VDC 資源會有自然的隔離界限。</span><span class="sxs-lookup"><span data-stu-id="27dd6-228">A virtual network guarantees a natural boundary of isolation for VDC resources.</span></span> <span data-ttu-id="27dd6-229">此外，虛擬網路對等互連可讓相同 Azure 區域內 (甚至跨區域) 的不同虛擬網路進行互相通訊。</span><span class="sxs-lookup"><span data-stu-id="27dd6-229">And virtual network peering allows intercommunication between different virtual networks in the same Azure region or even across regions.</span></span> <span data-ttu-id="27dd6-230">虛擬網路內與虛擬網路之間的流量控制必須符合透過存取控制清單指定的一組安全性規則。</span><span class="sxs-lookup"><span data-stu-id="27dd6-230">Traffic control inside a virtual network and between virtual networks needs to match a set of security rules specified through access control lists.</span></span> <span data-ttu-id="27dd6-231">請參閱[網路安全性群組][NSG]、[網路虛擬設備 (NVA)][NVA] 和[使用者定義路由的自訂路由表][UDR]的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="27dd6-231">See information on [network security groups][NSG], [network virtual appliances (NVAs)][NVA], and [custom routing tables for user-defined routes][UDR].</span></span>

## <a name="virtual-datacenter-overview"></a><span data-ttu-id="27dd6-232">虛擬資料中心概觀</span><span class="sxs-lookup"><span data-stu-id="27dd6-232">Virtual datacenter overview</span></span>

### <a name="topology"></a><span data-ttu-id="27dd6-233">拓撲</span><span class="sxs-lookup"><span data-stu-id="27dd6-233">Topology</span></span>
<span data-ttu-id="27dd6-234">**中樞和輪輻**是可對單一 Azure 區域內的虛擬資料中心進行延伸的模型。</span><span class="sxs-lookup"><span data-stu-id="27dd6-234">**Hub and spoke** is a model for extending a virtual datacenter within a single Azure region.</span></span>

<span data-ttu-id="27dd6-235">[![1]][1]</span><span class="sxs-lookup"><span data-stu-id="27dd6-235">[![1]][1]</span></span>

<span data-ttu-id="27dd6-236">中樞是中央網路區域，可控制和檢查不同區域之間的輸入或輸出流量：網際網路、內部部署和輪輻。</span><span class="sxs-lookup"><span data-stu-id="27dd6-236">A hub is the central network zone that controls and inspects ingress or egress traffic between different zones: internet, on-premises, and the spokes.</span></span> <span data-ttu-id="27dd6-237">中樞和輪輻拓撲可讓 IT 部門有效地在中央位置強制執行安全性原則。</span><span class="sxs-lookup"><span data-stu-id="27dd6-237">The hub and spoke topology gives the IT department an effective way to enforce security policies in a central location.</span></span> <span data-ttu-id="27dd6-238">此外也可降低設定錯誤和暴露的可能性。</span><span class="sxs-lookup"><span data-stu-id="27dd6-238">It also reduces the potential for misconfiguration and exposure.</span></span>

<span data-ttu-id="27dd6-239">中樞包含支點所使用的一般服務元件。</span><span class="sxs-lookup"><span data-stu-id="27dd6-239">The hub contains the common service components consumed by the spokes.</span></span> <span data-ttu-id="27dd6-240">以下是常用中央服務的範例：</span><span class="sxs-lookup"><span data-stu-id="27dd6-240">The following examples are common central services:</span></span>

-   <span data-ttu-id="27dd6-241">從不受信任的網路存取的第三方在能夠存取輪輻中的工作負載之前進行使用者驗證所需的 Windows Active Directory 基礎結構。</span><span class="sxs-lookup"><span data-stu-id="27dd6-241">The Windows Active Directory infrastructure, required for user authentication of third parties that access from untrusted networks before they get access to the workloads in the spoke.</span></span> <span data-ttu-id="27dd6-242">其中包括相關的 Active Directory 同盟服務 (AD FS)。</span><span class="sxs-lookup"><span data-stu-id="27dd6-242">It includes the related Active Directory Federation Services (AD FS).</span></span>
-   <span data-ttu-id="27dd6-243">DNS 服務，用來對輪輻中的工作負載進行命名解析，以存取內部部署和網際網路上的資源 (如果未使用 [Azure DNS][DNS])。</span><span class="sxs-lookup"><span data-stu-id="27dd6-243">A DNS service to resolve naming for the workload in the spokes, to access resources on-premises and on the internet if [Azure DNS][DNS] isn't used.</span></span>
-   <span data-ttu-id="27dd6-244">公開金鑰基礎結構 (PKI)，用以實作工作負載的單一登入。</span><span class="sxs-lookup"><span data-stu-id="27dd6-244">A public key infrastructure (PKI), to implement single sign-on on workloads.</span></span>
-   <span data-ttu-id="27dd6-245">輪輻網路區域與網際網路之間的 TCP 和 UDP 流量的流量控制。</span><span class="sxs-lookup"><span data-stu-id="27dd6-245">Flow control of TCP and UDP traffic between the spoke network zones and the internet.</span></span>
-   <span data-ttu-id="27dd6-246">輪輻與內部部署之間的流量控制。</span><span class="sxs-lookup"><span data-stu-id="27dd6-246">Flow control between the spokes and on-premises.</span></span>
-   <span data-ttu-id="27dd6-247">兩個輪輻之間的流量控制 (如有需要)。</span><span class="sxs-lookup"><span data-stu-id="27dd6-247">If needed, flow control between one spoke and another.</span></span>

<span data-ttu-id="27dd6-248">VDC 透過在多個支點之間使用共用中樞基礎結構，以減少整體成本。</span><span class="sxs-lookup"><span data-stu-id="27dd6-248">The VDC reduces overall cost by using the shared hub infrastructure between multiple spokes.</span></span>

<span data-ttu-id="27dd6-249">每個支點的角色都可以裝載不同類型的工作負載。</span><span class="sxs-lookup"><span data-stu-id="27dd6-249">The role of each spoke can be to host different types of workloads.</span></span> <span data-ttu-id="27dd6-250">輪輻也提供適用的模組化方法，供相同的工作負載進行可重複的部署。</span><span class="sxs-lookup"><span data-stu-id="27dd6-250">The spokes also provide a modular approach for repeatable deployments of the same workloads.</span></span> <span data-ttu-id="27dd6-251">範例包括開發和測試、使用者驗收測試、生產階段前環境和生產環境。</span><span class="sxs-lookup"><span data-stu-id="27dd6-251">Examples are dev and test, user acceptance testing, preproduction, and production.</span></span> <span data-ttu-id="27dd6-252">輪輻也可區隔和啟用組織內的不同群組。</span><span class="sxs-lookup"><span data-stu-id="27dd6-252">The spokes can also segregate and enable different groups within your organization.</span></span> <span data-ttu-id="27dd6-253">Azure DevOps 群組為範例之一。</span><span class="sxs-lookup"><span data-stu-id="27dd6-253">An example is Azure DevOps groups.</span></span> <span data-ttu-id="27dd6-254">在輪輻內部，可以使用各層之間的流量控制來部署基本工作負載或複雜的多層式工作負載。</span><span class="sxs-lookup"><span data-stu-id="27dd6-254">Inside a spoke, it's possible to deploy a basic workload or complex multi-tier workloads with traffic control between the tiers.</span></span>

#### <a name="subscription-limits-and-multiple-hubs"></a><span data-ttu-id="27dd6-255">訂用帳戶限制和多個中樞</span><span class="sxs-lookup"><span data-stu-id="27dd6-255">Subscription limits and multiple hubs</span></span>
<span data-ttu-id="27dd6-256">在 Azure 中，每個任何類型的元件都會部署在 Azure 訂用帳戶中。</span><span class="sxs-lookup"><span data-stu-id="27dd6-256">In Azure, every component, whatever the type, is deployed in an Azure subscription.</span></span> <span data-ttu-id="27dd6-257">在不同的 Azure 訂用帳戶中隔離 Azure 元件，可以滿足不同企業營運的需求。</span><span class="sxs-lookup"><span data-stu-id="27dd6-257">The isolation of Azure components in different Azure subscriptions can satisfy the requirements of different lines of business.</span></span> <span data-ttu-id="27dd6-258">例如，設定不同層級的存取和授權。</span><span class="sxs-lookup"><span data-stu-id="27dd6-258">An example is setting up differentiated levels of access and authorization.</span></span>

<span data-ttu-id="27dd6-259">單一 VDC 實作可以相應增加為大量輪輻。</span><span class="sxs-lookup"><span data-stu-id="27dd6-259">A single VDC implementation can scale up to a large number of spokes.</span></span> <span data-ttu-id="27dd6-260">但如同每個 IT 系統的共同問題，平台有其限制。</span><span class="sxs-lookup"><span data-stu-id="27dd6-260">But as with every IT system, there are platforms limits.</span></span> <span data-ttu-id="27dd6-261">中樞部署會繫結至具有限制的特定 Azure 訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="27dd6-261">The hub deployment is bound to a specific Azure subscription, which has restrictions and limits.</span></span> <span data-ttu-id="27dd6-262">虛擬網路對等互連的數目上限即為一例。</span><span class="sxs-lookup"><span data-stu-id="27dd6-262">An example is a maximum number of virtual network peerings.</span></span> <span data-ttu-id="27dd6-263">如需詳細資訊，請參閱 [Azure 訂用帳戶和服務限制、配額與限制][Limits]。</span><span class="sxs-lookup"><span data-stu-id="27dd6-263">For details, see [Azure subscription and service limits, quotas, and constraints][Limits].</span></span> <span data-ttu-id="27dd6-264">如果限制可能引發問題，架構可以進一步相應增加。</span><span class="sxs-lookup"><span data-stu-id="27dd6-264">In cases where limits might be an issue, the architecture can scale up further.</span></span> <span data-ttu-id="27dd6-265">請將模型從單一中樞輪輻延伸為中樞和輪輻的叢集。</span><span class="sxs-lookup"><span data-stu-id="27dd6-265">Extend the model from a single hub-spokes to a cluster of hub and spokes.</span></span> <span data-ttu-id="27dd6-266">您可以使用虛擬網路對等互連、ExpressRoute、虛擬 WAN 或站對站 VPN，將一或多個 Azure 區域中的多個中樞互相連線。</span><span class="sxs-lookup"><span data-stu-id="27dd6-266">Interconnect multiple hubs in one or more Azure regions by using virtual network peering, ExpressRoute, Virtual WAN, or a site-to-site VPN.</span></span>

<span data-ttu-id="27dd6-267">[![2]][2]</span><span class="sxs-lookup"><span data-stu-id="27dd6-267">[![2]][2]</span></span>

<span data-ttu-id="27dd6-268">導入多個中樞會增加系統的成本和管理工作。</span><span class="sxs-lookup"><span data-stu-id="27dd6-268">The introduction of multiple hubs increases the cost and management effort of the system.</span></span> <span data-ttu-id="27dd6-269">此狀況只能藉由延展性 (例如系統限制或備援) 和區域複寫 (例如使用者效能或災害復原) 來調整。</span><span class="sxs-lookup"><span data-stu-id="27dd6-269">It would only be justified by scalability like system limits or redundancy and regional replication like end-user performance or disaster recovery.</span></span> <span data-ttu-id="27dd6-270">在需要多個中樞的案例中，所有中樞都應該致力於提供一組相同的易操作服務。</span><span class="sxs-lookup"><span data-stu-id="27dd6-270">In scenarios requiring multiple hubs, all the hubs should strive to offer the same set of services for operational ease.</span></span>

#### <a name="interconnection-between-spokes"></a><span data-ttu-id="27dd6-271">支點之間的互相連線</span><span class="sxs-lookup"><span data-stu-id="27dd6-271">Interconnection between spokes</span></span>
<span data-ttu-id="27dd6-272">在單一輪輻內可以實作複雜的多層式工作負載。</span><span class="sxs-lookup"><span data-stu-id="27dd6-272">Inside a single spoke, it's possible to implement complex multi-tier workloads.</span></span> <span data-ttu-id="27dd6-273">您可以為相同虛擬網路中的每一層中使用一個子網路，以實作多層式組態。</span><span class="sxs-lookup"><span data-stu-id="27dd6-273">You can implement multi-tier configurations by using one subnet for every tier in the same virtual network.</span></span> <span data-ttu-id="27dd6-274">使用 NSG 篩選流程。</span><span class="sxs-lookup"><span data-stu-id="27dd6-274">Filter the flows by using NSGs.</span></span>

<span data-ttu-id="27dd6-275">架構設計人員可能會想要跨多個虛擬網路部署一個多層式工作負載。</span><span class="sxs-lookup"><span data-stu-id="27dd6-275">An architect might want to deploy a multi-tier workload across multiple virtual networks.</span></span> <span data-ttu-id="27dd6-276">透過虛擬網路對等互連，輪輻可以連線至相同中樞或不同中樞內的其他輪輻。</span><span class="sxs-lookup"><span data-stu-id="27dd6-276">With virtual network peering, spokes can connect to other spokes in the same hub or different hubs.</span></span> <span data-ttu-id="27dd6-277">此案例的常見範例是，應用程式處理伺服器位於一個輪輻 (或虛擬網路) 中。</span><span class="sxs-lookup"><span data-stu-id="27dd6-277">A typical example of this scenario is the case where application processing servers are in one spoke, or virtual network.</span></span> <span data-ttu-id="27dd6-278">資料庫則部署在多個輪輻 (或虛擬網路) 中。</span><span class="sxs-lookup"><span data-stu-id="27dd6-278">The database deploys in a different spoke, or virtual network.</span></span> <span data-ttu-id="27dd6-279">在此情況下，可以輕易地透過虛擬網路對等互連將輪輻互相連線，而避免透過中樞傳輸。</span><span class="sxs-lookup"><span data-stu-id="27dd6-279">In this case, it's easy to interconnect the spokes with virtual network peering and thereby avoid transiting through the hub.</span></span> <span data-ttu-id="27dd6-280">您應仔細檢閱架構和安全性，以確定略過中樞並不會略過可能僅存在於中樞的重要安全性或稽核點。</span><span class="sxs-lookup"><span data-stu-id="27dd6-280">A careful architecture and security review should be performed to ensure that bypassing the hub doesn’t bypass important security or auditing points that might exist only in the hub.</span></span>

<span data-ttu-id="27dd6-281">[![3]][3]</span><span class="sxs-lookup"><span data-stu-id="27dd6-281">[![3]][3]</span></span>

<span data-ttu-id="27dd6-282">支點也可以與作為中樞的支點互相連接。</span><span class="sxs-lookup"><span data-stu-id="27dd6-282">Spokes can also be interconnected to a spoke that acts as a hub.</span></span> <span data-ttu-id="27dd6-283">這種方法會建立雙層階層：較高層級的輪輻 (層級 0) 會成為階層中較低輪輻 (層級 1) 的中樞。</span><span class="sxs-lookup"><span data-stu-id="27dd6-283">This approach creates a two-level hierarchy: the spokes in the higher level, level 0, become the hub of lower spokes, level 1, of the hierarchy.</span></span> <span data-ttu-id="27dd6-284">要將流量轉送到中央中樞，以送達內部部署網路或網際網路，必須實作 VDC 的輪輻。</span><span class="sxs-lookup"><span data-stu-id="27dd6-284">The spokes of a VDC implementation are required to forward the traffic to the central hub to reach out either to the on-premises network or internet.</span></span> <span data-ttu-id="27dd6-285">具有雙層中樞的架構引進複雜路由，以移除簡單中樞支點關聯性的優點。</span><span class="sxs-lookup"><span data-stu-id="27dd6-285">An architecture with two levels of hub introduces complex routing that removes the benefits of a simple hub-spoke relationship.</span></span>

<span data-ttu-id="27dd6-286">雖然 Azure 允許複雜拓撲，但是 VDC 概念的其中一個核心準則是重複性和簡單性。</span><span class="sxs-lookup"><span data-stu-id="27dd6-286">Although Azure allows complex topologies, one of the core principles of the VDC concept is repeatability and simplicity.</span></span> <span data-ttu-id="27dd6-287">若要將管理投入時間降到最低，我們建議採用 VDC 參考架構這種簡單的中樞輪輻設計。</span><span class="sxs-lookup"><span data-stu-id="27dd6-287">To minimize management effort, the simple hub-spoke design is the VDC reference architecture that we recommend.</span></span>

### <a name="components"></a><span data-ttu-id="27dd6-288">元件</span><span class="sxs-lookup"><span data-stu-id="27dd6-288">Components</span></span>
<span data-ttu-id="27dd6-289">虛擬資料中心由四種基本元件類型所構成：**基礎結構**、**周邊網路**、**工作負載**和**監視**。</span><span class="sxs-lookup"><span data-stu-id="27dd6-289">A virtual datacenter implementation is made up of four basic component types: **Infrastructure**, **Perimeter Networks**, **Workloads**, and **Monitoring**.</span></span>

<span data-ttu-id="27dd6-290">每種元件類型都是由各種 Azure 功能和資源所組成。</span><span class="sxs-lookup"><span data-stu-id="27dd6-290">Each component type consists of various Azure features and resources.</span></span> <span data-ttu-id="27dd6-291">企業的 VDC 實作由多種元件類型的執行個體以及相同元件類型多種變體的執行個體所構成。</span><span class="sxs-lookup"><span data-stu-id="27dd6-291">An enterprise's VDC implementation is made up of instances of multiple component types and multiple variations of the same component type.</span></span> <span data-ttu-id="27dd6-292">例如，您可能有代表不同應用程式的許多不同邏輯分隔的工作負載執行個體。</span><span class="sxs-lookup"><span data-stu-id="27dd6-292">For instance, you might have many different, logically separated workload instances that represent different applications.</span></span> <span data-ttu-id="27dd6-293">您可以使用這些不同的元件類型和執行個體來最後建置 VDC。</span><span class="sxs-lookup"><span data-stu-id="27dd6-293">You use these different component types and instances to ultimately build the VDC.</span></span>

<span data-ttu-id="27dd6-294">[![4]][4]</span><span class="sxs-lookup"><span data-stu-id="27dd6-294">[![4]][4]</span></span>

<span data-ttu-id="27dd6-295">VDC 實作的上述高階架構，顯示中樞輪輻拓撲的不同區域中使用的不同元件類型。</span><span class="sxs-lookup"><span data-stu-id="27dd6-295">The preceding high-level architecture of a VDC implementation shows different component types used in different zones of the hub-spokes topology.</span></span> <span data-ttu-id="27dd6-296">此圖顯示架構各種組件中的基礎結構元件。</span><span class="sxs-lookup"><span data-stu-id="27dd6-296">The diagram shows infrastructure components in various parts of the architecture.</span></span>

<span data-ttu-id="27dd6-297">就內部部署資料中心或 VDC 實作而言，存取權利和權限應以群組為基礎，不錯的做法。</span><span class="sxs-lookup"><span data-stu-id="27dd6-297">As a good practice for an on-premises datacenter or a VDC implementation, access rights and privileges should be group based.</span></span> <span data-ttu-id="27dd6-298">處理群組而不是個別使用者，可一致地在各個小組間維護存取原則，並將設定錯誤降至最低。</span><span class="sxs-lookup"><span data-stu-id="27dd6-298">Deal with groups instead of individual users to maintain access policies consistently across teams and minimize configuration errors.</span></span> <span data-ttu-id="27dd6-299">在適當群組中指派和移除使用者，有助於保持特定使用者權限的最新狀態。</span><span class="sxs-lookup"><span data-stu-id="27dd6-299">Assign and remove users to and from appropriate groups to keep the privileges of a specific user up to date.</span></span>

<span data-ttu-id="27dd6-300">每個角色群組的名稱均應有唯一的前置詞。</span><span class="sxs-lookup"><span data-stu-id="27dd6-300">Each role group should have a unique prefix on their names.</span></span> <span data-ttu-id="27dd6-301">此前置詞有助於輕易識別哪個群組與哪個工作負載相關聯。</span><span class="sxs-lookup"><span data-stu-id="27dd6-301">This prefix makes it easy to identify which group is associated with which workload.</span></span> <span data-ttu-id="27dd6-302">例如，裝載驗證服務的工作負載可能會名為 **AuthServiceNetOps**、**AuthServiceSecOps**、**AuthServiceDevOps** 和 **AuthServiceInfraOps**。</span><span class="sxs-lookup"><span data-stu-id="27dd6-302">For example, a workload hosting an authentication service might have groups named **AuthServiceNetOps**, **AuthServiceSecOps**, **AuthServiceDevOps**, and **AuthServiceInfraOps**.</span></span> <span data-ttu-id="27dd6-303">集中式角色 (或與特定服務無關的角色) 前面可能會加上 **Corp**。例如 **CorpNetOps**。</span><span class="sxs-lookup"><span data-stu-id="27dd6-303">Centralized roles, or roles not related to a specific service, might be prefaced with **Corp**. An example is **CorpNetOps**.</span></span>

<span data-ttu-id="27dd6-304">許多組織都會使用下列群組的一種變化，以提供角色的主要分析：</span><span class="sxs-lookup"><span data-stu-id="27dd6-304">Many organizations use a variation of the following groups to provide a major breakdown of roles:</span></span>

-   <span data-ttu-id="27dd6-305">中央 IT 群組 **Corp** 具有控制基礎結構元件的擁有權。</span><span class="sxs-lookup"><span data-stu-id="27dd6-305">The central IT group, **Corp,** has the ownership rights to control infrastructure components.</span></span> <span data-ttu-id="27dd6-306">例如網路和安全性。</span><span class="sxs-lookup"><span data-stu-id="27dd6-306">Examples are networking and security.</span></span> <span data-ttu-id="27dd6-307">群組必須具有訂用帳戶的參與者角色、中樞的控制權，以及輪輻中的網路參與者權限。</span><span class="sxs-lookup"><span data-stu-id="27dd6-307">The group needs to have the role of contributor on the subscription, control of the hub, and network contributor rights in the spokes.</span></span> <span data-ttu-id="27dd6-308">大型組織常會將這些管理職責劃分到多個小組間。</span><span class="sxs-lookup"><span data-stu-id="27dd6-308">Large organizations frequently split up these management responsibilities between multiple teams.</span></span> <span data-ttu-id="27dd6-309">例如，網路作業 **CorpNetOps** 群組 (具有網路的獨佔焦點)，和安全性作業 **CorpSecOps** 群組 (負責防火牆和安全性原則)。</span><span class="sxs-lookup"><span data-stu-id="27dd6-309">Examples are a network operations **CorpNetOps** group with exclusive focus on networking and a security operations **CorpSecOps** group responsible for the firewall and security policy.</span></span> <span data-ttu-id="27dd6-310">在這種特定情況下，需要建立兩個不同的群組，才能指派這些自訂角色。</span><span class="sxs-lookup"><span data-stu-id="27dd6-310">In this specific case, two different groups need to be created for assignment of these custom roles.</span></span>
-   <span data-ttu-id="27dd6-311">開發測試群組 **AppDevOps** 負責部署應用程式或服務工作負載。</span><span class="sxs-lookup"><span data-stu-id="27dd6-311">The dev-test group, **AppDevOps,** has the responsibility to deploy app or service workloads.</span></span> <span data-ttu-id="27dd6-312">此群組扮演虛擬機器參與者角色以進行 IaaS 部署，或一或多個 PaaS 參與者的角色。</span><span class="sxs-lookup"><span data-stu-id="27dd6-312">This group takes the role of virtual machine contributor for IaaS deployments or one or more PaaS contributor’s roles.</span></span> <span data-ttu-id="27dd6-313">請參閱[適用於 Azure 資源的內建角色][Roles]。</span><span class="sxs-lookup"><span data-stu-id="27dd6-313">See [Built-in roles for Azure resources][Roles].</span></span> <span data-ttu-id="27dd6-314">(選擇性) 開發測試小組可能需要檢視中樞或特定輪輻內的安全性原則 (NSG) 和路由原則 (UDR)。</span><span class="sxs-lookup"><span data-stu-id="27dd6-314">Optionally, the dev-test team might need visibility on security policies, NSGs, and routing policies, UDRs, inside the hub or a specific spoke.</span></span> <span data-ttu-id="27dd6-315">除了工作負載參與者角色之外，此群組也需要網路讀取者角色。</span><span class="sxs-lookup"><span data-stu-id="27dd6-315">In addition to the role of contributor for workloads, this group would also need the role of network reader.</span></span>
-   <span data-ttu-id="27dd6-316">作業和維護群組 (**CorpInfraOps** 或 **AppInfraOps**) 負責管理生產環境中的工作負載。</span><span class="sxs-lookup"><span data-stu-id="27dd6-316">The operation and maintenance group, **CorpInfraOps** or **AppInfraOps,** has the responsibility of managing workloads in production.</span></span> <span data-ttu-id="27dd6-317">此群組必須是任何生產訂用帳戶中工作負載的訂用帳戶參與者。</span><span class="sxs-lookup"><span data-stu-id="27dd6-317">This group needs to be a subscription contributor on workloads in any production subscriptions.</span></span> <span data-ttu-id="27dd6-318">某些組織可能也會評估他們是否需要在生產環境和中央中樞訂用帳戶中具有訂用帳戶參與者角色的額外擴大支援小組群組。</span><span class="sxs-lookup"><span data-stu-id="27dd6-318">Some organizations might also evaluate if they need an additional escalation support team group with the role of subscription contributor in production and the central hub subscription.</span></span> <span data-ttu-id="27dd6-319">額外的群組可修正生產環境中潛在的設定問題。</span><span class="sxs-lookup"><span data-stu-id="27dd6-319">The additional group fixes potential configuration issues in the production environment.</span></span>

<span data-ttu-id="27dd6-320">VDC 具適當結構，因此，針對管理中樞的中央 IT 群組而建立的群組，具有工作負載層級的對應群組。</span><span class="sxs-lookup"><span data-stu-id="27dd6-320">The VDC is structured so that groups created for the central IT groups that manage the hub have corresponding groups at the workload level.</span></span> <span data-ttu-id="27dd6-321">除了管理中樞資源以外，只有中央 IT 群組才能夠控制外部存取，以及訂用帳戶的最上層權限。</span><span class="sxs-lookup"><span data-stu-id="27dd6-321">In addition to managing hub resources, only the central IT groups would control external access and top-level permissions on the subscription.</span></span> <span data-ttu-id="27dd6-322">不過，工作負載群組會在中央 IT 上單獨控制其虛擬網路的資源和權限。</span><span class="sxs-lookup"><span data-stu-id="27dd6-322">However, workload groups would control resources and permissions of their virtual network independently on the central IT.</span></span>

<span data-ttu-id="27dd6-323">分割 VDC 可跨不同的企業營運安全地裝載多個專案。</span><span class="sxs-lookup"><span data-stu-id="27dd6-323">Partition the VDC to securely host multiple projects across different lines of business.</span></span> <span data-ttu-id="27dd6-324">所有專案都需要不同的隔離環境，例如開發、UAT、生產。</span><span class="sxs-lookup"><span data-stu-id="27dd6-324">All projects require different isolated environments, such as dev, UAT, and production.</span></span> <span data-ttu-id="27dd6-325">其中每個環境的不同 Azure 訂用帳戶都會提供自然隔離。</span><span class="sxs-lookup"><span data-stu-id="27dd6-325">Separate Azure subscriptions for each of these environments provide natural isolation.</span></span>

<span data-ttu-id="27dd6-326">[![5]][5]</span><span class="sxs-lookup"><span data-stu-id="27dd6-326">[![5]][5]</span></span>

<span data-ttu-id="27dd6-327">上圖顯示組織的專案、使用者、群組與 Azure 元件部署所在環境之間的關聯性。</span><span class="sxs-lookup"><span data-stu-id="27dd6-327">The preceding diagram shows the relationship between an organization's projects, users, and groups and the environments where the Azure components are deployed.</span></span>

<span data-ttu-id="27dd6-328">在 IT 中，環境或層通常是部署和執行多個應用程式的系統。</span><span class="sxs-lookup"><span data-stu-id="27dd6-328">Typically in IT, an environment or tier is a system in which multiple applications are deployed and run.</span></span> <span data-ttu-id="27dd6-329">大型企業會使用開發環境進行變更並加以測試，以及使用者所使用的生產環境。</span><span class="sxs-lookup"><span data-stu-id="27dd6-329">Large enterprises use a development environment to make and test changes and a production environment that end users use.</span></span> <span data-ttu-id="27dd6-330">這些環境之間通常都會分隔成數個預備環境，以允許分階段部署 (推出)、測試以及在發生問題時復原。</span><span class="sxs-lookup"><span data-stu-id="27dd6-330">Those environments are separated, often with several staging environments in between them to allow phased deployment (rollout), testing, and rollback if there are problems.</span></span> <span data-ttu-id="27dd6-331">部署架構差異極大，但通常仍會遵循始於開發 (**DEV**) 並終於生產 (**PROD**) 的基本程序。</span><span class="sxs-lookup"><span data-stu-id="27dd6-331">Deployment architectures vary significantly but usually still follow the basic process that starts at development, **DEV**, and ends at production, **PROD**.</span></span>

<span data-ttu-id="27dd6-332">這幾種多層式環境的常見架構由 Azure DevOps (開發和測試)、UAT (預備) 和生產環境所組成。</span><span class="sxs-lookup"><span data-stu-id="27dd6-332">A common architecture for these types of multi-tier environments consists of Azure DevOps for development and testing, UAT for staging, and production environments.</span></span> <span data-ttu-id="27dd6-333">組織可以利用單一或多個 Azure AD 租用戶，來定義對這些環境的存取權和權限。</span><span class="sxs-lookup"><span data-stu-id="27dd6-333">Organizations can leverage single or multiple Azure AD tenants to define access and rights to these environments.</span></span> <span data-ttu-id="27dd6-334">上圖顯示使用兩個不同 Azure AD 租用戶的情況：一個用於 Azure DevOps 和 UAT，另一個則專用於生產環境。</span><span class="sxs-lookup"><span data-stu-id="27dd6-334">The previous diagram shows a case where two different Azure AD tenants are used: one for Azure DevOps and UAT, and the other exclusively for production.</span></span>

<span data-ttu-id="27dd6-335">具有不同的 Azure AD 租用戶會強制執行環境之間的區隔。</span><span class="sxs-lookup"><span data-stu-id="27dd6-335">The presence of different Azure AD tenants enforces the separation between environments.</span></span> <span data-ttu-id="27dd6-336">相同的使用者群組 (例如中央 IT) 需要使用不同的 URI 憑證存取不同的 Azure AD 租用戶進行驗證，以修改專案的 Azure DevOps 或生產環境的角色或權限。</span><span class="sxs-lookup"><span data-stu-id="27dd6-336">The same group of users, such as the central IT, needs to authenticate by using a different URI to access a different Azure AD tenant to modify the roles or permissions of either the Azure DevOps or production environments of a project.</span></span> <span data-ttu-id="27dd6-337">具有存取不同環境的不同使用者驗證可降低可能的中斷以及人為錯誤所導致的其他問題。</span><span class="sxs-lookup"><span data-stu-id="27dd6-337">The presence of different user authentications to access different environments reduces possible outages and other issues caused by human errors.</span></span>

#### <a name="component-type-infrastructure"></a><span data-ttu-id="27dd6-338">元件類型：基礎結構</span><span class="sxs-lookup"><span data-stu-id="27dd6-338">Component type: Infrastructure</span></span>
<span data-ttu-id="27dd6-339">此元件類型是大部分支援基礎結構所在的位置。</span><span class="sxs-lookup"><span data-stu-id="27dd6-339">This component type is where most of the supporting infrastructure resides.</span></span> <span data-ttu-id="27dd6-340">它也是您的集中式 IT、安全性和合規小組花費最多時間的位置。</span><span class="sxs-lookup"><span data-stu-id="27dd6-340">It's also where your centralized IT, security, and compliance teams spend most of their time.</span></span>

<span data-ttu-id="27dd6-341">[![6]][6]</span><span class="sxs-lookup"><span data-stu-id="27dd6-341">[![6]][6]</span></span>

<span data-ttu-id="27dd6-342">基礎結構元件提供不同 VDC 元件之間的互相連線。</span><span class="sxs-lookup"><span data-stu-id="27dd6-342">Infrastructure components provide an interconnection between the different components of the VDC.</span></span> <span data-ttu-id="27dd6-343">它們同時存在於中樞和輪輻中。</span><span class="sxs-lookup"><span data-stu-id="27dd6-343">They're present in both the hub and the spokes.</span></span> <span data-ttu-id="27dd6-344">管理和維護基礎結構元件的責任通常會指派給中央 IT 或 安全性小組。</span><span class="sxs-lookup"><span data-stu-id="27dd6-344">The responsibility for managing and maintaining the infrastructure components is typically assigned to the central IT or security team.</span></span>

<span data-ttu-id="27dd6-345">IT 基礎結構小組的其中一個主要工作是確保整個企業的 IP 位址結構描述一致性。</span><span class="sxs-lookup"><span data-stu-id="27dd6-345">One of the primary tasks of the IT infrastructure team is to guarantee the consistency of IP address schemas across the enterprise.</span></span> <span data-ttu-id="27dd6-346">指派給 VDC 的私人 IP 位址空間必須一致。</span><span class="sxs-lookup"><span data-stu-id="27dd6-346">The private IP address space assigned to the VDC needs to be consistent.</span></span> <span data-ttu-id="27dd6-347">它不可與內部部署網路上指派的私人 IP 位址重疊。</span><span class="sxs-lookup"><span data-stu-id="27dd6-347">It can't overlap with private IP addresses assigned on your on-premises networks.</span></span>

<span data-ttu-id="27dd6-348">內部部署邊緣路由器或 Azure 環境中的 NAT 可避免 IP 位址衝突。</span><span class="sxs-lookup"><span data-stu-id="27dd6-348">NAT on the on-premises edge routers or in Azure environments can avoid IP address conflicts.</span></span> <span data-ttu-id="27dd6-349">但同時也會增加基礎結構元件的複雜性。</span><span class="sxs-lookup"><span data-stu-id="27dd6-349">But it adds complications to your infrastructure components.</span></span> <span data-ttu-id="27dd6-350">管理簡化是 VDC 的主要目標之一。</span><span class="sxs-lookup"><span data-stu-id="27dd6-350">Simplicity of management is one of the key goals of the VDC.</span></span> <span data-ttu-id="27dd6-351">因此，使用 NAT 來處理 IP 考量並非建議的解決方案。</span><span class="sxs-lookup"><span data-stu-id="27dd6-351">So using NAT to handle IP concerns isn't a solution that we recommend.</span></span>

<span data-ttu-id="27dd6-352">基礎結構元件具有下列功能：</span><span class="sxs-lookup"><span data-stu-id="27dd6-352">Infrastructure components have the following functionality:</span></span>

-   <span data-ttu-id="27dd6-353">[**身分識別和目錄服務**][AAD].</span><span class="sxs-lookup"><span data-stu-id="27dd6-353">[**Identity and directory services**][AAD].</span></span> <span data-ttu-id="27dd6-354">Azure 中每種資源類型的存取權都是受控於目錄服務中所儲存的身分識別。</span><span class="sxs-lookup"><span data-stu-id="27dd6-354">Access to every resource type in Azure is controlled by an identity stored in a directory service.</span></span> <span data-ttu-id="27dd6-355">目錄服務會儲存使用者清單，以及對特定 Azure 訂用帳戶中各項資源的存取權。</span><span class="sxs-lookup"><span data-stu-id="27dd6-355">The directory service stores the users list and the access rights to resources in a specific Azure subscription.</span></span> <span data-ttu-id="27dd6-356">這些服務只能存在於雲端中。</span><span class="sxs-lookup"><span data-stu-id="27dd6-356">These services can exist in the cloud only.</span></span> <span data-ttu-id="27dd6-357">或者，它們可與 Azure Active Directory 中儲存的內部部署身分識別同步。</span><span class="sxs-lookup"><span data-stu-id="27dd6-357">Or they can be synchronized with an on-premises identity stored in Azure Active Directory.</span></span>
-   <span data-ttu-id="27dd6-358">[**虛擬網路**][VPN]。</span><span class="sxs-lookup"><span data-stu-id="27dd6-358">[**Virtual network**][VPN].</span></span> <span data-ttu-id="27dd6-359">虛擬網路是 VDC 的主要元件之一。</span><span class="sxs-lookup"><span data-stu-id="27dd6-359">Virtual networks are one of main components of the VDC.</span></span> <span data-ttu-id="27dd6-360">藉由虛擬網路的運用，您將可建立 Azure 平台上的流量隔離界限。</span><span class="sxs-lookup"><span data-stu-id="27dd6-360">By using virtual networks, you can create a traffic isolation boundary on the Azure platform.</span></span> <span data-ttu-id="27dd6-361">虛擬網路由單一或多個虛擬網路區段所組成。</span><span class="sxs-lookup"><span data-stu-id="27dd6-361">A virtual network is composed of single or multiple virtual network segments.</span></span> <span data-ttu-id="27dd6-362">每個區段各有特定的 IP 網路前置詞 (子網路)。</span><span class="sxs-lookup"><span data-stu-id="27dd6-362">Each has a specific IP network prefix, a subnet.</span></span> <span data-ttu-id="27dd6-363">虛擬網路定義 IaaS 虛擬機器和 PaaS 服務可建立私人通訊的內部周邊區域。</span><span class="sxs-lookup"><span data-stu-id="27dd6-363">The virtual network defines an internal perimeter area where IaaS virtual machines and PaaS services can establish private communications.</span></span> <span data-ttu-id="27dd6-364">在相同的訂用帳戶下，一個虛擬網路中的 VM 和 PaaS 服務無法與不同虛擬網路中的 VM 和 PaaS 服務直接通訊。</span><span class="sxs-lookup"><span data-stu-id="27dd6-364">VMs and PaaS services in one virtual network can't communicate directly to VMs and PaaS services in a different virtual network.</span></span> <span data-ttu-id="27dd6-365">即使相同的客戶在相同的訂用帳戶下建立這兩個虛擬網路，仍會進行此隔離。</span><span class="sxs-lookup"><span data-stu-id="27dd6-365">This isolation occurs even if the same customer creates both virtual networks under the same subscription.</span></span> <span data-ttu-id="27dd6-366">隔離是很重要的屬性，可確保客戶 VM 和通訊在虛擬網路內保有私密性。</span><span class="sxs-lookup"><span data-stu-id="27dd6-366">Isolation is a critical property that ensures customer VMs and communication stay private within a virtual network.</span></span>
-   <span data-ttu-id="27dd6-367">[**UDR**][UDR]。</span><span class="sxs-lookup"><span data-stu-id="27dd6-367">[**UDR**][UDR].</span></span> <span data-ttu-id="27dd6-368">依預設會根據系統路由表來路由虛擬網路中的流量。</span><span class="sxs-lookup"><span data-stu-id="27dd6-368">Traffic in a virtual network is routed by default based on the system routing table.</span></span> <span data-ttu-id="27dd6-369">使用者定義的路由是一種自訂路由表，網路管理員可將其與一或多個子網路建立關聯。</span><span class="sxs-lookup"><span data-stu-id="27dd6-369">A user-defined route is a custom routing table that network administrators can associate to one or more subnets.</span></span> <span data-ttu-id="27dd6-370">此關聯會覆寫系統路由表的行為，並定義虛擬網路內的通訊路徑。</span><span class="sxs-lookup"><span data-stu-id="27dd6-370">This association overwrites the behavior of the system routing table and defines a communication path within a virtual network.</span></span> <span data-ttu-id="27dd6-371">UDR 的存在可確保來自輪輻的輸出流量會經由存在於中樞和輪輻中的特定自訂 VM 或網路虛擬設備和負載平衡器進行傳輸。</span><span class="sxs-lookup"><span data-stu-id="27dd6-371">The presence of UDRs guarantees that egress traffic from the spoke transits through specific custom VMs or network virtual appliances and load balancers present in the hub and in the spokes.</span></span>
-   <span data-ttu-id="27dd6-372">[**NSG**][NSG].</span><span class="sxs-lookup"><span data-stu-id="27dd6-372">[**NSG**][NSG].</span></span> <span data-ttu-id="27dd6-373">網路安全性群組是安全性規則清單，可作為 IP 來源、IP 目的地、通訊協定、IP 來源連接埠和 IP 目的地連接埠的流量篩選條件。</span><span class="sxs-lookup"><span data-stu-id="27dd6-373">A network security group is a list of security rules that acts as traffic filtering on IP sources, IP destinations, protocols, IP source ports, and IP destination ports.</span></span> <span data-ttu-id="27dd6-374">NSG 可套用至子網路以及 (或) 與 Azure VM 相關聯的虛擬 NIC 卡。</span><span class="sxs-lookup"><span data-stu-id="27dd6-374">The NSG can apply to a subnet, a virtual NIC card associated with an Azure VM, or both.</span></span> <span data-ttu-id="27dd6-375">若要實作中樞和輪輻中的正確流量控制，NSG 是不可或缺的。</span><span class="sxs-lookup"><span data-stu-id="27dd6-375">NSGs are essential to implement a correct flow control in the hub and in the spokes.</span></span> <span data-ttu-id="27dd6-376">NSG 所提供的安全性層級，將決定您所應開啟的連接埠及其用途。</span><span class="sxs-lookup"><span data-stu-id="27dd6-376">The level of security afforded by the NSG is a function of which ports you open and for what purpose.</span></span> <span data-ttu-id="27dd6-377">客戶應套用具有主機型防火牆 (例如 IPtables 或 Windows 防火牆) 的其他個別 VM 篩選。</span><span class="sxs-lookup"><span data-stu-id="27dd6-377">Customers should apply additional per VM filters with host-based firewalls such as IPtables or the Windows Firewall.</span></span>
-   <span data-ttu-id="27dd6-378">[**DNS**][DNS]。</span><span class="sxs-lookup"><span data-stu-id="27dd6-378">[**DNS**][DNS].</span></span> <span data-ttu-id="27dd6-379">在 VDC 的虛擬網路中，資源的名稱解析會透過 DNS 來提供。</span><span class="sxs-lookup"><span data-stu-id="27dd6-379">The name resolution of resources in the virtual networks of the VDC is provided through the DNS.</span></span> <span data-ttu-id="27dd6-380">Azure 可提供 DNS 服務，以進行[公用][DNS]和[私人][PrivateDNS]名稱解析。</span><span class="sxs-lookup"><span data-stu-id="27dd6-380">Azure provides DNS services for both [public][DNS] and [private][PrivateDNS] name resolution.</span></span> <span data-ttu-id="27dd6-381">私人區域可在虛擬網路內及虛擬網路之間提供名稱解析。</span><span class="sxs-lookup"><span data-stu-id="27dd6-381">Private zones provide name resolution both within a virtual network and across virtual networks.</span></span> <span data-ttu-id="27dd6-382">您的私人區域不僅可以跨相同區域內的虛擬網路，也可以跨區域和訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="27dd6-382">You can have private zones that span across virtual networks in the same region and also across regions and subscriptions.</span></span> <span data-ttu-id="27dd6-383">針對公用解析，Azure DNS 提供了適用於 DNS 網域的裝載服務。</span><span class="sxs-lookup"><span data-stu-id="27dd6-383">For public resolution, Azure DNS provides a hosting service for DNS domains.</span></span> <span data-ttu-id="27dd6-384">其使用 Microsoft Azure 基礎結構來提供名稱解析。</span><span class="sxs-lookup"><span data-stu-id="27dd6-384">It provides name resolution by using Microsoft Azure infrastructure.</span></span> <span data-ttu-id="27dd6-385">只要將您的網域裝載於 Azure，就可以像管理其他 Azure 服務一樣，使用相同的認證、API、工具和計費方式來管理 DNS 記錄。</span><span class="sxs-lookup"><span data-stu-id="27dd6-385">By hosting your domains in Azure, you can manage your DNS records by using the same credentials, APIs, tools, and billing as your other Azure services.</span></span>
-   <span data-ttu-id="27dd6-386">[**訂用帳戶**][SubMgmt]和[**資源群組管理**][RGMgmt]。</span><span class="sxs-lookup"><span data-stu-id="27dd6-386">[**Subscription**][SubMgmt] and [**resource group management**][RGMgmt].</span></span> <span data-ttu-id="27dd6-387">訂用帳戶定義自然界限，以在 Azure 中建立多個資源群組。</span><span class="sxs-lookup"><span data-stu-id="27dd6-387">A subscription defines a natural boundary to create multiple groups of resources in Azure.</span></span> <span data-ttu-id="27dd6-388">訂用帳戶中的資源會在名為**資源群組**的邏輯容器中組合在一起。</span><span class="sxs-lookup"><span data-stu-id="27dd6-388">Resources in a subscription are assembled together in logical containers named **resource groups**.</span></span> <span data-ttu-id="27dd6-389">資源群組代表可組織 VDC 資源的邏輯群組。</span><span class="sxs-lookup"><span data-stu-id="27dd6-389">The resource group represents a logical group to organize the resources of the VDC.</span></span>
-   <span data-ttu-id="27dd6-390">[**RBAC**][RBAC]。</span><span class="sxs-lookup"><span data-stu-id="27dd6-390">[**RBAC**][RBAC].</span></span> <span data-ttu-id="27dd6-391">透過 RBAC，您可以對應組織角色以及存取特定 Azure 資源的權利，以限制使用者只能執行特定子集的動作。</span><span class="sxs-lookup"><span data-stu-id="27dd6-391">Through RBAC, it's possible to map organizational roles along with rights to access specific Azure resources, which allows you to restrict users to only a certain subset of actions.</span></span> <span data-ttu-id="27dd6-392">使用 RBAC，您可以將適當的角色指派給相關範圍內的使用者、群組和應用程式，來授與存取權。</span><span class="sxs-lookup"><span data-stu-id="27dd6-392">With RBAC, you can grant access by assigning the appropriate role to users, groups, and applications within the relevant scope.</span></span> <span data-ttu-id="27dd6-393">角色指派的範圍可以是 Azure 訂用帳戶、資源群組或單一資源。</span><span class="sxs-lookup"><span data-stu-id="27dd6-393">The scope of a role assignment can be an Azure subscription, a resource group, or a single resource.</span></span> <span data-ttu-id="27dd6-394">RBAC 允許繼承權限。</span><span class="sxs-lookup"><span data-stu-id="27dd6-394">RBAC allows inheritance of permissions.</span></span> <span data-ttu-id="27dd6-395">在父範圍指派的角色也會授與其內含子系的存取權。</span><span class="sxs-lookup"><span data-stu-id="27dd6-395">A role assigned at a parent scope also grants access to the children within it.</span></span> <span data-ttu-id="27dd6-396">透過 RBAC，您將可區隔職責，而僅授與使用者執行工作所需的存取權。</span><span class="sxs-lookup"><span data-stu-id="27dd6-396">With RBAC, you can segregate duties and grant only the amount of access to users that they need to do their jobs.</span></span> <span data-ttu-id="27dd6-397">例如，您可以使用 RBAC，讓一名員工可管理訂用帳戶中的虛擬機器。</span><span class="sxs-lookup"><span data-stu-id="27dd6-397">For example, use RBAC so one employee can manage virtual machines in a subscription.</span></span> <span data-ttu-id="27dd6-398">另一名員工則可管理相同訂用帳戶中的 SQL 資料庫。</span><span class="sxs-lookup"><span data-stu-id="27dd6-398">Another can manage SQL databases within the same subscription.</span></span>
-   <span data-ttu-id="27dd6-399">[**虛擬網路對等互連**][VNetPeering]。</span><span class="sxs-lookup"><span data-stu-id="27dd6-399">[**Virtual network peering**][VNetPeering].</span></span> <span data-ttu-id="27dd6-400">用來建立 VDC 基礎結構的基礎功能，是虛擬網路對等互連。</span><span class="sxs-lookup"><span data-stu-id="27dd6-400">The fundamental feature used to create the infrastructure of the VDC is virtual network peering.</span></span> <span data-ttu-id="27dd6-401">這是透過 Azure 骨幹網路或使用跨區域的 Azure 全球骨幹來連接相同區域中兩個虛擬網路的機制。</span><span class="sxs-lookup"><span data-stu-id="27dd6-401">It's a mechanism that connects two virtual networks in the same region through the Azure datacenter network or by using the Azure worldwide backbone across regions.</span></span>

#### <a name="component-type-perimeter-networks"></a><span data-ttu-id="27dd6-402">元件類型：周邊網路</span><span class="sxs-lookup"><span data-stu-id="27dd6-402">Component type: Perimeter networks</span></span>
<span data-ttu-id="27dd6-403">透過[周邊網路][DMZ]元件 (或 DMZ 網路)，您將可提供與內部部署或實體資料中心網路的網路連線，以及任何連至或來自網際網路的連線。</span><span class="sxs-lookup"><span data-stu-id="27dd6-403">With [perimeter network][DMZ] components, or a DMZ network, you can provide network connectivity with your on-premises or physical datacenter networks, along with any connectivity to and from the internet.</span></span> <span data-ttu-id="27dd6-404">它也是您網路和安全性小組可能花費最多時間的位置。</span><span class="sxs-lookup"><span data-stu-id="27dd6-404">It's also where your network and security teams likely spend most of their time.</span></span>

<span data-ttu-id="27dd6-405">連入封包應該先流經中樞內的安全性設備，才會到達輪輻中的後端伺服器。</span><span class="sxs-lookup"><span data-stu-id="27dd6-405">Incoming packets should flow through the security appliances in the hub before reaching the back-end servers in the spokes.</span></span> <span data-ttu-id="27dd6-406">範例包括防火牆、IDS 和 IPS 等。</span><span class="sxs-lookup"><span data-stu-id="27dd6-406">Examples are the firewall, IDS, and IPS.</span></span> <span data-ttu-id="27dd6-407">來自工作負載的網際網路繫結封包應該也會先流經周邊網路中的安全性設備，才會離開網路。</span><span class="sxs-lookup"><span data-stu-id="27dd6-407">Before they leave the network, internet-bound packets from the workloads should also flow through the security appliances in the perimeter network.</span></span> <span data-ttu-id="27dd6-408">此流程的目的是為了強制執行原則，以及進行檢查和稽核。</span><span class="sxs-lookup"><span data-stu-id="27dd6-408">The purposes of this flow are policy enforcement, inspection, and auditing.</span></span>

<span data-ttu-id="27dd6-409">周邊網路元件提供下列功能：</span><span class="sxs-lookup"><span data-stu-id="27dd6-409">Perimeter network components provide the following features:</span></span>

-   <span data-ttu-id="27dd6-410">[虛擬網路][VNet]、[UDR][UDR] 和 [NSG][NSG]</span><span class="sxs-lookup"><span data-stu-id="27dd6-410">[Virtual networks][VNet], [UDRs][UDR], and [NSGs][NSG]</span></span>
-   <span data-ttu-id="27dd6-411">[網路虛擬設備][NVA]</span><span class="sxs-lookup"><span data-stu-id="27dd6-411">[Network virtual appliances][NVA]</span></span>
-   <span data-ttu-id="27dd6-412">[Azure 負載平衡器][ALB]</span><span class="sxs-lookup"><span data-stu-id="27dd6-412">[Azure Load Balancer][ALB]</span></span>
-   <span data-ttu-id="27dd6-413">[Azure 應用程式閘道][AppGW]和 [Web 應用程式防火牆 (WAF)][WAF]</span><span class="sxs-lookup"><span data-stu-id="27dd6-413">[Azure Application Gateway][AppGW] and [web application firewall (WAF)][WAF]</span></span>
-   <span data-ttu-id="27dd6-414">[公用 IP][PIP]</span><span class="sxs-lookup"><span data-stu-id="27dd6-414">[Public IPs][PIP]</span></span>
-   <span data-ttu-id="27dd6-415">[Azure Front Door][AFD]</span><span class="sxs-lookup"><span data-stu-id="27dd6-415">[Azure Front Door][AFD]</span></span>
-   <span data-ttu-id="27dd6-416">[Azure 防火牆][AzFW]</span><span class="sxs-lookup"><span data-stu-id="27dd6-416">[Azure Firewall][AzFW]</span></span>

<span data-ttu-id="27dd6-417">通常，中央 IT 和安全性小組會負責周邊網路的需求定義和作業。</span><span class="sxs-lookup"><span data-stu-id="27dd6-417">Usually, the central IT and security teams have responsibility for requirement definition and operation of the perimeter networks.</span></span>

<span data-ttu-id="27dd6-418">[![7]][7]</span><span class="sxs-lookup"><span data-stu-id="27dd6-418">[![7]][7]</span></span>

<span data-ttu-id="27dd6-419">上圖顯示如何強制執行兩個具有網際網路存取的周邊網路以及一個內部部署網路。</span><span class="sxs-lookup"><span data-stu-id="27dd6-419">The preceding diagram shows the enforcement of two perimeters with access to the internet and an on-premises network.</span></span> <span data-ttu-id="27dd6-420">兩者都位於 DMZ 和 vWAN 中樞內。</span><span class="sxs-lookup"><span data-stu-id="27dd6-420">Both are resident in the DMZ and vWAN hubs.</span></span> <span data-ttu-id="27dd6-421">在 DMZ 中樞內，網際網路的周邊網路可以使用 Web 應用程式防火牆 (WAF) 或 Azure 防火牆執行個體的多個伺服器陣列進行相應增加，以支援大量企業營運。</span><span class="sxs-lookup"><span data-stu-id="27dd6-421">In the DMZ hub, the perimeter network to the internet can scale up to support large numbers of lines of business by using multiple farms of web application firewall (WAF) or Azure Firewall instances.</span></span> <span data-ttu-id="27dd6-422">在 vWAN 中樞中，高擴充性分支對分支和分支對 Azure 連線會透過 VPN 或 ExpressRoute 來完成 (如有需要)。</span><span class="sxs-lookup"><span data-stu-id="27dd6-422">In the vWAN hub, highly scalable branch-to-branch and branch-to-Azure connectivity is accomplished via a VPN or ExpressRoute as needed.</span></span>

<span data-ttu-id="27dd6-423">[**虛擬網路**][VNet]。</span><span class="sxs-lookup"><span data-stu-id="27dd6-423">[**Virtual networks**][VNet].</span></span> <span data-ttu-id="27dd6-424">中樞通常會建置於具有多個子網路的虛擬網路上，以裝載不同類型的服務，而透過 NVA、WAF 和 Azure 應用程式閘道執行個體來篩選和檢查送至或來自網際網路的流量。</span><span class="sxs-lookup"><span data-stu-id="27dd6-424">The hub is typically built on a virtual network with multiple subnets to host the different types of services that filter and inspect traffic to or from the internet via NVAs, WAF, and Azure Application Gateway instances.</span></span>

<span data-ttu-id="27dd6-425">[**UDR**][UDR]。</span><span class="sxs-lookup"><span data-stu-id="27dd6-425">[**UDRs**][UDR].</span></span> <span data-ttu-id="27dd6-426">透過 UDR，客戶可以部署防火牆、IDS 或 IPS，以及其他虛擬設備。</span><span class="sxs-lookup"><span data-stu-id="27dd6-426">With UDRs, customers can deploy firewalls, IDSs or IPSs, and other virtual appliances.</span></span> <span data-ttu-id="27dd6-427">他們可以透過這些安全性設備來路由網路流量，以強制執行安全性界限原則、稽核和檢查。</span><span class="sxs-lookup"><span data-stu-id="27dd6-427">They can route network traffic through these security appliances for security boundary policy enforcement, auditing, and inspection.</span></span> <span data-ttu-id="27dd6-428">您可以同時在中樞和輪輻中建立 UDR。</span><span class="sxs-lookup"><span data-stu-id="27dd6-428">You can create UDRs in both the hub and the spokes.</span></span> <span data-ttu-id="27dd6-429">UDR 可確保流量會經由 VDC 所使用的特定自訂 VM、網路虛擬設備和負載平衡器進行傳輸。</span><span class="sxs-lookup"><span data-stu-id="27dd6-429">They guarantee that traffic transits through the specific custom VMs, network virtual appliances, and load balancers used by the VDC.</span></span> <span data-ttu-id="27dd6-430">若要確定存在於輪輻中的 VM 所產生的流量可傳輸至正確的虛擬設備，請在輪輻的子網路中設定 UDR。</span><span class="sxs-lookup"><span data-stu-id="27dd6-430">To make sure that traffic generated from VMs resident in the spoke transits to the correct virtual appliances, set a UDR in the subnets of the spoke.</span></span> <span data-ttu-id="27dd6-431">將內部負載平衡器的前端 IP 位址設為下一個躍點。</span><span class="sxs-lookup"><span data-stu-id="27dd6-431">Set the front-end IP address of the internal load balancer as the next hop.</span></span> <span data-ttu-id="27dd6-432">內部負載平衡器會將內部流量分散到虛擬設備 (或負載平衡器後端集區)。</span><span class="sxs-lookup"><span data-stu-id="27dd6-432">The internal load balancer distributes the internal traffic to the virtual appliances, or load balancer back-end pool.</span></span>

<span data-ttu-id="27dd6-433">[Azure 防火牆][AzFW]是受控、雲端式網路安全性服務，可以保護您的 Azure 虛擬網路資源。</span><span class="sxs-lookup"><span data-stu-id="27dd6-433">[**Azure Firewall**][AzFW] is a managed, cloud-based network security service that protects your Azure Virtual Network resources.</span></span> <span data-ttu-id="27dd6-434">它是完全具狀態的防火牆即服務，具有內建的高可用性和不受限制的雲端延展性。</span><span class="sxs-lookup"><span data-stu-id="27dd6-434">It's a fully stateful firewall as a service with built-in high availability and unrestricted cloud scalability.</span></span> <span data-ttu-id="27dd6-435">您可以橫跨訂用帳戶和虛擬網路集中建立、強制執行以及記錄應用程式和網路連線原則。</span><span class="sxs-lookup"><span data-stu-id="27dd6-435">You can centrally create, enforce, and log application and network connectivity policies across subscriptions and virtual networks.</span></span> <span data-ttu-id="27dd6-436">Azure 防火牆會為您的虛擬網路資源提供靜態公用 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="27dd6-436">Azure Firewall uses a static public IP address for your virtual network resources.</span></span> <span data-ttu-id="27dd6-437">這可讓外部防火牆識別來自您虛擬網路的流量。</span><span class="sxs-lookup"><span data-stu-id="27dd6-437">It allows outside firewalls to identify traffic that originates from your virtual network.</span></span> <span data-ttu-id="27dd6-438">此服務與 Azure 監視器會完全整合，以進行記錄和分析。</span><span class="sxs-lookup"><span data-stu-id="27dd6-438">The service is fully integrated with Azure Monitor for logging and analytics.</span></span>

<span data-ttu-id="27dd6-439">[**網路虛擬設備**][NVA]。</span><span class="sxs-lookup"><span data-stu-id="27dd6-439">[**Network virtual appliances**][NVA].</span></span> <span data-ttu-id="27dd6-440">在中樞內，具有網際網路存取的周邊網路通常會透過 Azure 防火牆執行個體或是防火牆伺服器陣列或 Web 應用程式防火牆 (WAF) 的伺服器陣列進行管理。</span><span class="sxs-lookup"><span data-stu-id="27dd6-440">In the hub, the perimeter network with access to the internet is normally managed through an Azure Firewall instance or a farm of firewalls or web application firewall (WAF).</span></span>

<span data-ttu-id="27dd6-441">不同的 LOB 通常會使用許多 Web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="27dd6-441">Different LOBs commonly use many web applications.</span></span> <span data-ttu-id="27dd6-442">這些應用程式通常很容易受到各種弱點和潛在攻擊的影響。</span><span class="sxs-lookup"><span data-stu-id="27dd6-442">These applications tend to suffer from various vulnerabilities and potential exploits.</span></span> <span data-ttu-id="27dd6-443">Web 應用程式防火牆是一種特殊類型的產品，用來偵測對 Web 應用程式的攻擊 (HTTP/HTTPS)，而其深入程度高於一般防火牆。</span><span class="sxs-lookup"><span data-stu-id="27dd6-443">Web application firewalls are a special type of product used to detect attacks against web applications, HTTP/HTTPS, in more depth than a generic firewall.</span></span> <span data-ttu-id="27dd6-444">相較於傳統防火牆技術，WAF 有一組特定功能可保護內部網頁伺服器不受威脅。</span><span class="sxs-lookup"><span data-stu-id="27dd6-444">Compared with tradition firewall technology, WAFs have a set of specific features to protect internal web servers from threats.</span></span>

<span data-ttu-id="27dd6-445">不過，單一 VDC 實作必須裝載在單一區域內，因為訂用帳戶需求不允許跨區域。</span><span class="sxs-lookup"><span data-stu-id="27dd6-445">However, a single VDC implementation is required to be hosted within a single region because the subscription requirements don't allow spanning of regions.</span></span> <span data-ttu-id="27dd6-446">由於有此需求，單一 VDC 實作很容易受到區域性運作中斷的影響。</span><span class="sxs-lookup"><span data-stu-id="27dd6-446">This requirement makes a single VDC implementation vulnerable to regional outages.</span></span>

<span data-ttu-id="27dd6-447">Azure 防火牆執行個體或 NVA 防火牆伺服器陣列會使用一般管理平面。</span><span class="sxs-lookup"><span data-stu-id="27dd6-447">An Azure Firewall instance or NVA firewall farms use a common administration plane.</span></span> <span data-ttu-id="27dd6-448">安全性規則集可保護裝載於輪輻中的工作負載，並控制對內部部署網路的存取。</span><span class="sxs-lookup"><span data-stu-id="27dd6-448">A set of security rules protects the workloads that are hosted in the spokes and controls access to on-premises networks.</span></span> <span data-ttu-id="27dd6-449">Azure 防火牆具有內建延展性，然而 NVA 防火牆可以在負載平衡器後方手動擴充。</span><span class="sxs-lookup"><span data-stu-id="27dd6-449">Azure Firewall has scalability built in, whereas NVA firewalls can be manually scaled behind a load balancer.</span></span> <span data-ttu-id="27dd6-450">一般而言，防火牆伺服器陣列會使用特殊性低於 WAF 的軟體。</span><span class="sxs-lookup"><span data-stu-id="27dd6-450">Generally, a firewall farm has less specialized software compared to WAF.</span></span> <span data-ttu-id="27dd6-451">但它具有廣泛的應用程式範圍，可篩選和檢查任何類型的輸出和輸入流量。</span><span class="sxs-lookup"><span data-stu-id="27dd6-451">But it has a broader application scope to filter and inspect any type of traffic in egress and ingress.</span></span> <span data-ttu-id="27dd6-452">如果使用 NVA 方法，則可從 Azure Marketplace 找到並部署這類防火牆。</span><span class="sxs-lookup"><span data-stu-id="27dd6-452">If an NVA approach is used, they can be found and deployed from the Azure Marketplace.</span></span>

<span data-ttu-id="27dd6-453">建議您針對來自網際網路的流量使用一組 Azure 防火牆執行個體。</span><span class="sxs-lookup"><span data-stu-id="27dd6-453">We recommend that you use one set of Azure Firewall instances, or NVAs, for traffic originating on the internet.</span></span> <span data-ttu-id="27dd6-454">對於來自內部部署的流量則使用另一組執行個體。</span><span class="sxs-lookup"><span data-stu-id="27dd6-454">Use another for traffic originating on-premises.</span></span> <span data-ttu-id="27dd6-455">對兩者僅使用一組防火牆會造成安全性風險，因為這並未提供兩組網路流量之間的安全性周邊。</span><span class="sxs-lookup"><span data-stu-id="27dd6-455">Using only one set of firewalls for both is a security risk as it provides no security perimeter between the two sets of network traffic.</span></span> <span data-ttu-id="27dd6-456">使用個別的防火牆層級可降低檢查安全性規則的複雜度，並明確指出哪些規則對應到哪個傳入網路要求。</span><span class="sxs-lookup"><span data-stu-id="27dd6-456">Using separate firewall layers reduces the complexity of checking security rules and makes it clear which rules correspond to which incoming network request.</span></span>

<span data-ttu-id="27dd6-457">大部分大型企業都會管理多個網域。</span><span class="sxs-lookup"><span data-stu-id="27dd6-457">Most large enterprises manage multiple domains.</span></span> <span data-ttu-id="27dd6-458">[Azure DNS][DNS] 可以用來裝載特定網域的 DNS 記錄。</span><span class="sxs-lookup"><span data-stu-id="27dd6-458">[Azure DNS][DNS] can be used to host the DNS records for a particular domain.</span></span> <span data-ttu-id="27dd6-459">例如，Azure 外部負載平衡器 (或 WAF) 的虛擬 IP (VIP) 位址可以註冊於 Azure DNS 記錄的 **A** 記錄中。</span><span class="sxs-lookup"><span data-stu-id="27dd6-459">For example, the virtual IP (VIP) address of the Azure external load balancer, or WAF, can be registered in the **A** record of an Azure DNS record.</span></span> <span data-ttu-id="27dd6-460">[**私人 DNS**][PrivateDNS] 也可用來管理虛擬網路內的私人位址空間。</span><span class="sxs-lookup"><span data-stu-id="27dd6-460">[**Private DNSs**][PrivateDNS] are also available for managing the private address spaces inside virtual networks.</span></span>

<span data-ttu-id="27dd6-461">[**Azure Load Balancer**][ALB] 提供高可用性層級 4 (TCP 或 UDP) 服務。</span><span class="sxs-lookup"><span data-stu-id="27dd6-461">[**Azure Load Balancer**][ALB] offers a high-availability Layer 4, TCP or UDP, service.</span></span> <span data-ttu-id="27dd6-462">它可將連入流量分散到負載平衡組中定義的服務執行個體。</span><span class="sxs-lookup"><span data-stu-id="27dd6-462">It can distribute incoming traffic among service instances defined in a load-balanced set.</span></span> <span data-ttu-id="27dd6-463">無論有沒有位址轉譯，從前端端點 (公用或私人 IP) 傳送至負載平衡器的流量，都可重新分散到一組後端 IP 位址集區。</span><span class="sxs-lookup"><span data-stu-id="27dd6-463">Traffic sent to the load balancer from front-end endpoints, public or private IP, can be redistributed with or without address translation to a set of back-end IP address pools.</span></span> <span data-ttu-id="27dd6-464">範例為網路虛擬設備或 VM。</span><span class="sxs-lookup"><span data-stu-id="27dd6-464">Examples are network virtual appliances or VMs.</span></span>

<span data-ttu-id="27dd6-465">Azure Load Balancer 也可探查各種伺服器執行個體的健康情況。</span><span class="sxs-lookup"><span data-stu-id="27dd6-465">Azure Load Balancer can probe the health of the various server instances as well.</span></span> <span data-ttu-id="27dd6-466">當探查無法回應時，負載平衡器會停止將流量傳送至狀況不良的執行個體。</span><span class="sxs-lookup"><span data-stu-id="27dd6-466">When a probe fails to respond, the load balancer stops sending traffic to the unhealthy instance.</span></span> <span data-ttu-id="27dd6-467">舉例來說，在 VDC 中，中樞內的外部負載平衡器會平衡傳至 NVA 的流量。</span><span class="sxs-lookup"><span data-stu-id="27dd6-467">In the VDC, an external load balancer in the hub balances the traffic to NVAs, for example.</span></span> <span data-ttu-id="27dd6-468">在輪輻中，則會執行在多層式應用程式的不同 VM 之間平衡流量之類的工作。</span><span class="sxs-lookup"><span data-stu-id="27dd6-468">In the spokes, it does tasks like balancing traffic between different VMs of a multi-tier application.</span></span>

<span data-ttu-id="27dd6-469">[**Azure Front Door (AFD)**][AFD] 是 Microsoft 兼具高可用性和高擴充性的 Web 應用程式加速平台、全域 HTTP 負載平衡器、應用程式保護和內容傳遞網路。</span><span class="sxs-lookup"><span data-stu-id="27dd6-469">[**Azure Front Door**][AFD] is Microsoft's highly available and scalable web application acceleration platform, global HTTP load balancer, application protection, and content delivery network.</span></span> <span data-ttu-id="27dd6-470">Front Door 會在 Microsoft 全球網路邊緣的 100 多個位置中執行。</span><span class="sxs-lookup"><span data-stu-id="27dd6-470">Front Door runs in more than 100 locations at the edge of Microsoft's global network.</span></span> <span data-ttu-id="27dd6-471">藉由使用 Front Door，您可以建置、操作及相應放大動態 Web 應用程式和靜態內容。</span><span class="sxs-lookup"><span data-stu-id="27dd6-471">By using Front Door, you can build, operate, and scale out your dynamic web applications and static content.</span></span> <span data-ttu-id="27dd6-472">Front Door 可為您的應用程式帶來下列效益：</span><span class="sxs-lookup"><span data-stu-id="27dd6-472">Front Door provides your application the following benefits:</span></span> 
* <span data-ttu-id="27dd6-473">世界級的使用者效能。</span><span class="sxs-lookup"><span data-stu-id="27dd6-473">World-class end-user performance.</span></span>
* <span data-ttu-id="27dd6-474">整合的區域或戳記維護自動化。</span><span class="sxs-lookup"><span data-stu-id="27dd6-474">Unified regional or stamp maintenance automation.</span></span>
* <span data-ttu-id="27dd6-475">BCDR 自動化。</span><span class="sxs-lookup"><span data-stu-id="27dd6-475">BCDR automation.</span></span>
* <span data-ttu-id="27dd6-476">統合的用戶端或使用者資訊。</span><span class="sxs-lookup"><span data-stu-id="27dd6-476">Unified client or user information.</span></span> 
* <span data-ttu-id="27dd6-477">快取。</span><span class="sxs-lookup"><span data-stu-id="27dd6-477">Caching.</span></span> 
* <span data-ttu-id="27dd6-478">服務的深入解析。</span><span class="sxs-lookup"><span data-stu-id="27dd6-478">Service insights.</span></span> <span data-ttu-id="27dd6-479">此平台可提供效能、可靠性和支援 SLA、合規性認證，以及由 Azure 原生開發、操作及支援的可稽核安全性做法。</span><span class="sxs-lookup"><span data-stu-id="27dd6-479">The platform offers performance, reliability and support SLAs, compliance certifications, and auditable security practices that are developed, operated, and supported natively by Azure.</span></span>

<span data-ttu-id="27dd6-480">[**應用程式閘道**][AppGW]是專用的虛擬設備，會以服務形式提供應用程式傳遞控制器 (ADC)，為您的應用程式提供多種第 7 層負載平衡功能。</span><span class="sxs-lookup"><span data-stu-id="27dd6-480">[**Application Gateway**][AppGW] is a dedicated virtual appliance that provides application delivery controller (ADC) as a service, offering various layer 7 load-balancing capabilities for your application.</span></span> <span data-ttu-id="27dd6-481">您可以將需要大量 CPU 資源的 SSL 終止作業卸載到應用程式閘道執行個體，藉以最佳化 Web 伺服器陣列的產能。</span><span class="sxs-lookup"><span data-stu-id="27dd6-481">You can optimize web farm productivity by offloading CPU-intensive SSL termination to the Application Gateway instance.</span></span> <span data-ttu-id="27dd6-482">它也提供其他第 7 層路由功能，包括下列範例：</span><span class="sxs-lookup"><span data-stu-id="27dd6-482">It also provides other layer 7 routing capabilities that include the following examples:</span></span> 
* <span data-ttu-id="27dd6-483">傳入流量的循環配置資源散發。</span><span class="sxs-lookup"><span data-stu-id="27dd6-483">Round robin distribution of incoming traffic.</span></span> 
* <span data-ttu-id="27dd6-484">以 Cookie 為基礎的工作階段同質性。</span><span class="sxs-lookup"><span data-stu-id="27dd6-484">Cookie-based session affinity.</span></span> 
* <span data-ttu-id="27dd6-485">URL 路徑型路由。</span><span class="sxs-lookup"><span data-stu-id="27dd6-485">URL path-based routing.</span></span> 
* <span data-ttu-id="27dd6-486">在單一應用程式閘道執行個體後方裝載多個網站的功能。</span><span class="sxs-lookup"><span data-stu-id="27dd6-486">The ability to host multiple websites behind a single Application Gateway instance.</span></span> <span data-ttu-id="27dd6-487">Web 應用程式防火牆 (WAF) 也會提供作為應用程式閘道 WAF SKU 的一部分。</span><span class="sxs-lookup"><span data-stu-id="27dd6-487">Web application firewall (WAF) is also provided as part of the Application Gateway WAF SKU.</span></span> <span data-ttu-id="27dd6-488">此 SKU 會保護 Web 應用程式免於遭遇常見的 Web 弱點和攻擊。</span><span class="sxs-lookup"><span data-stu-id="27dd6-488">This SKU provides protection to web applications from common web vulnerabilities and exploits.</span></span> <span data-ttu-id="27dd6-489">應用程式閘道可以設定為面向網際網路的閘道、內部專用閘道或兩者混合。</span><span class="sxs-lookup"><span data-stu-id="27dd6-489">Application Gateway can be configured as an internet-facing gateway, an internal-only gateway, or a combination of both.</span></span> 

<span data-ttu-id="27dd6-490">[**公用 IP**][PIP]。</span><span class="sxs-lookup"><span data-stu-id="27dd6-490">[**Public IPs**][PIP].</span></span> <span data-ttu-id="27dd6-491">您可以利用某些 Azure 功能建立服務端點與公用 IP 位址的關聯，以便從網際網路存取資源。</span><span class="sxs-lookup"><span data-stu-id="27dd6-491">With some Azure features, you can associate service endpoints to a public IP address, so that your resource can be accessed from the internet.</span></span> <span data-ttu-id="27dd6-492">此端點會使用網路位址轉譯 (NAT) 將流量路由至 Azure 虛擬網路的內部位址和連接埠。</span><span class="sxs-lookup"><span data-stu-id="27dd6-492">This endpoint uses network address translation (NAT) to route traffic to the internal address and port on the Azure virtual network.</span></span> <span data-ttu-id="27dd6-493">這個路徑是外部流量進入虛擬網路的主要方式。</span><span class="sxs-lookup"><span data-stu-id="27dd6-493">This path is the primary way for external traffic to pass into the virtual network.</span></span> <span data-ttu-id="27dd6-494">您可以設定公用 IP 位址以決定要傳入的流量，以及該流量在虛擬網路上的轉譯方式和目的地。</span><span class="sxs-lookup"><span data-stu-id="27dd6-494">You can configure public IP addresses to determine which traffic is passed in and how and where it's translated onto the virtual network.</span></span>

<span data-ttu-id="27dd6-495">[**Azure DDoS 保護標準**][DDOS]提供[基本服務][DDOS]層以外特別針對 Azure 虛擬網路資源調整的額外安全防護功能。</span><span class="sxs-lookup"><span data-stu-id="27dd6-495">[**Azure DDoS Protection Standard**][DDOS] provides additional mitigation capabilities over the [Basic service][DDOS] tier that are tuned specifically to Azure Virtual Network resources.</span></span> <span data-ttu-id="27dd6-496">「DDoS 保護標準」很容易啟用，而且不需要變更應用程式。</span><span class="sxs-lookup"><span data-stu-id="27dd6-496">DDoS Protection Standard is simple to enable and requires no application changes.</span></span> <span data-ttu-id="27dd6-497">保護原則是透過專用的流量監視和機器學習演算法進行調整。</span><span class="sxs-lookup"><span data-stu-id="27dd6-497">Protection policies are tuned through dedicated traffic monitoring and machine learning algorithms.</span></span> <span data-ttu-id="27dd6-498">原則會套用至與虛擬網路中部署的資源相關聯的公用 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="27dd6-498">Policies are applied to public IP addresses associated to resources deployed in virtual networks.</span></span> <span data-ttu-id="27dd6-499">例如 Azure Load Balancer、Azure 應用程式閘道和 Azure Service Fabric 執行個體。</span><span class="sxs-lookup"><span data-stu-id="27dd6-499">Examples are Azure Load Balancer, Azure Application Gateway, and Azure Service Fabric instances.</span></span> <span data-ttu-id="27dd6-500">在攻擊期間，可透過 Azure 監視器檢視取得即時遙測歷程記錄。</span><span class="sxs-lookup"><span data-stu-id="27dd6-500">Real-time telemetry is available through Azure Monitor views during an attack and for history.</span></span> <span data-ttu-id="27dd6-501">應用程式層保護可透過 Azure 應用程式閘道 Web 應用程式防火牆來新增。</span><span class="sxs-lookup"><span data-stu-id="27dd6-501">Application layer protection can be added through the Azure Application Gateway web application firewall.</span></span> <span data-ttu-id="27dd6-502">針對 IPv4 Azure 公用 IP 位址提供保護。</span><span class="sxs-lookup"><span data-stu-id="27dd6-502">Protection is provided for IPv4 Azure public IP addresses.</span></span>

#### <a name="component-type-monitoring"></a><span data-ttu-id="27dd6-503">元件類型：監視</span><span class="sxs-lookup"><span data-stu-id="27dd6-503">Component type: Monitoring</span></span>
<span data-ttu-id="27dd6-504">監視元件提供來自所有其他元件類型的可見性和警示。</span><span class="sxs-lookup"><span data-stu-id="27dd6-504">Monitoring components provide visibility and alerting from all the other components types.</span></span> <span data-ttu-id="27dd6-505">所有小組應該都可以存取他們可存取之元件和服務的監視。</span><span class="sxs-lookup"><span data-stu-id="27dd6-505">All teams should have access to monitoring for the components and services they have access to.</span></span> <span data-ttu-id="27dd6-506">如果您有集中管理的支援人員或作業小組，他們對於這些元件所提供的資料將必須有整合式存取權。</span><span class="sxs-lookup"><span data-stu-id="27dd6-506">If you have a centralized help desk or operation teams, they need to have integrated access to the data provided by these components.</span></span>

<span data-ttu-id="27dd6-507">Azure 提供不同類型的記錄和監視服務，以追蹤 Azure 裝載資源的行為。</span><span class="sxs-lookup"><span data-stu-id="27dd6-507">Azure offers different types of logging and monitoring services to track the behavior of Azure-hosted resources.</span></span> <span data-ttu-id="27dd6-508">Azure 中的工作負載控管和控制不僅以記錄資料的收集為基礎，也需仰賴依特定報告事件觸發動作的能力。</span><span class="sxs-lookup"><span data-stu-id="27dd6-508">Governance and control of workloads in Azure is based not just on collecting log data but also on the ability to trigger actions based on specific reported events.</span></span>

<span data-ttu-id="27dd6-509">[**Azure 監視器**][Monitor]。</span><span class="sxs-lookup"><span data-stu-id="27dd6-509">[**Azure Monitor**][Monitor].</span></span> <span data-ttu-id="27dd6-510">Azure 包含多項服務，能在監視空間內個別執行特定的角色或工作。</span><span class="sxs-lookup"><span data-stu-id="27dd6-510">Azure includes multiple services that individually perform a specific role or task in the monitoring space.</span></span> <span data-ttu-id="27dd6-511">這些服務可共同提供一套全面性解決方案，以便收集、分析來自您的應用程式和支援這些服務之 Azure 資源的遙測，並採取行動。</span><span class="sxs-lookup"><span data-stu-id="27dd6-511">Together, these services deliver a comprehensive solution for collecting, analyzing, and acting on telemetry from your application and the Azure resources that support them.</span></span> <span data-ttu-id="27dd6-512">它們也可以用來監視重要的內部部署資源，以提供混合式監視環境。</span><span class="sxs-lookup"><span data-stu-id="27dd6-512">They can also work to monitor critical on-premises resources in order to provide a hybrid monitoring environment.</span></span> <span data-ttu-id="27dd6-513">了解可用的工具和資料是開發完整應用程式監視策略的第一步。</span><span class="sxs-lookup"><span data-stu-id="27dd6-513">Understanding the tools and data that are available is the first step in developing a complete monitoring strategy for your application.</span></span>

<span data-ttu-id="27dd6-514">Azure 中有兩種主要類型的記錄：</span><span class="sxs-lookup"><span data-stu-id="27dd6-514">There are two major types of logs in Azure:</span></span>

-   <span data-ttu-id="27dd6-515">[Azure 活動記錄][ActLog] (先前稱為**作業記錄**) 可讓您深入了解對 Azure 訂用帳戶中資源所執行的作業。</span><span class="sxs-lookup"><span data-stu-id="27dd6-515">The [Azure Activity Log][ActLog], previously called **Operational Logs**, provides insight into the operations that were performed on resources in the Azure subscription.</span></span> <span data-ttu-id="27dd6-516">這些記錄會報告訂用帳戶的控制程度事件。</span><span class="sxs-lookup"><span data-stu-id="27dd6-516">These logs report the control-plane events for your subscriptions.</span></span> <span data-ttu-id="27dd6-517">每個 Azure 資源都會產生稽核記錄。</span><span class="sxs-lookup"><span data-stu-id="27dd6-517">Every Azure resource produces audit logs.</span></span>

-   <span data-ttu-id="27dd6-518">[Azure 監視器診斷記錄][DiagLog]是由資源產生的記錄，會提供該資源相關作業的豐富經常性資料。</span><span class="sxs-lookup"><span data-stu-id="27dd6-518">[Azure Monitor diagnostic logs][DiagLog] are logs generated by a resource that provides rich, frequent data about the operation of that resource.</span></span> <span data-ttu-id="27dd6-519">這些記錄的內容會依資源類型而有所不同。</span><span class="sxs-lookup"><span data-stu-id="27dd6-519">The content of these logs varies by resource type.</span></span>

<span data-ttu-id="27dd6-520">[![9]][9]</span><span class="sxs-lookup"><span data-stu-id="27dd6-520">[![9]][9]</span></span>

<span data-ttu-id="27dd6-521">在 VDC 中務必要追蹤 NSG 記錄，特別是下列資訊：</span><span class="sxs-lookup"><span data-stu-id="27dd6-521">In the VDC, it's important to track the NSG logs, particularly this information:</span></span>

-   <span data-ttu-id="27dd6-522">[事件記錄檔][NSGLog]會提供哪些 NSG 規則套用到以 MAC 位址為基礎的 VM 和執行個體角色的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="27dd6-522">[Event logs][NSGLog] provide information on what NSG rules are applied to VMs and instance roles based on MAC address.</span></span>
-   <span data-ttu-id="27dd6-523">[計數器記錄][NSGLog]會追蹤執行每個 NSG 規則以拒絕或允許流量的次數。</span><span class="sxs-lookup"><span data-stu-id="27dd6-523">[Counter logs][NSGLog] track how many times each NSG rule was run to deny or allow traffic.</span></span>

<span data-ttu-id="27dd6-524">所有記錄都可以儲存在 Azure 儲存體帳戶中，以進行稽核、靜態分析或備份。</span><span class="sxs-lookup"><span data-stu-id="27dd6-524">All logs can be stored in Azure storage accounts for audit, static analysis, or backup purposes.</span></span> <span data-ttu-id="27dd6-525">當您將記錄儲存在 Azure 儲存體帳戶時，客戶可以使用不同類型的架構來擷取、準備、分析並以視覺化方式檢視這項資料，以報告雲端資源的狀態和健康情況。</span><span class="sxs-lookup"><span data-stu-id="27dd6-525">When you store the logs in an Azure storage account, customers can use different types of frameworks to retrieve, prep, analyze, and visualize this data to report the status and health of cloud resources.</span></span> 

<span data-ttu-id="27dd6-526">大型企業應已取得用來監視內部部署系統的標準架構。</span><span class="sxs-lookup"><span data-stu-id="27dd6-526">Large enterprises should already have acquired a standard framework for monitoring on-premises systems.</span></span> <span data-ttu-id="27dd6-527">他們可以延伸該架構，以整合雲端部署所產生的記錄。</span><span class="sxs-lookup"><span data-stu-id="27dd6-527">They can extend that framework to integrate logs generated by cloud deployments.</span></span> <span data-ttu-id="27dd6-528">組織可以使用 [Azure Log Analytics][https://docs.microsoft.com/en-us/azure/log-analytics/log-analytics-queries]，將所有記錄保存在雲端中。</span><span class="sxs-lookup"><span data-stu-id="27dd6-528">By using [Azure Log Analytics][https://docs.microsoft.com/en-us/azure/log-analytics/log-analytics-queries], organizations can keep all the logging in the cloud.</span></span> <span data-ttu-id="27dd6-529">Log Analytics 會實作為雲端型服務。</span><span class="sxs-lookup"><span data-stu-id="27dd6-529">Log Analytics is implemented as a cloud-based service.</span></span> <span data-ttu-id="27dd6-530">因此，您只需對基礎結構服務進行最基本的投資，就可快速加以啟動並執行。</span><span class="sxs-lookup"><span data-stu-id="27dd6-530">So you have it up and running quickly with minimal investment in infrastructure services.</span></span> <span data-ttu-id="27dd6-531">Log Analytics 也可以整合 System Center 元件 (例如 System Center Operations Manager)，以將現有管理投資延伸到雲端。</span><span class="sxs-lookup"><span data-stu-id="27dd6-531">Log Analytics also integrate with System Center components like System Center Operations Manager to extend your existing management investments into the cloud.</span></span> 

<span data-ttu-id="27dd6-532">Log Analytics 是一項 Azure 服務，可協助收集、相互關聯、搜尋和處理作業系統、應用程式及基礎結構雲端元件所產生的記錄和效能資料。</span><span class="sxs-lookup"><span data-stu-id="27dd6-532">Log Analytics is a service in Azure that helps collect, correlate, search, and act on log and performance data generated by operating systems, applications, and infrastructure cloud components.</span></span> <span data-ttu-id="27dd6-533">它可使用整合式搜尋和自訂儀表板為客戶提供即時的操作深入解析，以分析 VDC 中所有工作負載的所有記錄。</span><span class="sxs-lookup"><span data-stu-id="27dd6-533">It gives customers real-time operational insights by using integrated search and custom dashboards to analyze all the records across all your workloads in the VDC.</span></span>

<span data-ttu-id="27dd6-534">[Azure 網路監看員][NetWatch]提供了相關工具，可對 Azure 虛擬網路中的資源進行監視、診斷、檢視計量，以及啟用或停用記錄。</span><span class="sxs-lookup"><span data-stu-id="27dd6-534">[Azure Network Watcher][NetWatch] provides tools to monitor, diagnose, and view metrics and enable or disable logs for resources in an Azure virtual network.</span></span> <span data-ttu-id="27dd6-535">這是一項多元的服務，可提供下列功能和更多效用：</span><span class="sxs-lookup"><span data-stu-id="27dd6-535">It's a multifaceted service that allows the following functionalities and more:</span></span>
-    <span data-ttu-id="27dd6-536">監視虛擬機器與端點之間的通訊。</span><span class="sxs-lookup"><span data-stu-id="27dd6-536">Monitor communication between a virtual machine and an endpoint.</span></span>
-    <span data-ttu-id="27dd6-537">檢視虛擬網路中的資源及其關聯性。</span><span class="sxs-lookup"><span data-stu-id="27dd6-537">View resources in a virtual network and their relationships.</span></span>
-    <span data-ttu-id="27dd6-538">診斷進出於 VM 的網路流量篩選問題。</span><span class="sxs-lookup"><span data-stu-id="27dd6-538">Diagnose network traffic filtering problems to or from a VM.</span></span>
-    <span data-ttu-id="27dd6-539">診斷來自 VM 的網路路由問題。</span><span class="sxs-lookup"><span data-stu-id="27dd6-539">Diagnose network routing problems from a VM.</span></span>
-    <span data-ttu-id="27dd6-540">診斷來自 VM 的輸出連線。</span><span class="sxs-lookup"><span data-stu-id="27dd6-540">Diagnose outbound connections from a VM.</span></span>
-    <span data-ttu-id="27dd6-541">擷取進出於 VM 的封包。</span><span class="sxs-lookup"><span data-stu-id="27dd6-541">Capture packets to and from a VM.</span></span>
-    <span data-ttu-id="27dd6-542">對 Azure 虛擬網路閘道和連線進行疑難排解。</span><span class="sxs-lookup"><span data-stu-id="27dd6-542">Diagnose problems with an Azure virtual network gateway and connections.</span></span>
-    <span data-ttu-id="27dd6-543">判斷 Azure 區域和網際網路服務提供者之間的相對延遲。</span><span class="sxs-lookup"><span data-stu-id="27dd6-543">Determine relative latencies between Azure regions and internet service providers.</span></span>
-    <span data-ttu-id="27dd6-544">檢視網路介面的安全性規則。</span><span class="sxs-lookup"><span data-stu-id="27dd6-544">View security rules for a network interface.</span></span>
-    <span data-ttu-id="27dd6-545">檢視網路計量。</span><span class="sxs-lookup"><span data-stu-id="27dd6-545">View network metrics.</span></span>
-    <span data-ttu-id="27dd6-546">分析網路安全性群組的輸入或輸出流量。</span><span class="sxs-lookup"><span data-stu-id="27dd6-546">Analyze traffic to or from a network security group.</span></span>
-    <span data-ttu-id="27dd6-547">檢視網路資源的診斷記錄。</span><span class="sxs-lookup"><span data-stu-id="27dd6-547">View diagnostic logs for network resources.</span></span>

<span data-ttu-id="27dd6-548">Operations Management Suite 內部的[網路效能監控][NPM]解決方案可端對端提供詳細的網路資訊。</span><span class="sxs-lookup"><span data-stu-id="27dd6-548">The [Network Performance Monitor][NPM] solution inside Operations Management Suite can provide detailed network information end to end.</span></span> <span data-ttu-id="27dd6-549">這項資訊包括 Azure 網路與內部部署網路的單一檢視。</span><span class="sxs-lookup"><span data-stu-id="27dd6-549">This information includes a single view of your Azure networks and on-premises networks.</span></span> <span data-ttu-id="27dd6-550">此解決方案具有適用於 ExpressRoute 和公用服務的特定監視器。</span><span class="sxs-lookup"><span data-stu-id="27dd6-550">The solution has specific monitors for ExpressRoute and public services.</span></span>

#### <a name="component-type-workloads"></a><span data-ttu-id="27dd6-551">元件類型：工作負載</span><span class="sxs-lookup"><span data-stu-id="27dd6-551">Component type: Workloads</span></span>
<span data-ttu-id="27dd6-552">工作負載元件是實際應用程式和服務所在的位置。</span><span class="sxs-lookup"><span data-stu-id="27dd6-552">Workload components are where your actual applications and services reside.</span></span> <span data-ttu-id="27dd6-553">它們也是您的應用程式開發小組花費最多時間的位置。</span><span class="sxs-lookup"><span data-stu-id="27dd6-553">They're also where your application development teams spend most of their time.</span></span>

<span data-ttu-id="27dd6-554">工作負載有各式各樣的可能性。</span><span class="sxs-lookup"><span data-stu-id="27dd6-554">The workload possibilities are endless.</span></span> <span data-ttu-id="27dd6-555">以下只是一些可能的工作負載類型：</span><span class="sxs-lookup"><span data-stu-id="27dd6-555">The following are just a few of the possible workload types:</span></span>

<span data-ttu-id="27dd6-556">**內部企業營運應用程式**是企業當前的營運不可或缺的電腦應用程式。</span><span class="sxs-lookup"><span data-stu-id="27dd6-556">**Internal line-of-business applications** are computer applications critical to the ongoing operation of an enterprise.</span></span> <span data-ttu-id="27dd6-557">企業營運應用程式具有一些共同特性：</span><span class="sxs-lookup"><span data-stu-id="27dd6-557">Line of business applications have some common characteristics:</span></span>

-   <span data-ttu-id="27dd6-558">**互動**的特質。</span><span class="sxs-lookup"><span data-stu-id="27dd6-558">**Interactive** by nature.</span></span> <span data-ttu-id="27dd6-559">輸入資料後，會傳回結果或報告。</span><span class="sxs-lookup"><span data-stu-id="27dd6-559">Data is entered, and results or reports are returned.</span></span>
-   <span data-ttu-id="27dd6-560">**資料驅動**&mdash;具資料密集性，需頻繁存取資料庫或其他儲存體。</span><span class="sxs-lookup"><span data-stu-id="27dd6-560">**Data driven**&mdash;data intensive with frequent access to databases or other storage.</span></span>
-   <span data-ttu-id="27dd6-561">**整合**&mdash;可與組織內部或外部的其他系統整合。</span><span class="sxs-lookup"><span data-stu-id="27dd6-561">**Integrated**&mdash;offer integration with other systems within or outside the organization.</span></span>

<span data-ttu-id="27dd6-562">**面向客戶的網站 (面向網際網路或內部)**。</span><span class="sxs-lookup"><span data-stu-id="27dd6-562">**Customer-facing websites (internet or internal facing)**.</span></span> <span data-ttu-id="27dd6-563">與網際網路互動的大部分應用程式都是網站。</span><span class="sxs-lookup"><span data-stu-id="27dd6-563">Most applications that interact with the internet are websites.</span></span> <span data-ttu-id="27dd6-564">Azure 提供在 IaaS VM 上或從 [Microsoft Azure App Service 的 Web Apps 功能][WebApps] 站台 (PaaS) 執行網站的功能。</span><span class="sxs-lookup"><span data-stu-id="27dd6-564">Azure offers the ability to run a website on an IaaS VM or from a [Web Apps feature of Microsoft Azure App Service][WebApps] site (PaaS).</span></span> <span data-ttu-id="27dd6-565">Web Apps 支援整合虛擬網路，讓 Web Apps 能夠部署在 VDC 的輪輻中。</span><span class="sxs-lookup"><span data-stu-id="27dd6-565">Web Apps supports integration with virtual networks that allow the deployment of Web Apps in the spoke of the VDC.</span></span> <span data-ttu-id="27dd6-566">整合虛擬網路後，您在查看面向內部的網站時，將不需公開應用程式的網際網路端點。</span><span class="sxs-lookup"><span data-stu-id="27dd6-566">When looking at internal-facing websites, with virtual network integration, you don't need to expose an internet endpoint for your applications.</span></span> <span data-ttu-id="27dd6-567">但您可以改為透過私人的非網際網路可路由位址，從您的私人虛擬網路使用資源。</span><span class="sxs-lookup"><span data-stu-id="27dd6-567">But you can use the resources via private non-internet routable addresses from your private virtual network instead.</span></span>

<span data-ttu-id="27dd6-568">**巨量資料與分析**。</span><span class="sxs-lookup"><span data-stu-id="27dd6-568">**Big data and analytics**.</span></span> <span data-ttu-id="27dd6-569">資料需要相應增加至大量時，資料庫可能無法適當地相應增加。</span><span class="sxs-lookup"><span data-stu-id="27dd6-569">When data needs to scale up to a large volume, databases might not scale up properly.</span></span> <span data-ttu-id="27dd6-570">Apache Hadoop 技術可讓系統對大量節點平行執行分散式查詢。</span><span class="sxs-lookup"><span data-stu-id="27dd6-570">Apache Hadoop technology offers a system to run distributed queries in parallel on a large number of nodes.</span></span> <span data-ttu-id="27dd6-571">客戶可在 IaaS VM 或 PaaS ([Azure HDInsight][HDI]) 中執行資料工作負載。</span><span class="sxs-lookup"><span data-stu-id="27dd6-571">Customers can run data workloads in IaaS VMs or PaaS, [Azure HDInsight][HDI].</span></span> <span data-ttu-id="27dd6-572">HDInsight 支援部署到以位置為基礎的虛擬網路中。</span><span class="sxs-lookup"><span data-stu-id="27dd6-572">HDInsight supports deploying into a location-based virtual network.</span></span> <span data-ttu-id="27dd6-573">它可以部署到 VDC 輪輻中的叢集。</span><span class="sxs-lookup"><span data-stu-id="27dd6-573">It can be deployed to a cluster in a spoke of the VDC.</span></span>

<span data-ttu-id="27dd6-574">**事件和傳訊**。</span><span class="sxs-lookup"><span data-stu-id="27dd6-574">**Events and messaging**.</span></span> <span data-ttu-id="27dd6-575">[Azure 事件中樞][EventHubs]是規模超大的遙測擷取服務，可以收集、轉換及存放數百萬個事件。</span><span class="sxs-lookup"><span data-stu-id="27dd6-575">[Azure Event Hubs][EventHubs] is a hyperscale telemetry-ingestion service that collects, transforms, and stores millions of events.</span></span> <span data-ttu-id="27dd6-576">如同分散式串流平台，它也可提供低延遲和可設定的時間保留。</span><span class="sxs-lookup"><span data-stu-id="27dd6-576">As a distributed streaming platform, it offers low latency and configurable time retention.</span></span> <span data-ttu-id="27dd6-577">因此，您可以將大量遙測資料擷取到 Azure 中，並可從多個應用程式中讀取該資料。</span><span class="sxs-lookup"><span data-stu-id="27dd6-577">So you can ingest massive amounts of telemetry into Azure and read that data from multiple applications.</span></span> <span data-ttu-id="27dd6-578">使用事件中樞，單一串流就可以同時支援即時和批次型管線。</span><span class="sxs-lookup"><span data-stu-id="27dd6-578">With Event Hubs, a single stream can support both real-time and batch-based pipelines.</span></span>

<span data-ttu-id="27dd6-579">您可以透過 [Azure 服務匯流排][ServiceBus]在應用程式與服務之間實作高度可靠的雲端傳訊服務。</span><span class="sxs-lookup"><span data-stu-id="27dd6-579">You can implement a highly reliable cloud messaging service between applications and services through [Azure Service Bus][ServiceBus].</span></span> <span data-ttu-id="27dd6-580">此方法可提供用戶端與伺服器之間的非同步代理傳訊、結構化的先進先出 (FIFO) 傳訊，以及發佈和訂閱功能。</span><span class="sxs-lookup"><span data-stu-id="27dd6-580">It offers asynchronous brokered messaging between client and server, structured first-in-first-out (FIFO) messaging, and publish and subscribe capabilities.</span></span>

<span data-ttu-id="27dd6-581">[![10]][10]</span><span class="sxs-lookup"><span data-stu-id="27dd6-581">[![10]][10]</span></span>

### <a name="multiple-vdc-implementations"></a><span data-ttu-id="27dd6-582">多個 VDC 實作</span><span class="sxs-lookup"><span data-stu-id="27dd6-582">Multiple VDC implementations</span></span>


<span data-ttu-id="27dd6-583">不過，單一 VDC 會裝載在單一區域內。</span><span class="sxs-lookup"><span data-stu-id="27dd6-583">However, a single VDC is hosted within a single region.</span></span> <span data-ttu-id="27dd6-584">它很容易遇到可能全面影響到該區域的嚴重運作中斷。</span><span class="sxs-lookup"><span data-stu-id="27dd6-584">It's vulnerable to a major outage that might affect that entire region.</span></span> <span data-ttu-id="27dd6-585">想要達到高 SLA 的客戶，必須透過在不同區域的兩個 (或更多) VDC 實作中部署相同專案來保護其服務。</span><span class="sxs-lookup"><span data-stu-id="27dd6-585">Customers that want to achieve high SLAs need to protect their services through deployments of the same project in two or more VDC implementations, placed in different regions.</span></span>

<span data-ttu-id="27dd6-586">除了 SLA 考量外，在若干常見的案例中，部署多個 VDC 實作也可發揮效益：</span><span class="sxs-lookup"><span data-stu-id="27dd6-586">In addition to SLA concerns, there are several common scenarios where deploying multiple VDC implementations makes sense:</span></span>

-   <span data-ttu-id="27dd6-587">區域性或遍及各區。</span><span class="sxs-lookup"><span data-stu-id="27dd6-587">Regional or global presence.</span></span>
-   <span data-ttu-id="27dd6-588">災害復原。</span><span class="sxs-lookup"><span data-stu-id="27dd6-588">Disaster recovery.</span></span>
-   <span data-ttu-id="27dd6-589">在資料中心之間轉向流量的機制。</span><span class="sxs-lookup"><span data-stu-id="27dd6-589">A mechanism to divert traffic between datacenters.</span></span>

#### <a name="regional-and-global-presence"></a><span data-ttu-id="27dd6-590">區域性和遍及各區</span><span class="sxs-lookup"><span data-stu-id="27dd6-590">Regional and global presence</span></span>
<span data-ttu-id="27dd6-591">Azure 資料中心存在於全球的許多區域中。</span><span class="sxs-lookup"><span data-stu-id="27dd6-591">Azure datacenters are present in many regions worldwide.</span></span> <span data-ttu-id="27dd6-592">選取多個 Azure 資料中心時，客戶需要考慮兩個相關因素：地理距離和延遲。</span><span class="sxs-lookup"><span data-stu-id="27dd6-592">When they select multiple Azure datacenters, customers need to consider two related factors: geographical distances and latency.</span></span> <span data-ttu-id="27dd6-593">為了提供最理想的使用者體驗，客戶必須評估 VDC 實作之間的地理距離，以及 VDC 實作與使用者之間的距離。</span><span class="sxs-lookup"><span data-stu-id="27dd6-593">To offer the best user experience, customers need to evaluate the geographical distance between the VDC implementations and the distance between the VDC implementations and the end users.</span></span>

<span data-ttu-id="27dd6-594">VDC 實作裝載所在的 Azure 區域也需要符合您的組織運作所在的任何法律轄區所建立的法規需求。</span><span class="sxs-lookup"><span data-stu-id="27dd6-594">The Azure region where VDC implementations are hosted also needs to conform with regulatory requirements established by any legal jurisdiction under which your organization operates.</span></span>

#### <a name="disaster-recovery"></a><span data-ttu-id="27dd6-595">災害復原</span><span class="sxs-lookup"><span data-stu-id="27dd6-595">Disaster recovery</span></span>
<span data-ttu-id="27dd6-596">災害復原計劃的實作與相關的工作負載類型有關，同時也牽涉到在不同 VDC 實作之間同步工作負載狀態的功能。</span><span class="sxs-lookup"><span data-stu-id="27dd6-596">The implementation of a disaster recovery plan is related to the type of workload concerned and the ability to synchronize the workload state between different VDC implementations.</span></span> <span data-ttu-id="27dd6-597">在理想情況下，大部分客戶會想要在執行於兩個不同 VDC 實作中的部署之間同步應用程式資料，以實作快速容錯移轉機制。</span><span class="sxs-lookup"><span data-stu-id="27dd6-597">Ideally, most customers want to synchronize application data between deployments that run in two different VDC implementations to implement a fast fail-over mechanism.</span></span> <span data-ttu-id="27dd6-598">大部分的應用程式都很容易延遲，因而導致潛在的資料同步逾時和延遲。</span><span class="sxs-lookup"><span data-stu-id="27dd6-598">Most applications are sensitive to latency, and that can cause potential timeout and delay in data synchronization.</span></span>

<span data-ttu-id="27dd6-599">不同 VDC 實作中的應用程式同步或活動訊號監視，需要實作之間的通訊。</span><span class="sxs-lookup"><span data-stu-id="27dd6-599">Synchronization or heartbeat monitoring of applications in different VDC implementations requires communication between them.</span></span> <span data-ttu-id="27dd6-600">不同區域中的兩個 VDC 實作可透過下列方式連線：</span><span class="sxs-lookup"><span data-stu-id="27dd6-600">Two VDC implementations in different regions can be connected as follows:</span></span>

-   <span data-ttu-id="27dd6-601">虛擬網路對等互連可跨區域連線各個中樞。</span><span class="sxs-lookup"><span data-stu-id="27dd6-601">Virtual network peering can connect hubs across regions.</span></span>
-   <span data-ttu-id="27dd6-602">VDC 中樞連線到相同 ExpressRoute 線路時的 ExpressRoute 私人對等互連。</span><span class="sxs-lookup"><span data-stu-id="27dd6-602">ExpressRoute private peering when the VDC hubs are connected to the same ExpressRoute circuit.</span></span>
-   <span data-ttu-id="27dd6-603">透過公司骨幹所連線的多個 ExpressRoute 線路以及連線至 ExpressRoute 線路的 VDC 網格。</span><span class="sxs-lookup"><span data-stu-id="27dd6-603">Multiple ExpressRoute circuits connected via your corporate backbone and your VDC mesh connected to the ExpressRoute circuits.</span></span>
-   <span data-ttu-id="27dd6-604">每個 Azure 區域中的 VDC 中樞之間的站對站 VPN 連線。</span><span class="sxs-lookup"><span data-stu-id="27dd6-604">Site-to-site VPN connections between your VDC hubs in each Azure region.</span></span>

<span data-ttu-id="27dd6-605">通常，由於透過 Microsoft 骨幹傳輸時的頻寬較高且延遲具一致性，虛擬網路對等互連或 ExpressRoute 連線會是慣用的機制。</span><span class="sxs-lookup"><span data-stu-id="27dd6-605">Usually, virtual network peering or ExpressRoute connections are the preferred mechanism because of higher bandwidth and consistent latency when transiting through the Microsoft backbone.</span></span>

<span data-ttu-id="27dd6-606">沒有任何捷徑可輕易驗證分散於不同區域的兩個 (或更多) 不同 VDC 實作之間的應用程式。</span><span class="sxs-lookup"><span data-stu-id="27dd6-606">There's no magic recipe to validate an application distributed between two or more different VDC implementations located in different regions.</span></span> <span data-ttu-id="27dd6-607">客戶應執行網路資格測試來驗證連線的延遲和頻寬。</span><span class="sxs-lookup"><span data-stu-id="27dd6-607">Customers should run network qualification tests to verify the latency and bandwidth of the connections.</span></span> <span data-ttu-id="27dd6-608">然後，應釐清同步還是非同步資料複寫較為合用，以及工作負載的最佳復原時間目標 (RTO)。</span><span class="sxs-lookup"><span data-stu-id="27dd6-608">Then target whether synchronous or asynchronous data replication is appropriate and what the optimal recovery time objective (RTO) can be for your workloads.</span></span>

#### <a name="mechanism-to-divert-traffic-between-datacenters"></a><span data-ttu-id="27dd6-609">在資料中心之間轉向流量的機制</span><span class="sxs-lookup"><span data-stu-id="27dd6-609">Mechanism to divert traffic between datacenters</span></span>
<span data-ttu-id="27dd6-610">將傳入某個資料中心的流量轉向到另一個資料中心的有效技巧之一，是以 DNS 為基礎。</span><span class="sxs-lookup"><span data-stu-id="27dd6-610">One effective technique to divert the traffic incoming in one datacenter to another is based on the Domain Name System (DNS).</span></span> <span data-ttu-id="27dd6-611">[Azure 流量管理員][TM]會使用 DNS 機制，將使用者流量導向至特定 VDC 中最適合的公用端點。</span><span class="sxs-lookup"><span data-stu-id="27dd6-611">[Azure Traffic Manager][TM] uses the DNS mechanism to direct end-user traffic to the most appropriate public endpoint in a specific VDC.</span></span> <span data-ttu-id="27dd6-612">透過探查，流量管理員會定期在不同 VDC 實作中檢查公用端點的服務健康情況。</span><span class="sxs-lookup"><span data-stu-id="27dd6-612">Through probes, Traffic Manager periodically checks the service health of public endpoints in different VDC implementations.</span></span> <span data-ttu-id="27dd6-613">如果這些端點失敗，則會自動路由至次要 VDC。</span><span class="sxs-lookup"><span data-stu-id="27dd6-613">If those endpoints fail, it routes automatically to the secondary VDC.</span></span>

<span data-ttu-id="27dd6-614">流量管理員可在 Azure 公用端點上運作。</span><span class="sxs-lookup"><span data-stu-id="27dd6-614">Traffic Manager works on Azure public endpoints.</span></span> <span data-ttu-id="27dd6-615">例如，它可控制流量，或將流量轉向到適當 VDC 中的 Azure VM 和 Web Apps。</span><span class="sxs-lookup"><span data-stu-id="27dd6-615">For example, it can control or divert traffic to Azure VMs and Web Apps in the appropriate VDC.</span></span> <span data-ttu-id="27dd6-616">即使遇到整個 Azure 區域失敗的狀況，流量管理員也有能力復原。</span><span class="sxs-lookup"><span data-stu-id="27dd6-616">Traffic Manager is resilient even in the face of an entire Azure region failing.</span></span> <span data-ttu-id="27dd6-617">它可根據數個條件，控制如何將使用者流量分散到不同 VDC 實作中的服務端點。</span><span class="sxs-lookup"><span data-stu-id="27dd6-617">It can control the distribution of user traffic for service endpoints in different VDC implementations based on several criteria.</span></span> <span data-ttu-id="27dd6-618">例如，特定 VDC 中的服務失敗，或為用戶端選取具有最低網路延遲的 VDC。</span><span class="sxs-lookup"><span data-stu-id="27dd6-618">Examples are service failure in a specific VDC or selecting the VDC with the lowest network latency for the client.</span></span>

### <a name="conclusion"></a><span data-ttu-id="27dd6-619">結論</span><span class="sxs-lookup"><span data-stu-id="27dd6-619">Conclusion</span></span>
<span data-ttu-id="27dd6-620">虛擬資料中心是將資料中心移轉至雲端的方法，藉以搭配使用不同的功能在 Azure 中建立可擴充架構。</span><span class="sxs-lookup"><span data-stu-id="27dd6-620">The virtual datacenter is an approach to datacenter migration into the cloud that uses a combination of features and capabilities to create a scalable architecture in Azure.</span></span> <span data-ttu-id="27dd6-621">它可最大化雲端資源使用效能、降低成本，並簡化系統控管工作。</span><span class="sxs-lookup"><span data-stu-id="27dd6-621">It maximizes cloud resource use, reduces costs, and simplifies system governance.</span></span> <span data-ttu-id="27dd6-622">VDC 概念以中樞輪輻拓撲為基礎，此拓撲可在中樞內提供通用的共用服務。</span><span class="sxs-lookup"><span data-stu-id="27dd6-622">The VDC concept is based on a hub-spokes topology that provides common shared services in the hub.</span></span> <span data-ttu-id="27dd6-623">它允許輪輻中的特定應用程式或工作負載。</span><span class="sxs-lookup"><span data-stu-id="27dd6-623">It allows specific applications or workloads in the spokes.</span></span> <span data-ttu-id="27dd6-624">VDC 符合不同部門互相合作的公司角色結構。</span><span class="sxs-lookup"><span data-stu-id="27dd6-624">The VDC matches the structure of company roles, where different departments work together.</span></span> <span data-ttu-id="27dd6-625">例如，中央 IT、Azure DevOps，以及運作與維護。</span><span class="sxs-lookup"><span data-stu-id="27dd6-625">Examples are the central IT, Azure DevOps, and operations and maintenance.</span></span> <span data-ttu-id="27dd6-626">每個部門都有特定的角色和職責清單。</span><span class="sxs-lookup"><span data-stu-id="27dd6-626">Each department has a specific list of roles and duties.</span></span> <span data-ttu-id="27dd6-627">VDC 概念可滿足**隨即轉移**的需求。</span><span class="sxs-lookup"><span data-stu-id="27dd6-627">The VDC concept satisfies the requirements for a **lift and shift** migration.</span></span> <span data-ttu-id="27dd6-628">但它也可為原生雲端部署帶來許多效益。</span><span class="sxs-lookup"><span data-stu-id="27dd6-628">But it also provides many advantages to native cloud deployments.</span></span>

## <a name="references"></a><span data-ttu-id="27dd6-629">參考</span><span class="sxs-lookup"><span data-stu-id="27dd6-629">References</span></span>
<span data-ttu-id="27dd6-630">深入了解本文中討論的下列功能：</span><span class="sxs-lookup"><span data-stu-id="27dd6-630">Learn more about the following features discussed in this article:</span></span>

| | | |
|-|-|-|
|<span data-ttu-id="27dd6-631">網路功能</span><span class="sxs-lookup"><span data-stu-id="27dd6-631">Network features</span></span>|<span data-ttu-id="27dd6-632">負載平衡</span><span class="sxs-lookup"><span data-stu-id="27dd6-632">Load balancing</span></span>|<span data-ttu-id="27dd6-633">連線能力</span><span class="sxs-lookup"><span data-stu-id="27dd6-633">Connectivity</span></span>|
|<span data-ttu-id="27dd6-634">[Azure 虛擬網路][VNet]</span><span class="sxs-lookup"><span data-stu-id="27dd6-634">[Azure Virtual Network][VNet]</span></span></br><span data-ttu-id="27dd6-635">[網路安全性群組][NSG]</span><span class="sxs-lookup"><span data-stu-id="27dd6-635">[Network security groups][NSG]</span></span></br><span data-ttu-id="27dd6-636">[NSG 記錄][NSGLog]</span><span class="sxs-lookup"><span data-stu-id="27dd6-636">[NSG logs][NSGLog]</span></span></br><span data-ttu-id="27dd6-637">[使用者定義的路由][UDR]</span><span class="sxs-lookup"><span data-stu-id="27dd6-637">[User-defined routes][UDR]</span></span></br><span data-ttu-id="27dd6-638">[網路虛擬設備][NVA]</span><span class="sxs-lookup"><span data-stu-id="27dd6-638">[Network virtual appliances][NVA]</span></span></br><span data-ttu-id="27dd6-639">[公用 IP 位址][PIP]</span><span class="sxs-lookup"><span data-stu-id="27dd6-639">[Public IP addresses][PIP]</span></span></br><span data-ttu-id="27dd6-640">[Azure DDoS 保護][DDOS]</span><span class="sxs-lookup"><span data-stu-id="27dd6-640">[Azure DDoS Protection][DDOS]</span></span></br><span data-ttu-id="27dd6-641">[Azure 防火牆][AzFW]</span><span class="sxs-lookup"><span data-stu-id="27dd6-641">[Azure Firewall][AzFW]</span></span></br><span data-ttu-id="27dd6-642">[Azure DNS][DNS]</span><span class="sxs-lookup"><span data-stu-id="27dd6-642">[Azure DNS][DNS]</span></span>|<span data-ttu-id="27dd6-643">[Azure Front Door][AFD]</span><span class="sxs-lookup"><span data-stu-id="27dd6-643">[Azure Front Door][AFD]</span></span></br><span data-ttu-id="27dd6-644">[Azure Load Balancer (L3)][ALB]</span><span class="sxs-lookup"><span data-stu-id="27dd6-644">[Azure Load Balancer (L3)][ALB]</span></span></br><span data-ttu-id="27dd6-645">[應用程式閘道 (L7)][AppGW]</span><span class="sxs-lookup"><span data-stu-id="27dd6-645">[Application Gateway (L7)][AppGW]</span></span></br><span data-ttu-id="27dd6-646">[Web 應用程式防火牆][WAF]</span><span class="sxs-lookup"><span data-stu-id="27dd6-646">[Web application firewall][WAF]</span></span></br><span data-ttu-id="27dd6-647">[Azure 流量管理員][TM]</span><span class="sxs-lookup"><span data-stu-id="27dd6-647">[Azure Traffic Manager][TM]</span></span></br></br></br></br></br> |<span data-ttu-id="27dd6-648">[虛擬網路對等互連][VNetPeering]</span><span class="sxs-lookup"><span data-stu-id="27dd6-648">[Virtual network peering][VNetPeering]</span></span></br><span data-ttu-id="27dd6-649">[虛擬私人網路][VPN]</span><span class="sxs-lookup"><span data-stu-id="27dd6-649">[Virtual private network][VPN]</span></span></br><span data-ttu-id="27dd6-650">[虛擬 WAN][vWAN]</span><span class="sxs-lookup"><span data-stu-id="27dd6-650">[Virtual WAN][vWAN]</span></span></br><span data-ttu-id="27dd6-651">[ExpressRoute][ExR]</span><span class="sxs-lookup"><span data-stu-id="27dd6-651">[ExpressRoute][ExR]</span></span></br><span data-ttu-id="27dd6-652">[ExpressRoute Direct][ExRD]</span><span class="sxs-lookup"><span data-stu-id="27dd6-652">[ExpressRoute Direct][ExRD]</span></span></br></br></br></br></br>
|<span data-ttu-id="27dd6-653">身分識別</span><span class="sxs-lookup"><span data-stu-id="27dd6-653">Identity</span></span></br>|<span data-ttu-id="27dd6-654">監視</span><span class="sxs-lookup"><span data-stu-id="27dd6-654">Monitoring</span></span></br>|<span data-ttu-id="27dd6-655">最佳作法</span><span class="sxs-lookup"><span data-stu-id="27dd6-655">Best practices</span></span></br>|
|<span data-ttu-id="27dd6-656">[Azure Active Directory][AAD]</span><span class="sxs-lookup"><span data-stu-id="27dd6-656">[Azure Active Directory][AAD]</span></span></br><span data-ttu-id="27dd6-657">[Multi-Factor Authentication][MFA]</span><span class="sxs-lookup"><span data-stu-id="27dd6-657">[Multi-Factor Authentication][MFA]</span></span></br><span data-ttu-id="27dd6-658">[角色型存取控制][RBAC]</span><span class="sxs-lookup"><span data-stu-id="27dd6-658">[Role-based access control][RBAC]</span></span></br><span data-ttu-id="27dd6-659">[預設 Azure AD 角色][Roles]</span><span class="sxs-lookup"><span data-stu-id="27dd6-659">[Default Azure AD roles][Roles]</span></span></br></br></br> |<span data-ttu-id="27dd6-660">[網路監看員][NetWatch]</span><span class="sxs-lookup"><span data-stu-id="27dd6-660">[Network Watcher][NetWatch]</span></span></br><span data-ttu-id="27dd6-661">[Azure 監視器][Monitor]</span><span class="sxs-lookup"><span data-stu-id="27dd6-661">[Azure Monitor][Monitor]</span></span></br><span data-ttu-id="27dd6-662">[活動記錄][ActLog]</span><span class="sxs-lookup"><span data-stu-id="27dd6-662">[Activity Log][ActLog]</span></span></br><span data-ttu-id="27dd6-663">[監視器診斷記錄][DiagLog]</span><span class="sxs-lookup"><span data-stu-id="27dd6-663">[Monitor diagnostic logs][DiagLog]</span></span></br><span data-ttu-id="27dd6-664">[Microsoft Operations Management Suite][OMS]</span><span class="sxs-lookup"><span data-stu-id="27dd6-664">[Microsoft Operations Management Suite][OMS]</span></span></br><span data-ttu-id="27dd6-665">[網路效能監視器][NPM]</span><span class="sxs-lookup"><span data-stu-id="27dd6-665">[Network Performance Monitor][NPM]</span></span>|<span data-ttu-id="27dd6-666">[周邊網路最佳做法][DMZ]</span><span class="sxs-lookup"><span data-stu-id="27dd6-666">[Perimeter network best practices][DMZ]</span></span></br><span data-ttu-id="27dd6-667">[訂用帳戶管理][SubMgmt]</span><span class="sxs-lookup"><span data-stu-id="27dd6-667">[Subscription management][SubMgmt]</span></span></br><span data-ttu-id="27dd6-668">[資源群組管理][RGMgmt]</span><span class="sxs-lookup"><span data-stu-id="27dd6-668">[Resource group management][RGMgmt]</span></span></br><span data-ttu-id="27dd6-669">[Azure 訂用帳戶限制][Limits]</span><span class="sxs-lookup"><span data-stu-id="27dd6-669">[Azure subscription limits][Limits]</span></span> </br></br></br>|
|<span data-ttu-id="27dd6-670">其他 Azure 服務</span><span class="sxs-lookup"><span data-stu-id="27dd6-670">Other Azure services</span></span>|
|<span data-ttu-id="27dd6-671">[Web Apps][WebApps]</span><span class="sxs-lookup"><span data-stu-id="27dd6-671">[Web Apps][WebApps]</span></span></br><span data-ttu-id="27dd6-672">[HDInsight (Hadoop)][HDI]</span><span class="sxs-lookup"><span data-stu-id="27dd6-672">[HDInsight (Hadoop)][HDI]</span></span></br><span data-ttu-id="27dd6-673">[事件中樞][EventHubs]</span><span class="sxs-lookup"><span data-stu-id="27dd6-673">[Event Hubs][EventHubs]</span></span></br><span data-ttu-id="27dd6-674">[服務匯流排][ServiceBus]</span><span class="sxs-lookup"><span data-stu-id="27dd6-674">[Service Bus][ServiceBus]</span></span>|

## <a name="next-steps"></a><span data-ttu-id="27dd6-675">後續步驟</span><span class="sxs-lookup"><span data-stu-id="27dd6-675">Next steps</span></span>
 - <span data-ttu-id="27dd6-676">探索[虛擬網路對等互連][VNetPeering]，此為 VDC 中樞和輪輻設計的基礎技術。</span><span class="sxs-lookup"><span data-stu-id="27dd6-676">Explore [virtual network peering][VNetPeering], the underpinning technology for VDC hub and spoke designs.</span></span>
 - <span data-ttu-id="27dd6-677">實作 [Azure AD][AAD] 以開始進行 [RBAC][RBAC] 探索。</span><span class="sxs-lookup"><span data-stu-id="27dd6-677">Implement [Azure AD][AAD] to get started with [RBAC][RBAC] exploration.</span></span>
 - <span data-ttu-id="27dd6-678">開發訂用帳戶和資源管理模型與 RBAC 模型，以符合組織的結構、需求和原則。</span><span class="sxs-lookup"><span data-stu-id="27dd6-678">Develop a subscription and resource management model and an RBAC model to meet the structure, requirements, and policies of your organization.</span></span> <span data-ttu-id="27dd6-679">正在規劃最重要的活動。</span><span class="sxs-lookup"><span data-stu-id="27dd6-679">The most important activity is planning.</span></span> <span data-ttu-id="27dd6-680">請盡可能務實地規劃重組、合併、新的產品線和其他可能性。</span><span class="sxs-lookup"><span data-stu-id="27dd6-680">As much as practical, plan for reorganizations, mergers, new product lines, and other possibilities.</span></span>

<!--Image References-->
[0]: ./images/networking-redundant-equipment.png "元件重疊範例" 
[1]: ./images/networking-vdc-high-level.png "高階中樞和支點 VDC 範例"
[2]: ./images/networking-hub-spokes-cluster.png "中樞和支點叢集"
[3]: ./images/networking-spoke-to-spoke.png "支點對支點"
[4]: ./images/networking-vdc-block-level-diagram.png "VDC 的區塊層級圖"
[5]: ./images/networking-users-groups-subsciptions.png "使用者、群組、訂用帳戶和專案"
[6]: ./images/networking-infrastructure-high-level.png "高階基礎結構圖"
[7]: ./images/networking-highlevel-perimeter-networks.png "高階基礎結構圖"
[8]: ./images/networking-vnet-peering-perimeter-neworks.png "VNet 對等和周邊網路"
[9]: ./images/networking-high-level-diagram-monitoring.png "高階監視圖"
[10]: ./images/networking-high-level-workloads.png "高階工作負載圖"

<!--Link References-->
[Limits]: /azure/azure-subscription-service-limits
[Roles]: /azure/role-based-access-control/built-in-roles
[VNet]: /azure/virtual-network/virtual-networks-overview
[NSG]: /azure/virtual-network/virtual-networks-nsg
[DNS]: /azure/dns/dns-overview
[PrivateDNS]: /azure/dns/private-dns-overview
[VNetPeering]: /azure/virtual-network/virtual-network-peering-overview 
[UDR]: /azure/virtual-network/virtual-networks-udr-overview 
[RBAC]: /azure/role-based-access-control/overview
[MFA]: /azure/multi-factor-authentication/multi-factor-authentication
[AAD]: /azure/active-directory/active-directory-whatis
[VPN]: /azure/vpn-gateway/vpn-gateway-about-vpngateways 
[ExR]: /azure/expressroute/expressroute-introduction
[ExRD]: https://docs.microsoft.com/en-us/azure/expressroute/expressroute-erdirect-about
[vWAN]: /azure/virtual-wan/virtual-wan-about
[NVA]: /azure/architecture/reference-architectures/dmz/nva-ha
[AzFW]: /azure/firewall/overview
[SubMgmt]: /azure/architecture/cloud-adoption/appendix/azure-scaffold 
[RGMgmt]: /azure/azure-resource-manager/resource-group-overview
[DMZ]: /azure/best-practices-network-security
[ALB]: /azure/load-balancer/load-balancer-overview
[DDOS]: /azure/virtual-network/ddos-protection-overview
[PIP]: /azure/virtual-network/resource-groups-networking#public-ip-address
[AFD]: https://docs.microsoft.com/en-us/azure/frontdoor/front-door-overview
[AppGW]: /azure/application-gateway/application-gateway-introduction
[WAF]: /azure/application-gateway/application-gateway-web-application-firewall-overview
[Monitor]: /azure/monitoring-and-diagnostics/
[ActLog]: /azure/monitoring-and-diagnostics/monitoring-overview-activity-logs 
[DiagLog]: /azure/monitoring-and-diagnostics/monitoring-overview-of-diagnostic-logs
[NSGLog]: /azure/virtual-network/virtual-network-nsg-manage-log
[OMS]: /azure/operations-management-suite/operations-management-suite-overview
[NPM]: /azure/log-analytics/log-analytics-network-performance-monitor
[NetWatch]: /azure/network-watcher/network-watcher-monitoring-overview
[WebApps]: /azure/app-service/
[HDI]: /azure/hdinsight/hdinsight-hadoop-introduction
[EventHubs]: /azure/event-hubs/event-hubs-what-is-event-hubs 
[ServiceBus]: /azure/service-bus-messaging/service-bus-messaging-overview
[TM]: /azure/traffic-manager/traffic-manager-overview

